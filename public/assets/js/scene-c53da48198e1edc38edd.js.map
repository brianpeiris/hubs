{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/utils/threejs-world-update.js","webpack:///./src/components/scene-components.js","webpack:///./src/components/ambient-light.js","webpack:///./src/components/css-class.js","webpack:///./src/components/directional-light.js","webpack:///./src/utils/resizeShadowCameraFrustum.js","webpack:///./src/components/duck.js","webpack:///./src/components/heightfield.js","webpack:///./src/components/hemisphere-light.js","webpack:///./src/components/hide-when-quality.js","webpack:///./src/components/media-loader.js","webpack:///./src/assets/LoadingObject_Atom.glb","webpack:///./src/components/point-light.js","webpack:///./src/components/quack.js","webpack:///./src/components/scene-preview-camera.js","webpack:///./src/components/skybox.js","webpack:///./src/utils/phoenix-utils.js","webpack:///./src/components/spawn-controller.js","webpack:///./src/components/spot-light.js","webpack:///./src/components/sticky-object.js","webpack:///./src/components/super-spawner.js","webpack:///./src/utils/async-utils.js","webpack:///./src/components/water.js","webpack:///./src/components/debug.js","webpack:///./src/utils/three-utils.js","webpack:///./src/assets/images/hub-preview-white.png","webpack:///./src/systems/nav.js","webpack:///./src/components/event-repeater.js","webpack:///./src/components/controls-shape-offset.js","webpack:///./src/telemetry.js","webpack:///./src/utils/i18n.js","webpack:///./src/object-types.js","webpack:///./src/assets/avatars/avatars.js","webpack:///./src/utils/next-tick.js","webpack:///./src/storage/store.js","webpack:///./src/systems/userinput/paths.js","webpack:///./src/components/gltf-model-plus.js","webpack:///./src/utils/scene-graph.js","webpack:///./src/utils/identity.js","webpack:///./src/utils/qs_truthy.js","webpack:///./src/react-components/wrap-with-audio.js","webpack:///./src/scene.js","webpack:///./src/react-components/scene-ui.js","webpack:///./src/assets/images/twitter.svg","webpack:///./src/assets/images/spoke_logo_black.png","webpack:///./src/utils/webgl.js","webpack:///./src/components/animation-mixer.js","webpack:///./src/components/audio-feedback.js","webpack:///./src/materials/MobileStandardMaterial.js","webpack:///./src/assets/images/cubemap/posx.jpg","webpack:///./src/assets/images/cubemap/negx.jpg","webpack:///./src/assets/images/cubemap/posy.jpg","webpack:///./src/assets/images/cubemap/negy.jpg","webpack:///./src/assets/images/cubemap/posz.jpg","webpack:///./src/assets/images/cubemap/negz.jpg","webpack:///./src/utils/media-highlight-frag.glsl","webpack:///./src/assets/stylesheets/scene-ui.scss","webpack:///./src/components/layers.js","webpack:///./src/components/loop-animation.js","webpack:///./src/utils/disable-ios-zoom.js","webpack:///./src/gltf-component-mappings.js","webpack:///./src/App.js","webpack:///./src/utils/animation.js","webpack:///./src/react-components/dialog-container.js","webpack:///./src/utils/auto-box-collider.js","webpack:///./src/components/hand-controls2.js","webpack:///./src/utils/media-utils.js","webpack:///./src/utils/name-generation.js","webpack:///./src/react-components/create-room-dialog.js","webpack:///./src/utils/logging.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","4","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","zeroPos","THREE","Vector3","zeroQuat","Quaternion","oneScale","identity","Matrix4","bindingSetters","PropertyBinding","SetterByBindingTypeAndVersioning","Versioning","setter","MatrixWorldNeedsUpdate","v","this","arguments","targetObject","matrixNeedsUpdate","Object3D","getWorldPosition","target","undefined","console","warn","updateMatrices","setFromMatrixPosition","matrixWorld","getWorldQuaternion","position","scale","decompose","getWorldScale","quaternion","handleMatrixModification","matrixIsModified","cachedMatrixWorld","copy","updateMatrix","applyMatrix","forceLocalUpdate","forceWorldUpdate","skipParents","hasHadFirstMatrixUpdate","matrixAutoUpdate","equals","matrix","matrixWorldNeedsUpdate","parent","childrenNeedMatrixWorldUpdate","multiplyMatrices","updateMatrixWorld","includeInvisible","visible","children","forceChildrenWorldUpdate","AFRAME","registerComponent","schema","color","type","intensity","default","init","el","light","AmbientLight","setObject3D","sceneEl","systems","registerLight","update","prevData","set","remove","removeObject3D","multiple","classList","add","oldData","_resizeShadowCameraFrustum","castShadow","shadowMapResolution","DirectionalLight","width","height","prevWidth","prevHeight","shadow","mapSize","map","dispose","tick","APP","quality","_resizeShadowCameraFrustum2","object3D","scene","frustumBox","makeEmpty","boundingBox","traverse","node","geometry","computeBoundingBox","tempBox","applyMatrix4","union","min","max","verts","x","y","z","inverseLightMatrixWorld","getInverse","camera","expandByPoint","left","FRUSTUM_PADDING","right","bottom","top","near","NEAR_CLIPPING_PLANE","far","FAR_CLIPPING_PLANE","updateProjectionMatrix","Box3","initialForce","maxForce","maxScale","physicsSystem","physics","hasBody","CANNON","Vec3","force","initialScale","play","addComponent","pause","removeComponent","beforeStep","body","NAF","utils","isMine","currentScale","ratio","Math","angle","random","PI","cos","sin","applyForce","addEventListener","e","detail","generateAndAddHeightfield","components","setAttribute","shape","mass","offset","distance","orientation","setFromAxisAngle","rotation","mult","cannonOffset","Heightfield","elementSize","addShape","skyColor","groundColor","HemisphereLight","onQualityChanged","event","updateComponentState","_autoBoxCollider","_mediaUtils","_animation","_LoadingObject_Atom","gltfLoader","GLTFLoader","loadingObject","load","loadingObjectSrc","gltf","fileId","fileIsOwned","src","resize","resolve","contentType","mediaOptions","parse","JSON","stringify","onError","showLoader","clearLoadingTimeout","onMediaLoaded","shapeAdded","hasBakedShapes","setShapeAndScale","mesh","getObject3D","box","getBox","scaleCoefficient","getScaleCoefficient","object3DMap","multiplyScalar","shapes","removeAttribute","isEmpty","center","halfExtents","abs","addVectors","sub","dt","loaderMixer","clearTimeout","showLoaderTimeout","useFancyLoader","clone","Mesh","BoxGeometry","MeshBasicMaterial","AnimationMixer","loadingClip","clipAction","animations","stop","setupHoverableVisuals","hoverableVisuals","uniforms","injectCustomShaderChunks","setFromObject","getBoundingSphere","boundingSphere","[object Object]","setTimeout","canonicalUrl","accessibleUrl","resolveUrl","origin","meta","expected_content_type","proxiedUrlFor","guessContentType","url","fetch","method","then","headers","fetchContentType","emit","raw","startsWith","once","assign","dirs","includes","Error","addAnimationComponents","inflate","modelToWorldScale","error","index","toolbar","imageSrc","onNext","onPrev","async","_ensureUI","maxIndex","parseInt","fetchMaxContentIndex","template","document","getElementById","querySelector","appendChild","importNode","content","nextButton","prevButton","pageLabel","pageSrc","repositionToolbar","parentNode","removeChild","getAttribute","range","PointLight","decay","quackPercentage","specialQuackPercentage","_handleGrabStart","removeEventListener","rand","lerp","start","end","duration","positionOnly","startPoint","startRotation","setFromEuler","targetPoint","targetRotDelta","Euler","targetRotation","premultiply","startTime","Date","getTime","backwards","ranOnePass","from","to","fromRot","toRot","newRot","slerp","setFromQuaternion","Sky","shader","SkyShader","material","ShaderMaterial","fragmentShader","vertexShader","UniformsUtils","side","BackSide","BoxBufferGeometry","constructor","luminance","turbidity","rayleigh","mieCoefficient","mieDirectionalG","sunPosition","join","inclination","azimuth","sky","theta","phi","normalize","connectToReticulum","debug","qs","URLSearchParams","location","search","socketProtocol","protocol","socketHost","socketPort","retHost","retPort","split","socketUrl","log","socketSettings","params","session_id","_v2","logger","kind","msg","socket","Socket","connect","getReticulumFetchUrl","getLandingPageForPhoto","photoUrl","parsedUrl","URL","pathname","replace","_v","_phoenix","createElement","path","absolute","_threeUtils","loadedEvent","onLoad","spawnPoints","querySelectorAll","spawnPointIndex","round","spawnPoint","getLastWorldPosition","innerConeAngle","outerConeAngle","SpotLight","penumbra","dependencies","autoLockOnLoad","autoLockOnRelease","autoLockSpeedLimit","_onGrab","_onRelease","_onBodyLoaded","hasSetupBodyLoaded","setLocked","locked","networked","is","velocity","lengthSquared","collisionResponse","grabbable","maxGrabbers","stuckTo","_unstickObject","worldQuaternion","worldPosition","getLastWorldQuaternion","dir","applyQuaternion","bootImpulsePosition","bootImpulse","_onCollisions","els","forEach","stickyObject","_setStuckObject","stuckObject","clearedEls","applyImpulse","_paths","_asyncUtils","_objectTypes","nextGrabId","useCustomSpawnPosition","spawnPosition","useCustomSpawnRotation","spawnRotation","useCustomSpawnScale","spawnScale","grabEvents","releaseEvents","spawnCooldown","centerSpawnedObject","spawnEvent","superHand","cursorSuperHand","heldEntities","Map","cooldownTimeout","onGrabStart","onGrabEnd","onSpawnEvent","cursorController","enableSweepingEffect","clear","userinput","scenes","leftPose","paths","actions","leftHand","pose","rightPose","rightHand","controllerCount","using6DOF","hand","entity","addMedia","ObjectContentOrigins","SPAWNER","activateCooldown","waitForEvent","targetEntity","preventDefault","thisGrabId","delete","eventName","eventObj","Promise","_layers","MobileWater","options","time","normalSampler","waterNormals","sunDirection","sunColor","Color","waterColor","eye","distortionScale","FrontSide","fog","mirrorShader","merge","UniformsLib","size","ShaderChunk","transparent","lights","Water","speed","forceMobile","normalMap","waterMesh","waterGeometry","Texture","wrapS","wrapT","RepeatWrapping","needsUpdate","waterConfig","textureWidth","textureHeight","device","isMobile","water","mirrorCamera","layers","Layers","reflection","setStyle","origDispatch","dispatchEvent","Array","firstObject","info","id","k","tempVector3","getLastWorldScale","tempQuaternion","Pathfinding","registerSystem","pathfinder","loadMesh","zone","Geometry","fromBufferGeometry","setZoneData","createZone","eventSource","events","eventListeners","_handleEvent","_handControls","additionalOffset","controller","isLeft","_handleControllerConnected","offsets","LEFT_CONTROLLER_OFFSETS","RIGHT_CONTROLLER_OFFSETS","hasOffset","conjugate","Raven","config","install","_ravenJs","_translationsData","navigatorLang","navigator","languages","language","userLanguage","toLowerCase","lang","localeData","messages","en","objectTypeForOriginAndContentType","contentOrigin","prefix","objectTypeMimePrefixLookupMap","types","objectTypeForOrigin","ObjectTypes","UNKNOWN","FILE","CLIPBOARD","URL_IMAGE","URL_VIDEO","URL_MODEL","URL_PDF","URL_AUDIO","FILE_IMAGE","FILE_VIDEO","FILE_MODEL","FILE_PDF","FILE_AUDIO","CLIPBOARD_IMAGE","CLIPBOARD_VIDEO","CLIPBOARD_MODEL","CLIPBOARD_PDF","CLIPBOARD_AUDIO","SPAWNER_IMAGE","SPAWNER_VIDEO","SPAWNER_MODEL","SPAWNER_PDF","SPAWNER_AUDIO","CAMERA","urlType","fileType","clipboardType","spawnerType","image/","model/","application/x-zip-compressed","video/","audio/","application/pdf","avatars","model","_jsonschema","_deepmerge","_eventTargetShim","_identity","LOCAL_STORE_KEY","STORE_STATE_CACHE_KEY","validator","Validator","SCHEMA","definitions","profile","additionalProperties","properties","displayName","pattern","avatarId","credentials","token","email","activity","hasFoundFreeze","hasChangedName","lastEnteredAt","settings","lastUsedMicDeviceId","uploadPromotionTokens","items","promotionToken","$ref","EventTarget","super","generateDefaultProfile","state","generateRandomName","localStorage","getItem","setItem","newState","finalState","_deepmerge2","valid","validate","CustomEvent","noop","toggleScreenShare","snapRotateLeft","snapRotateRight","logDebugFrame","cameraDelta","characterAcceleration","boost","startGazeTeleport","stopGazeTeleport","spawnPen","ensureFrozen","thaw","muteMic","focusChat","cursor","grab","drop","modDelta","startDrawing","stopDrawing","undoDrawing","penNextColor","penPrevColor","scalePenTip","scaleGrabbedGrabbable","takeSnapshot","startTeleport","stopTeleport","thumb","middleRingPinky","exitMirror","mouse","coords","movementXY","buttonLeft","buttonRight","wheel","smartMouse","cursorPose","touchscreen","touchCameraDelta","gyroCameraDelta","pinch","delta","initialDistance","currentDistance","isTouchingGrabbable","gyro","averageDeltaX","averageDeltaY","hud","penButton","keyboard","gamepad","gamepadIndex","button","buttonIndex","pressed","touched","axis","axisIndex","xbox","buttonName","axisName","oculusgo","trigger","touchpad","axisX","axisY","gearVRController","daydream","rightOculusTouch","leftOculusTouch","axes","wmrController","wmr","grip","menu","joystick","vive","_nextTick","_sketchfabZipWorker","_MobileStandardMaterial","_posx","_negx","_posy","_negy","_posz","_negz","GLTFCache","CachedEnvMapTexture","inflateComponent","componentName","componentData","isArray","cloneSkinnedMesh","source","cloneLookup","parallelTraverse","a","b","callback","sourceNode","clonedNode","sourceMesh","isSkinnedMesh","sourceBones","skeleton","bones","clonedMesh","sourceBone","has","bindMatrix","GLTFModelPlus","componentKey","inflator","inflateEntities","templates","isRoot","childEntities","child","hubsComponents","userData","gltfExtensions","HUBS_components","legacyComponents","entityComponents","nodeHasBehavior","append","className","uuid","order","RAD2DEG","prop","attachTemplate","root","templateRoot","targetEls","cloneNode","_ref","attributes","loadGLTF","preferredTechnique","onProgress","fileMap","gltfUrl","reject","worker","SketchfabZipWorker","onmessage","success","fileMapOrError","postMessage","getFilesFromSketchfabZip","customURLResolver","getCustomGLTFParserURLResolver","setLazy","parser","materials","json","extensions","MOZ_alt_materials","altMaterialIndex","urls","cubeMapPosX","cubeMapNegX","cubeMapPosY","cubeMapNegY","cubeMapPosZ","cubeMapNegZ","texture","CubeTextureLoader","format","RGBFormat","loadEnvMap","cameras","envMap","DefaultMatrixAutoUpdate","MobileStandardMaterial","fromStandardMaterial","keys","revokeObjectURL","useCache","loadTemplates","applySrc","templateEl","firstElementChild","technique","charAt","assetEl","substring","lastSrc","inflatedEl","removeInflatedEl","loadModel","initMixer","object3DToSet","_nextTick2","rewires","f","findAncestorWithComponent","selectRandom","names","floor","avatarIds","_avatars","arr","av","param","val","test","_react","_propTypes","ReactAudioContext","React","createContext","hudHoverSound","WithHoverSound","sound","_react2","Consumer","context","cloneElement","onMouseEnter","playSound","props","propTypes","PropTypes","string","_webgl","_phoenixUtils","_reactDom","_sceneUi","_disableIosZoom","_App","_telemetry","NODE_ENV","RETICULUM_SERVER","FARSPARK_SERVER","NON_CORS_PROXY_DOMAINS","ASSET_BUNDLE_SERVER","EXTRA_ENVIRONMENTS","BUILD_VERSION","patchWebGLRenderingContext","App","mountUI","ReactDOM","render","_sceneUi2","_extends","_telemetry2","disableiOSZoom","sceneId","enabled","uiProps","remountUI","sceneRoot","sceneModelEntity","gltfEl","sceneLoaded","previewCamera","getObjectByName","res","sceneInfo","modelUrl","model_url","sceneName","sceneDescription","description","sceneAttributions","attributions","sceneScreenshotURL","screenshot_url","_classnames","_reactIntl","_en","_hubPreviewWhite","_spoke_logo_black","_nameGeneration","_wrapWithAudio","_createRoomDialog","_reactFontawesome","_faEllipsisH","_i18n","addLocaleData","SceneUI","Component","showScreenshot","showCustomRoomDialog","createRoom","payload","hub","customRoomName","generateHubName","scene_id","createUrl","content-type","host","hub_id","setState","componentDidMount","onSceneLoaded","componentWillUnmount","sceneUrl","tweetText","tweetLink","encodeURIComponent","toAttributionSpan","indexOf","href","rel","author","extras","creator","IntlProvider","locale","styles","ui","_classnames2","screenshot","screenshotHidden","whiteOverlay","grid","mainPanel","logo","hubLogo","logoTagline","FormattedMessage","createButtons","createButton","onClick","optionsButton","FontAwesomeIcon","icon","faEllipsisH","tweetButton","_image","attribution","spoke","madeWith","spokeLogo","_createRoomDialog2","includeScenePrompt","onClose","onCustomScene","bool","userAgent","originalGetExtension","WebGLRenderingContext","getExtension","supportsFloatTextures","renderer","WebGLRenderer","Scene","Float32Array","dataTexture","DataTexture","RGBAFormat","FloatType","PlaneBufferGeometry","Camera","getError","checkFloatTextureSupport","mixer","volume","prevVolume","smoothing","threshold","ctx","AudioContext","getContext","analyser","createAnalyser","fftSize","levels","Uint8Array","frequencyBinCount","soundSource","getByteTimeDomainData","sum","amplitude","currVolume","sqrt","minScale","audioAnalyser","setScalar","VERTEX_SHADER","FRAGMENT_SHADER","args","_temp","isMobileStandardMaterial","parameters","uvTransform","Matrix3","diffuse","opacity","aoMapIntensity","aoMap","emissive","emissiveMap","skinning","morphTargets","mobileMaterial","inWorldHud","exclusive","obj","mask","layer","entries","oldValue","newValue","enable","disable","_sceneGraph","clip","mixerEl","updateClip","clipName","find","action","setLoop","LoopRepeat","Infinity","currentAction","destroy","_detectBrowser","detectOS","lastTouchAtMs","ev","now","isDoubleTouch","mediaInflator","controls","owner","persistent","networkId","projection","videoPaused","autoPlay","loop","audioType","distanceModel","rolloffFactor","refDistance","maxDistance","coneInnerAngle","coneOuterAngle","coneOuterGain","euler","_componentName","nav","found","isMesh","pageIndex","paused","_store","store","Store","setQuality","modelEl","DialogContainer","onContainerClicked","closable","currentTarget","onKeyDown","title","isRequired","func","defaultProps","boxRoot","worldToLocal","dX","dY","dZ","lengthOfLongestComponent","POSES","oculus-touch-controls","makeTranslation","oculus-go-controls","vive-controls","compose","DEG2RAD","windows-motion-controls","daydream-controls","gearvr-controls","getLeftControllerOffset","connectedController","getRightControllerOffset","onControllerConnected","onControllerDisconnected","controlConfiguration","orientationOffset","poseForFingers","subpath","hasPose","previous","current","vertexRegex","fragRegex","validMaterials","shaderUniforms","contains","onBeforeCompile","hubs_EnableSweepingEffect","hubs_SweepParams","hubs_InteractorOnePos","hubs_InteractorTwoPos","hubs_HighlightInteractorOne","hubs_HighlightInteractorTwo","hubs_Time","vlines","vindex","findIndex","line","unshift","flines","findex","mediaHighlightFrag","getPromotionTokenForFile","upload","_mediaHighlightFrag","nonCorsProxyDomains","mediaAPIEndpoint","commonKnownContentTypes","glb","png","jpg","jpeg","pdf","mp4","mp3","domain","hostname","endsWith","base64Url","str","btoa","_","p1","String","fromCharCode","CORS_PROXY_SERVER","encodedUrl","resolveUrlCache","cacheKey","resolved","Content-Type","media","corsProxyPrefix","originalUrl","decodeURIComponent","originalUrlParts","assetUrl","extension","pop","file","formData","FormData","interactableId","needsToBeUploaded","File","fireLoadingTimeout","delay","dur","easing","reader","FileReader","onload","view","DataView","getUint16","byteLength","marker","getUint32","little","tags","readAsArrayBuffer","getOrientation","response","srcUrl","searchParams","access_token","file_id","promotion_token","catch","MediaStream","clientId","objectType","randItem","toUpperCase","adjectives","nouns","_dialogContainer","HUB_NAME_PATTERN","CreateRoomDialog","customSceneUrl","_props","other","_objectWithoutProperties","_dialogContainer2","onSubmit","placeholder","onChange","required","_debug","_qs_truthy","isDebug","_qs_truthy2","logFilter"],"mappings":"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qC,IACf,MAAM3G,EAAI2G,EAAI6E,KAAKktB,MAAMltB,KAAKE,SAAW/E,EAAI/H,SAC7C,OAAOoB,EAAE23B,OAAO,GAAGiZ,cAAgB5wC,EAAEiC,MAAM,IAG7C,SAAU0uC,EAASE,MAAeF,EAASE,MAAeF,EAASG,MA/pBrE,MAAMD,GACJ,OACA,WACA,aACA,YACA,eACA,WACA,SACA,YACA,WACA,cACA,QACA,UACA,UACA,OACA,SACA,UACA,WACA,SACA,WACA,aACA,WACA,SACA,UACA,UACA,OACA,QACA,QACA,UACA,OACA,YACA,WACA,SACA,WACA,OACA,WACA,WACA,SACA,QACA,YACA,MACA,WACA,SACA,UACA,QACA,WACA,WACA,QACA,QACA,MACA,QACA,YACA,OACA,UACA,SACA,cACA,WACA,UACA,YACA,UACA,WACA,YACA,UACA,aACA,SACA,WACA,UACA,WACA,SACA,YACA,UACA,QACA,OACA,OACA,QACA,YACA,QACA,SACA,SACA,QACA,UACA,aACA,SACA,cACA,YACA,WACA,OACA,QACA,WACA,UACA,WACA,WACA,cACA,cACA,OACA,SACA,QACA,YACA,UACA,WACA,SACA,WACA,eACA,aACA,OACA,SACA,MACA,WACA,SACA,QACA,SACA,UACA,QACA,QACA,SACA,SACA,WACA,OACA,UACA,aACA,aACA,YACA,YACA,UACA,SACA,UACA,aACA,aACA,OACA,YACA,WACA,WACA,SACA,YACA,WACA,aACA,aACA,cACA,UACA,UACA,OACA,QACA,QACA,SACA,OACA,QACA,WACA,OACA,YACA,QACA,UACA,UACA,WACA,QACA,WACA,YACA,QACA,YACA,QACA,OACA,YACA,aACA,QACA,SACA,SACA,QACA,QACA,QACA,MACA,QACA,WACA,QACA,WACA,QACA,WACA,UACA,SACA,OACA,QACA,MACA,UACA,QACA,UACA,QACA,QACA,QACA,WACA,WACA,SACA,WACA,WACA,cACA,gBACA,WACA,aACA,QACA,aACA,YACA,cACA,WACA,aACA,UACA,YACA,UACA,YACA,YACA,aACA,YACA,WACA,OACA,WACA,OACA,YACA,QACA,SACA,WACA,WACA,SACA,SACA,OACA,WACA,WACA,UACA,YACA,SACA,UACA,YACA,aACA,QACA,SACA,eACA,UACA,QACA,SACA,UACA,YACA,OACA,MACA,UACA,UACA,WACA,WACA,QACA,QACA,WACA,SACA,WACA,WACA,aACA,SACA,aACA,cACA,SACA,aACA,WACA,SACA,SACA,OACA,QACA,SACA,SACA,SACA,UACA,OACA,WACA,QACA,aACA,SACA,UACA,UACA,WACA,YACA,YACA,QACA,UACA,YACA,QACA,SACA,UACA,UACA,UACA,UACA,OACA,QACA,OACA,SACA,YACA,UACA,YACA,cACA,WACA,UACA,eACA,SACA,OACA,cACA,WACA,YACA,SACA,WACA,UACA,YACA,UACA,WACA,WACA,SACA,QACA,YACA,UACA,OACA,WACA,QACA,YACA,WACA,WACA,QACA,QACA,SACA,OACA,YACA,SACA,eACA,aACA,WACA,SACA,SACA,YACA,SACA,OACA,QACA,WACA,YACA,QACA,QACA,OACA,OACA,QACA,SACA,UACA,UACA,SACA,UACA,OACA,WACA,UACA,WACA,YACA,WACA,UACA,cACA,QACA,YACA,OACA,QACA,WACA,OACA,QACA,OACA,gBACA,UACA,YACA,cACA,SACA,QACA,SACA,WACA,WACA,WACA,WACA,OACA,UACA,OACA,QACA,SACA,SACA,SACA,WACA,SACA,SACA,OACA,OACA,UACA,UACA,QACA,SACA,eACA,cACA,WACA,UACA,cACA,SACA,YACA,SACA,cACA,aACA,YACA,SACA,QACA,SACA,WACA,QACA,UACA,WACA,YACA,YACA,cACA,QACA,OACA,YACA,YACA,YACA,YACA,aACA,YACA,WACA,QACA,OACA,WACA,QACA,WACA,aACA,SACA,WACA,WACA,SACA,YACA,UACA,UACA,aACA,MACA,OACA,aACA,WACA,WACA,YACA,cACA,QACA,QACA,UACA,gBACA,WACA,OACA,UACA,SACA,SACA,SACA,QACA,aACA,SACA,UACA,WACA,WACA,SACA,UACA,UACA,WACA,UACA,QACA,aACA,aACA,QACA,iBACA,UACA,SACA,SACA,WACA,SACA,QACA,SACA,QACA,cACA,WACA,UACA,SACA,WACA,WACA,QACA,UACA,YACA,aACA,aACA,SACA,SACA,UACA,SACA,UACA,QACA,YACA,SACA,UACA,WACA,WACA,YACA,aACA,UACA,YACA,YACA,QACA,UACA,SACA,WACA,OACA,UACA,SACA,WACA,QACA,QACA,OACA,cACA,YACA,WACA,UACA,WACA,SACA,cACA,SACA,SACA,WACA,OACA,WACA,QACA,QACA,UACA,QACA,QACA,SACA,YACA,SACA,cACA,cACA,QACA,QACA,SACA,QACA,QACA,WACA,WACA,YACA,eACA,aACA,aACA,OACA,aACA,cACA,YACA,SACA,QACA,UACA,WACA,OACA,OACA,UACA,WACA,SACA,aACA,SACA,UACA,UACA,SACA,QACA,QACA,SACA,aACA,YACA,QACA,QACA,cACA,UACA,WACA,cACA,SACA,WACA,OACA,SACA,OACA,SACA,WACA,QACA,QACA,UACA,aACA,SACA,WACA,MACA,QACA,YACA,UACA,OACA,UACA,OACA,WACA,OACA,QACA,UACA,QACA,OACA,SACA,WACA,SACA,OACA,UACA,SACA,cACA,YACA,UAGIC,GACJ,QACA,OACA,QACA,WACA,QACA,OACA,SACA,QACA,YACA,SACA,eACA,WACA,QACA,SACA,SACA,WACA,QACA,SACA,UACA,OACA,SACA,SACA,UACA,OACA,OACA,OACA,QACA,OACA,QACA,YACA,SACA,OACA,SACA,SACA,WACA,YACA,cACA,SACA,YACA,SACA,UACA,aACA,WACA,cACA,YACA,OACA,UACA,SACA,aACA,WACA,eACA,aACA,SACA,OACA,oQCtpBF5X,EAAAn5B,EAAA,UACAo5B,EAAAp5B,EAAA,UACAgxC,EAAAhxC,EAAA,UACAu9B,EAAAv9B,EAAA,sDAEA,MAAMixC,EAAmB,gDAEJC,UAAyBpT,YAAUtsB,eAAA4yB,GAAA,IAAAC,EAAA,OAAAA,EAAAnZ,SAAAkZ,GAAAlhC,KAOtDkoB,OACEgT,eAAgB,GAChB+S,eAAgB,IAToC9M,EAYtD9I,SACE,MAAA6V,EAA6CluC,KAAK+2B,OAA5CuH,cAAEA,EAAFD,QAAiBA,GAAvB6P,EAAmCC,yHAAnCC,CAAAF,GAAA,4BAMA,OACEzX,EAAA1zB,QAAAwU,cAAC82B,EAAAtrC,QAADw1B,GAAiBwN,MAAM,gBAAgB1H,QAASA,GAAa8P,GAC3D1X,EAAA1zB,QAAAwU,cAAA,WACGvX,KAAK+2B,MAAMqH,mBACV3H,EAAA1zB,QAAAwU,cAAA,gEAEAkf,EAAA1zB,QAAAwU,cAAA,2CAGFkf,EAAA1zB,QAAAwU,cAAA,QAAM+2B,SAdiB,KAC3BhQ,EAAct+B,KAAKkoB,MAAMgT,eAAgBl7B,KAAKkoB,MAAM+lB,gBACpD5P,MAaM5H,EAAA1zB,QAAAwU,cAAA,OAAKwZ,UAAU,qBACb0F,EAAA1zB,QAAAwU,cAAA,SACE1U,KAAK,OACL0rC,YAAY,YACZxd,UAAU,gCACV9yB,MAAO+B,KAAKkoB,MAAMgT,eAClBlU,QAAS+mB,EACThI,MAAM,mEACNyI,SAAUzlC,GAAK/I,KAAKy7B,UAAWP,eAAgBnyB,EAAEzI,OAAOrC,QACxDwwC,UAAA,IAEDzuC,KAAK+2B,MAAMqH,oBACV3H,EAAA1zB,QAAAwU,cAAA,SACE1U,KAAK,MACL0rC,YAAY,sCACZxd,UAAU,gCACV9yB,MAAO+B,KAAKkoB,MAAM+lB,eAClBO,SAAUzlC,GAAK/I,KAAKy7B,UAAWwS,eAAgBllC,EAAEzI,OAAOrC,UAG5Dw4B,EAAA1zB,QAAAwU,cAAA,OAAKwZ,UAAU,8BACb0F,EAAA1zB,QAAAwU,cAAC8iB,EAAA9D,eAAD,KACEE,EAAA1zB,QAAAwU,cAAA,UAAQwZ,UAAU,oCAChB0F,EAAA1zB,QAAAwU,cAAA,6CApDCy2B,IACZhX,WACLoH,mBAAoBnH,UAAUsH,KAC9BD,cAAerH,UAAUgP,KACzB5H,QAASpH,UAAUgP,uCCTvB,IAAAyI,EAAA5xC,EAAA,WACA6xC,EAAA7xC,EAAA,8DAEA,MAAMyY,EAAK,IAAIC,gBAAgBC,SAASC,QAClCk5B,GAAU,EAAAC,EAAA9rC,SAAS,SACnB+rC,EAAYv5B,EAAG1X,IAAI,eAAkB+wC,GAAW,sBAElDE,GACFx5B,UAAMmtB,OAAOqM","file":"assets/js/scene-c53da48198e1edc38edd.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t4: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/hubs/public/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([537,1,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","const zeroPos = new THREE.Vector3(0, 0, 0);\nconst zeroQuat = new THREE.Quaternion();\nconst oneScale = new THREE.Vector3(1, 1, 1);\nconst identity = new THREE.Matrix4();\nidentity.identity();\n\n// Patch animation system\nconst bindingSetters = THREE.PropertyBinding.prototype.SetterByBindingTypeAndVersioning;\nconst Versioning = THREE.PropertyBinding.prototype.Versioning;\n\n// For all binding types, monkey patch the setters that require world matrix\n// updates to also flip matrixNeedsUpdate\nfor (let i = 0; i < bindingSetters.length; i++) {\n  const setter = bindingSetters[i][Versioning.MatrixWorldNeedsUpdate];\n  if (!setter) continue;\n\n  bindingSetters[i][Versioning.MatrixWorldNeedsUpdate] = function() {\n    const v = setter.apply(this, arguments);\n    this.targetObject.matrixNeedsUpdate = true;\n    return v;\n  };\n}\n\nTHREE.Object3D.prototype.getWorldPosition = function(target) {\n  if (target === undefined) {\n    console.warn(\"THREE.Object3D: .getWorldPosition() target is now required\");\n    target = new THREE.Vector3();\n  }\n\n  // New function, defined below (used instead of updateMatrixWorld)\n  this.updateMatrices();\n\n  return target.setFromMatrixPosition(this.matrixWorld);\n};\n\nTHREE.Object3D.prototype.getWorldQuaternion = (function() {\n  const position = new THREE.Vector3();\n  const scale = new THREE.Vector3();\n\n  return function getWorldQuaternion(target) {\n    if (target === undefined) {\n      console.warn(\"THREE.Object3D: .getWorldQuaternion() target is now required\");\n      target = new THREE.Quaternion();\n    }\n\n    // New function, defined below (used instead of updateMatrixWorld)\n    this.updateMatrices();\n    this.matrixWorld.decompose(position, target, scale);\n\n    return target;\n  };\n})();\n\nTHREE.Object3D.getWorldScale = (function() {\n  const position = new THREE.Vector3();\n  const quaternion = new THREE.Quaternion();\n\n  return function getWorldScale(target) {\n    if (target === undefined) {\n      console.warn(\"THREE.Object3D: .getWorldScale() target is now required\");\n      target = new THREE.Vector3();\n    }\n\n    // New function, defined below (used instead of updateMatrixWorld)\n    this.updateMatrices();\n    this.matrixWorld.decompose(position, quaternion, target);\n\n    return target;\n  };\n})();\n\nconst handleMatrixModification = o => {\n  if (!o.matrixIsModified) {\n    o.matrixIsModified = true;\n\n    if (o.cachedMatrixWorld) {\n      o.cachedMatrixWorld.copy(o.matrixWorld);\n      o.matrixWorld = o.cachedMatrixWorld;\n    }\n  }\n};\n\nconst updateMatrix = THREE.Object3D.prototype.updateMatrix;\nTHREE.Object3D.prototype.updateMatrix = function() {\n  updateMatrix.apply(this, arguments);\n  handleMatrixModification(this);\n};\n\nconst applyMatrix = THREE.Object3D.prototype.applyMatrix;\nTHREE.Object3D.prototype.applyMatrix = function() {\n  applyMatrix.apply(this, arguments);\n  handleMatrixModification(this);\n};\n\n// By the end of this function this.matrix reflects the updated local matrix\n// and this.matrixWorld reflects the updated world matrix, taking into account\n// parent matrices.\n//\n// forceLocalUpdate - Forces the local matrix to be updated regardless of if it has not\n// been marked dirty.\n//\n// forceWorldUpdate - Forces the world matrix to be updated regardless of if the local matrix\n// has been updated since the last update.\n//\n// skipParents - unless true, all parent matricies are updated before updating this object's\n// local and world matrix.\n//\nTHREE.Object3D.prototype.updateMatrices = function(forceLocalUpdate, forceWorldUpdate, skipParents) {\n  if (!this.hasHadFirstMatrixUpdate) {\n    if (\n      !this.position.equals(zeroPos) ||\n      !this.quaternion.equals(zeroQuat) ||\n      !this.scale.equals(oneScale) ||\n      !this.matrix.equals(identity)\n    ) {\n      // Only update the matrix the first time if its non-identity, this way\n      // this.matrixIsModified will remain false until the default\n      // identity matrix is updated.\n      this.updateMatrix();\n    }\n\n    this.hasHadFirstMatrixUpdate = true;\n    this.matrixWorldNeedsUpdate = true;\n    this.cachedMatrixWorld = this.matrixWorld;\n  } else if (this.matrixNeedsUpdate || this.matrixAutoUpdate || forceLocalUpdate) {\n    this.updateMatrix();\n    if (this.matrixNeedsUpdate) this.matrixNeedsUpdate = false;\n  }\n\n  if (!skipParents && this.parent) {\n    this.parent.updateMatrices(false, forceWorldUpdate, false);\n    this.matrixWorldNeedsUpdate = this.matrixWorldNeedsUpdate || this.parent.childrenNeedMatrixWorldUpdate;\n  }\n\n  if (this.matrixWorldNeedsUpdate || forceWorldUpdate) {\n    if (this.parent === null) {\n      this.matrixWorld.copy(this.matrix);\n    } else {\n      // If the matrix is unmodified, it is the identity matrix,\n      // and hence we can use the parent's world matrix directly.\n      //\n      // Note this assumes all callers will either not pass skipParents=true\n      // *or* will update the parent themselves beforehand as is done in\n      // updateMatrixWorld.\n      if (!this.matrixIsModified) {\n        this.matrixWorld = this.parent.matrixWorld;\n      } else {\n        // Once matrixIsModified === true, this.matrixWorld has been updated to be a local\n        // copy, not a reference to this.parent.matrixWorld (see updateMatrix/applyMatrix)\n        this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n      }\n    }\n\n    this.childrenNeedMatrixWorldUpdate = true;\n    this.matrixWorldNeedsUpdate = false;\n  }\n};\n\n// Computes this object's matrices and then the recursively computes the matrices of all the children.\n//\n// forceWorldUpdate - If true and the object is visible, will force the world matrix to be updated for\n// this node and all of its children.\n//\n// includeInvisible - If true, does not ignore non-visible objects.\nTHREE.Object3D.prototype.updateMatrixWorld = function(forceWorldUpdate, includeInvisible) {\n  if (!this.visible && !includeInvisible) return;\n\n  // Do not recurse upwards, since this is recursing downwards\n  this.updateMatrices(false, forceWorldUpdate, true);\n\n  const children = this.children;\n  const forceChildrenWorldUpdate = this.childrenNeedMatrixWorldUpdate || forceWorldUpdate;\n\n  for (let i = 0, l = children.length; i < l; i++) {\n    children[i].updateMatrixWorld(forceChildrenWorldUpdate, includeInvisible);\n  }\n\n  if (this.childrenNeedMatrixWorldUpdate) this.childrenNeedMatrixWorldUpdate = false;\n};\n","import \"./ambient-light\";\nimport \"./animation-mixer\";\nimport \"./audio-feedback\";\nimport \"./css-class\";\nimport \"./directional-light\";\nimport \"./duck\";\nimport \"./gltf-model-plus\";\nimport \"./heightfield\";\nimport \"./hemisphere-light\";\nimport \"./hide-when-quality\";\nimport \"./layers\";\nimport \"./loop-animation\";\nimport \"./media-loader\";\nimport \"./point-light\";\nimport \"./quack\";\nimport \"./scene-preview-camera\";\nimport \"./skybox\";\nimport \"./spawn-controller\";\nimport \"./spot-light\";\nimport \"./sticky-object\";\nimport \"./super-spawner\";\nimport \"./water\";\n","AFRAME.registerComponent(\"ambient-light\", {\n  schema: {\n    color: { type: \"color\" },\n    intensity: { default: 1.0 }\n  },\n\n  init() {\n    const el = this.el;\n    this.light = new THREE.AmbientLight();\n    this.el.setObject3D(\"ambient-light\", this.light);\n    this.el.sceneEl.systems.light.registerLight(el);\n  },\n\n  update(prevData) {\n    if (this.data.color !== prevData.color) {\n      this.light.color.set(this.data.color);\n    }\n\n    if (this.data.intensity !== prevData.intensity) {\n      this.light.intensity = this.data.intensity;\n    }\n  },\n\n  remove: function() {\n    this.el.removeObject3D(\"ambient-light\");\n  }\n});\n","/**\n * Sets the CSS class on an entity.\n * @component css-class\n */\nAFRAME.registerComponent(\"css-class\", {\n  schema: {\n    type: \"string\"\n  },\n  multiple: true,\n  init() {\n    this.el.classList.add(this.data);\n  },\n  update(oldData) {\n    if (this.data !== oldData) {\n      this.el.classList.remove(oldData);\n      this.el.classList.add(this.data);\n    }\n  },\n  remove() {\n    this.el.classList.remove(this.data);\n  }\n});\n","import resizeShadowCameraFrustum from \"../utils/resizeShadowCameraFrustum\";\n\nAFRAME.registerComponent(\"directional-light\", {\n  schema: {\n    color: { type: \"color\" },\n    intensity: { default: 1.0 },\n    castShadow: { default: true },\n    shadowMapResolution: { default: [512, 512] }\n  },\n\n  init() {\n    const el = this.el;\n    this.light = new THREE.DirectionalLight();\n    this.light.position.set(0, 0, 0);\n    this.light.target.position.set(0, 0, 1);\n    this.light.add(this.light.target);\n    this.light.matrixNeedsUpdate = true;\n    this.el.setObject3D(\"directional-light\", this.light);\n    this.el.sceneEl.systems.light.registerLight(el);\n  },\n\n  update(prevData) {\n    const light = this.light;\n\n    if (this.data.color !== prevData.color) {\n      light.color.set(this.data.color);\n    }\n\n    if (this.data.intensity !== prevData.intensity) {\n      light.intensity = this.data.intensity;\n    }\n\n    if (this.data.castShadow !== prevData.castShadow) {\n      light.castShadow = this.data.castShadow;\n    }\n\n    const [width, height] = this.data.shadowMapResolution;\n    const [prevWidth, prevHeight] = prevData.shadowMapResolution ? prevData.shadowMapResolution : [512, 512];\n\n    if (width !== prevWidth || height !== prevHeight) {\n      light.shadow.mapSize.set(width, height);\n\n      if (light.shadow.map) {\n        light.shadow.map.dispose();\n        light.shadow.map = null;\n      }\n    }\n  },\n\n  tick() {\n    if (window.APP && window.APP.quality === \"low\") {\n      return;\n    }\n\n    resizeShadowCameraFrustum(this.light, this.el.sceneEl.object3D);\n  },\n\n  remove: function() {\n    this.el.removeObject3D(\"directional-light\");\n  }\n});\n","const boundingBox = new THREE.Box3();\nconst frustumBox = new THREE.Box3();\nconst inverseLightMatrixWorld = new THREE.Matrix4();\nconst tempBox = new THREE.Box3();\nconst FRUSTUM_PADDING = 1;\nconst NEAR_CLIPPING_PLANE = -500;\nconst FAR_CLIPPING_PLANE = 500;\nconst verts = [\n  new THREE.Vector3(),\n  new THREE.Vector3(),\n  new THREE.Vector3(),\n  new THREE.Vector3(),\n  new THREE.Vector3(),\n  new THREE.Vector3(),\n  new THREE.Vector3(),\n  new THREE.Vector3()\n];\n\nexport default function resizeShadowCameraFrustum(light, scene) {\n  // Reset bounding box\n  frustumBox.makeEmpty();\n  boundingBox.makeEmpty();\n\n  // Grow the extents of boundingBox for every geometry in the scene that has castShadow set to true.\n  scene.traverse(node => {\n    const geometry = node.geometry;\n\n    if (geometry && node.castShadow) {\n      if (!geometry.boundingBox) {\n        geometry.computeBoundingBox();\n      }\n\n      tempBox.copy(geometry.boundingBox);\n\n      // Apply matrix transforming bounding box from model space to world space\n      tempBox.applyMatrix4(node.matrixWorld);\n\n      boundingBox.union(tempBox);\n    }\n  });\n\n  // Transform the resulting bounding box from world space to light space.\n  // Construct a new bounding box in light space that contains the corners of the bounding box in world space.\n  const min = boundingBox.min;\n  const max = boundingBox.max;\n\n  verts[0].set(min.x, min.y, min.z);\n  verts[1].set(min.x, min.y, max.z);\n  verts[2].set(min.x, max.y, min.z);\n  verts[3].set(min.x, max.y, max.z);\n  verts[4].set(max.x, min.y, min.z);\n  verts[5].set(max.x, min.y, max.z);\n  verts[6].set(max.x, max.y, min.z);\n  verts[7].set(max.x, max.y, max.z);\n\n  inverseLightMatrixWorld.getInverse(light.shadow.camera.matrixWorld);\n\n  for (let i = 0; i < verts.length; i++) {\n    verts[i].applyMatrix4(inverseLightMatrixWorld);\n    frustumBox.expandByPoint(verts[i]);\n  }\n\n  // Update the camera frustum to fit the resulting bounding box.\n  // Everything in the frustum that has castShadow set to true will cast a shadow.\n  // Everything in the frustum that has receiveShadow set to true will receive a shadow.\n  // FRUSTUM_PADDING is added to avoid clipping the edges of shadows.\n  // TODO: Determine why shadows flicker when light is moved fast. The light's matrixWorld is probably being updated a frame behind.\n  const camera = light.shadow.camera;\n  camera.left = frustumBox.min.x - FRUSTUM_PADDING;\n  camera.right = frustumBox.max.x + FRUSTUM_PADDING;\n  camera.bottom = frustumBox.min.y - FRUSTUM_PADDING;\n  camera.top = frustumBox.max.y + FRUSTUM_PADDING;\n  camera.near = frustumBox.min.z + NEAR_CLIPPING_PLANE;\n  camera.far = frustumBox.max.z + FAR_CLIPPING_PLANE;\n  camera.updateProjectionMatrix();\n}\n","/* global CANNON */\n/**\n * Floats a duck based on its scale.\n * @component duck\n */\nAFRAME.registerComponent(\"duck\", {\n  schema: {\n    initialForce: { default: 0 },\n    maxForce: { default: 6.5 },\n    maxScale: { default: 5 }\n  },\n\n  init: function() {\n    this.physicsSystem = this.el.sceneEl.systems.physics;\n    this.hasBody = false;\n    this.position = new CANNON.Vec3();\n    this.force = new CANNON.Vec3(0, this.data.initialForce, 0);\n    this.initialScale = this.el.object3D.scale.x;\n    this.maxScale = this.data.maxScale * this.initialScale;\n  },\n\n  play: function() {\n    this.physicsSystem.addComponent(this);\n  },\n\n  pause: function() {\n    this.physicsSystem.removeComponent(this);\n  },\n\n  beforeStep: function() {\n    if (this.el.body && NAF.utils.isMine(this.el)) {\n      const currentScale = this.el.object3D.scale.x;\n      const ratio = Math.min(1, (currentScale - this.initialScale) / (this.maxScale - this.initialScale));\n      const force = ratio * this.data.maxForce;\n      if (force > 0) {\n        const angle = Math.random() * Math.PI * 2;\n        const x = Math.cos(angle);\n        const z = Math.sin(angle);\n        this.force.set(x, force, z);\n        this.position.set(x * 0.01, 0, z * 0.01);\n        this.el.object3D.matrixNeedsUpdate = true;\n        this.el.body.applyForce(this.force, this.position);\n      }\n    }\n  }\n});\n","/* global CANNON */\nAFRAME.registerComponent(\"heightfield\", {\n  init() {\n    this.el.addEventListener(\"componentinitialized\", e => {\n      if (e.detail.name === \"static-body\") {\n        this.generateAndAddHeightfield(this.el.components[\"static-body\"]);\n      }\n    });\n    this.el.setAttribute(\"static-body\", { shape: \"none\", mass: 0 });\n  },\n  generateAndAddHeightfield(body) {\n    const { offset, distance, data } = this.data;\n\n    const orientation = new CANNON.Quaternion();\n    orientation.setFromAxisAngle(new CANNON.Vec3(1, 0, 0), -Math.PI / 2);\n\n    const rotation = new CANNON.Quaternion();\n    rotation.setFromAxisAngle(new CANNON.Vec3(0, 1, 0), -Math.PI / 2);\n    rotation.mult(orientation, orientation);\n\n    const cannonOffset = new CANNON.Vec3(offset.x, offset.y, offset.z);\n\n    const shape = new CANNON.Heightfield(data, { elementSize: distance });\n\n    body.addShape(shape, cannonOffset, orientation);\n  }\n});\n","AFRAME.registerComponent(\"hemisphere-light\", {\n  schema: {\n    skyColor: { type: \"color\" },\n    groundColor: { type: \"color\" },\n    intensity: { default: 1.0 }\n  },\n\n  init() {\n    const el = this.el;\n    this.light = new THREE.HemisphereLight();\n    this.light.position.set(0, 0, 0);\n    this.light.matrixNeedsUpdate = true;\n    this.el.setObject3D(\"hemisphere-light\", this.light);\n    this.el.sceneEl.systems.light.registerLight(el);\n  },\n\n  update(prevData) {\n    if (this.data.skyColor !== prevData.skyColor) {\n      this.light.color.set(this.data.skyColor);\n    }\n\n    if (this.data.groundColor !== prevData.groundColor) {\n      this.light.groundColor.set(this.data.groundColor);\n    }\n\n    if (this.data.intensity !== prevData.intensity) {\n      this.light.intensity = this.data.intensity;\n    }\n  },\n\n  remove: function() {\n    this.el.removeObject3D(\"hemisphere-light\");\n  }\n});\n","/**\n * Hides entities based on the scene's quality mode\n * @namespace environment\n * @component hide-when-quality\n */\nAFRAME.registerComponent(\"hide-when-quality\", {\n  schema: { type: \"string\", default: \"low\" },\n\n  init() {\n    this.onQualityChanged = this.onQualityChanged.bind(this);\n    this.el.sceneEl.addEventListener(\"quality-changed\", this.onQualityChanged);\n  },\n\n  onQualityChanged(event) {\n    this.updateComponentState(event.detail);\n  },\n\n  update(oldData) {\n    if (this.data !== oldData) {\n      this.updateComponentState(window.APP.quality);\n    }\n  },\n\n  updateComponentState(quality) {\n    this.el.setAttribute(\"visible\", quality !== this.data);\n  }\n});\n","import { getBox, getScaleCoefficient } from \"../utils/auto-box-collider\";\nimport { guessContentType, proxiedUrlFor, resolveUrl, injectCustomShaderChunks } from \"../utils/media-utils\";\nimport { addAnimationComponents } from \"../utils/animation\";\n\nimport \"three/examples/js/loaders/GLTFLoader\";\nimport loadingObjectSrc from \"../assets/LoadingObject_Atom.glb\";\n\nconst gltfLoader = new THREE.GLTFLoader();\nlet loadingObject;\ngltfLoader.load(loadingObjectSrc, gltf => {\n  loadingObject = gltf;\n});\n\nconst fetchContentType = url => {\n  return fetch(url, { method: \"HEAD\" }).then(r => r.headers.get(\"content-type\"));\n};\n\nconst fetchMaxContentIndex = url => {\n  return fetch(url).then(r => parseInt(r.headers.get(\"x-max-content-index\")));\n};\n\nconst boundingBox = new THREE.Box3();\n\nAFRAME.registerComponent(\"media-loader\", {\n  schema: {\n    fileId: { type: \"string\" },\n    fileIsOwned: { type: \"boolean\" },\n    src: { type: \"string\" },\n    resize: { default: false },\n    resolve: { default: false },\n    contentType: { default: null },\n    mediaOptions: {\n      default: {},\n      parse: v => (typeof v === \"object\" ? v : JSON.parse(v)),\n      stringify: JSON.stringify\n    }\n  },\n\n  init() {\n    this.onError = this.onError.bind(this);\n    this.showLoader = this.showLoader.bind(this);\n    this.clearLoadingTimeout = this.clearLoadingTimeout.bind(this);\n    this.onMediaLoaded = this.onMediaLoaded.bind(this);\n    this.shapeAdded = false;\n    this.hasBakedShapes = false;\n  },\n\n  setShapeAndScale(resize) {\n    const mesh = this.el.getObject3D(\"mesh\");\n    const box = getBox(this.el, mesh);\n    const scaleCoefficient = resize ? getScaleCoefficient(0.5, box) : 1;\n    this.el.object3DMap.mesh.scale.multiplyScalar(scaleCoefficient);\n\n    if (this.el.body && this.shapeAdded && this.el.body.shapes.length > 1) {\n      this.el.removeAttribute(\"shape\");\n      this.shapeAdded = false;\n    } else if (!this.hasBakedShapes && !box.isEmpty()) {\n      const center = new THREE.Vector3();\n      const { min, max } = box;\n      const halfExtents = {\n        x: (Math.abs(min.x - max.x) / 2) * scaleCoefficient,\n        y: (Math.abs(min.y - max.y) / 2) * scaleCoefficient,\n        z: (Math.abs(min.z - max.z) / 2) * scaleCoefficient\n      };\n      center.addVectors(min, max).multiplyScalar(0.5 * scaleCoefficient);\n      mesh.position.sub(center);\n      this.el.setAttribute(\"shape\", {\n        shape: \"box\",\n        halfExtents: halfExtents\n      });\n      this.shapeAdded = true;\n    }\n\n    mesh.matrixNeedsUpdate = true;\n  },\n\n  tick(t, dt) {\n    if (this.loaderMixer) {\n      this.loaderMixer.update(dt / 1000);\n    }\n  },\n\n  onError() {\n    this.el.removeAttribute(\"gltf-model-plus\");\n    this.el.removeAttribute(\"media-pager\");\n    this.el.removeAttribute(\"media-video\");\n    this.el.setAttribute(\"media-image\", { src: \"error\" });\n    clearTimeout(this.showLoaderTimeout);\n    delete this.showLoaderTimeout;\n  },\n\n  showLoader() {\n    const useFancyLoader = !!loadingObject;\n    const mesh = useFancyLoader\n      ? loadingObject.scene.clone()\n      : new THREE.Mesh(new THREE.BoxGeometry(), new THREE.MeshBasicMaterial());\n    if (useFancyLoader) {\n      this.loaderMixer = new THREE.AnimationMixer(mesh);\n      this.loadingClip = this.loaderMixer.clipAction(loadingObject.animations[0]);\n      this.loadingClip.play();\n    }\n    this.el.setObject3D(\"mesh\", mesh);\n    this.hasBakedShapes = !!(this.el.body && this.el.body.shapes.length > 0);\n    this.setShapeAndScale(true);\n    delete this.showLoaderTimeout;\n  },\n\n  clearLoadingTimeout() {\n    clearTimeout(this.showLoaderTimeout);\n    if (this.loaderMixer) {\n      this.loadingClip.stop();\n      delete this.loaderMixer;\n    }\n    delete this.showLoaderTimeout;\n  },\n\n  setupHoverableVisuals() {\n    const hoverableVisuals = this.el.components[\"hoverable-visuals\"];\n    if (hoverableVisuals) {\n      hoverableVisuals.uniforms = injectCustomShaderChunks(this.el.object3D);\n      boundingBox.setFromObject(this.el.object3DMap.mesh);\n      boundingBox.getBoundingSphere(hoverableVisuals.boundingSphere);\n    }\n  },\n\n  onMediaLoaded() {\n    this.clearLoadingTimeout();\n    this.setupHoverableVisuals();\n  },\n\n  async update(oldData) {\n    try {\n      const { src } = this.data;\n\n      if (src !== oldData.src && !this.showLoaderTimeout) {\n        this.showLoaderTimeout = setTimeout(this.showLoader, 100);\n      }\n\n      if (!src) return;\n\n      let canonicalUrl = src;\n      let accessibleUrl = src;\n      let contentType = this.data.contentType;\n\n      if (this.data.resolve) {\n        const result = await resolveUrl(src);\n        canonicalUrl = result.origin;\n        contentType = (result.meta && result.meta.expected_content_type) || contentType;\n      }\n\n      // todo: we don't need to proxy for many things if the canonical URL has permissive CORS headers\n      accessibleUrl = proxiedUrlFor(canonicalUrl, null);\n\n      // if the component creator didn't know the content type, we didn't get it from reticulum, and\n      // we don't think we can infer it from the extension, we need to make a HEAD request to find it out\n      contentType = contentType || guessContentType(canonicalUrl) || (await fetchContentType(accessibleUrl));\n\n      // We don't want to emit media_resolved for index updates.\n      if (src !== oldData.src) {\n        this.el.emit(\"media_resolved\", { src, raw: accessibleUrl, contentType });\n      }\n\n      if (contentType.startsWith(\"video/\") || contentType.startsWith(\"audio/\")) {\n        this.el.removeAttribute(\"gltf-model-plus\");\n        this.el.removeAttribute(\"media-image\");\n        this.el.addEventListener(\"video-loaded\", this.onMediaLoaded, { once: true });\n        this.el.setAttribute(\"media-video\", Object.assign({}, this.data.mediaOptions, { src: accessibleUrl }));\n        if (this.el.components[\"position-at-box-shape-border\"]) {\n          this.el.setAttribute(\"position-at-box-shape-border\", { dirs: [\"forward\", \"back\"] });\n        }\n      } else if (contentType.startsWith(\"image/\")) {\n        this.el.removeAttribute(\"gltf-model-plus\");\n        this.el.removeAttribute(\"media-video\");\n        this.el.addEventListener(\"image-loaded\", this.onMediaLoaded, { once: true });\n        this.el.removeAttribute(\"media-pager\");\n        this.el.setAttribute(\n          \"media-image\",\n          Object.assign({}, this.data.mediaOptions, { src: accessibleUrl, contentType })\n        );\n        if (this.el.components[\"position-at-box-shape-border\"]) {\n          this.el.setAttribute(\"position-at-box-shape-border\", { dirs: [\"forward\", \"back\"] });\n        }\n      } else if (contentType.startsWith(\"application/pdf\")) {\n        this.el.removeAttribute(\"gltf-model-plus\");\n        this.el.removeAttribute(\"media-video\");\n        // two small differences:\n        // 1. we pass the canonical URL to the pager so it can easily make subresource URLs\n        // 2. we don't remove the media-image component -- media-pager uses that internally\n        this.el.setAttribute(\"media-pager\", Object.assign({}, this.data.mediaOptions, { src: canonicalUrl }));\n        this.el.addEventListener(\"image-loaded\", this.clearLoadingTimeout, { once: true });\n        this.el.addEventListener(\"preview-loaded\", this.onMediaLoaded, { once: true });\n        if (this.el.components[\"position-at-box-shape-border\"]) {\n          this.el.setAttribute(\"position-at-box-shape-border\", { dirs: [\"forward\", \"back\"] });\n        }\n      } else if (\n        contentType.includes(\"application/octet-stream\") ||\n        contentType.includes(\"x-zip-compressed\") ||\n        contentType.startsWith(\"model/gltf\")\n      ) {\n        this.el.removeAttribute(\"media-image\");\n        this.el.removeAttribute(\"media-video\");\n        this.el.removeAttribute(\"media-pager\");\n        this.el.addEventListener(\n          \"model-loaded\",\n          () => {\n            this.clearLoadingTimeout();\n            this.hasBakedShapes = !!(this.el.body && this.el.body.shapes.length > (this.shapeAdded ? 1 : 0));\n            this.setShapeAndScale(this.data.resize);\n            this.setupHoverableVisuals();\n            addAnimationComponents(this.el);\n          },\n          { once: true }\n        );\n        this.el.addEventListener(\"model-error\", this.onError, { once: true });\n        this.el.setAttribute(\n          \"gltf-model-plus\",\n          Object.assign({}, this.data.mediaOptions, {\n            src: accessibleUrl,\n            contentType: contentType,\n            inflate: true,\n            modelToWorldScale: this.data.resize ? 0.0001 : 1.0\n          })\n        );\n      } else {\n        throw new Error(`Unsupported content type: ${contentType}`);\n      }\n    } catch (e) {\n      console.error(\"Error adding media\", e);\n      this.onError();\n    }\n  }\n});\n\nAFRAME.registerComponent(\"media-pager\", {\n  schema: {\n    src: { type: \"string\" },\n    index: { default: 0 }\n  },\n\n  init() {\n    this.toolbar = null;\n    this.imageSrc = null;\n    this.onNext = this.onNext.bind(this);\n    this.onPrev = this.onPrev.bind(this);\n\n    this.el.addEventListener(\"image-loaded\", async e => {\n      this.imageSrc = e.detail.src;\n      await this._ensureUI();\n      this.update();\n    });\n  },\n\n  async _ensureUI() {\n    if (this.toolbar || !this.imageSrc) return;\n    // unfortunately, since we loaded the page image in an img tag inside media-image, we have to make a second\n    // request for the same page to read out the max-content-index header\n    this.maxIndex = await fetchMaxContentIndex(this.imageSrc);\n    const template = document.getElementById(\"paging-toolbar\");\n    this.el.querySelector(\".interactable-ui\").appendChild(document.importNode(template.content, true));\n    this.toolbar = this.el.querySelector(\".paging-toolbar\");\n    // we have to wait a tick for the attach callbacks to get fired for the elements in a template\n    setTimeout(() => {\n      this.nextButton = this.el.querySelector(\".next-button [text-button]\");\n      this.prevButton = this.el.querySelector(\".prev-button [text-button]\");\n      this.pageLabel = this.el.querySelector(\".page-label\");\n\n      this.nextButton.addEventListener(\"grab-start\", this.onNext);\n      this.prevButton.addEventListener(\"grab-start\", this.onPrev);\n\n      this.update();\n      this.el.emit(\"preview-loaded\");\n    }, 0);\n  },\n\n  async update() {\n    if (!this.data.src) return;\n\n    const pageSrc = proxiedUrlFor(this.data.src, this.data.index);\n    this.el.setAttribute(\"media-image\", { src: pageSrc, contentType: \"image/png\" });\n\n    await this._ensureUI();\n\n    if (this.pageLabel) {\n      this.pageLabel.setAttribute(\"text\", \"value\", `${this.data.index + 1}/${this.maxIndex + 1}`);\n      this.repositionToolbar();\n    }\n  },\n\n  remove() {\n    if (this.toolbar) {\n      this.toolbar.parentNode.removeChild(this.toolbar);\n    }\n  },\n\n  onNext() {\n    this.el.setAttribute(\"media-pager\", \"index\", Math.min(this.data.index + 1, this.maxIndex));\n    this.el.emit(\"pager-page-changed\");\n  },\n\n  onPrev() {\n    this.el.setAttribute(\"media-pager\", \"index\", Math.max(this.data.index - 1, 0));\n    this.el.emit(\"pager-page-changed\");\n  },\n\n  repositionToolbar() {\n    this.toolbar.object3D.position.y = -this.el.getAttribute(\"shape\").halfExtents.y - 0.2;\n    this.toolbar.object3D.matrixNeedsUpdate = true;\n  }\n});\n","module.exports = __webpack_public_path__ + \"assets/LoadingObject_Atom-7dcc3b81897e68b740c1cf12b6cf4c3f.glb\";","AFRAME.registerComponent(\"point-light\", {\n  schema: {\n    color: { type: \"color\" },\n    intensity: { default: 1.0 },\n    range: { default: 0 },\n    castShadow: { default: true },\n    shadowMapResolution: { default: [512, 512] }\n  },\n\n  init() {\n    const el = this.el;\n    this.light = new THREE.PointLight();\n    this.light.decay = 2;\n    this.light.shadow.camera.matrixAutoUpdate = true;\n    this.el.setObject3D(\"point-light\", this.light);\n    this.el.sceneEl.systems.light.registerLight(el);\n  },\n\n  update(prevData) {\n    const light = this.light;\n\n    if (this.data.color !== prevData.color) {\n      light.color.set(this.data.color);\n    }\n\n    if (this.data.intensity !== prevData.intensity) {\n      light.intensity = this.data.intensity;\n    }\n\n    if (this.data.range !== prevData.range) {\n      light.distance = this.data.range;\n    }\n\n    if (this.data.castShadow !== prevData.castShadow) {\n      light.castShadow = this.data.castShadow;\n    }\n\n    const [width, height] = this.data.shadowMapResolution;\n    const [prevWidth, prevHeight] = prevData.shadowMapResolution ? prevData.shadowMapResolution : [512, 512];\n\n    if (width !== prevWidth || height !== prevHeight) {\n      light.shadow.mapSize.set(width, height);\n\n      if (light.shadow.map) {\n        light.shadow.map.dispose();\n        light.shadow.map = null;\n      }\n    }\n  },\n\n  remove: function() {\n    this.el.removeObject3D(\"point-light\");\n  }\n});\n","AFRAME.registerComponent(\"quack\", {\n  schema: {\n    quackPercentage: { default: 1 },\n    specialQuackPercentage: { default: 0.01 }\n  },\n\n  init: function() {\n    this._handleGrabStart = this._handleGrabStart.bind(this);\n  },\n\n  play: function() {\n    this.el.addEventListener(\"grab-start\", this._handleGrabStart);\n  },\n\n  pause: function() {\n    this.el.removeEventListener(\"grab-start\", this._handleGrabStart);\n  },\n\n  _handleGrabStart: function() {\n    const rand = Math.random();\n    if (rand < this.data.specialQuackPercentage) {\n      this.el.emit(\"specialquack\");\n    } else if (rand < this.data.quackPercentage) {\n      this.el.emit(\"quack\");\n    }\n  }\n});\n","/**\n * Nicely pans the camera for previewing a scene. There's some weirdness with this right now\n * since it ends up panning in a direction dependent upon the start camera orientation,\n * but it's good enough for now.\n */\nfunction lerp(start, end, t) {\n  return (1 - t) * start + t * end;\n}\n\nAFRAME.registerComponent(\"scene-preview-camera\", {\n  schema: {\n    duration: { default: 90, type: \"number\" },\n    positionOnly: { default: false, type: \"boolean\" }\n  },\n\n  init: function() {\n    this.startPoint = this.el.object3D.position.clone();\n    this.startRotation = new THREE.Quaternion();\n    this.startRotation.setFromEuler(this.el.object3D.rotation);\n\n    this.targetPoint = new THREE.Vector3(1, 0.5, -0.5);\n    this.targetPoint.applyMatrix4(this.el.object3D.matrix);\n    this.targetPoint.add(new THREE.Vector3(0, 0, -2));\n\n    const targetRotDelta = new THREE.Euler(-0.15, 0.0, 0.15);\n    this.targetRotation = new THREE.Quaternion();\n    this.targetRotation.setFromEuler(targetRotDelta);\n    this.targetRotation.premultiply(this.startRotation);\n\n    this.startTime = new Date().getTime();\n    this.backwards = false;\n    this.ranOnePass = false;\n  },\n\n  tick: function() {\n    let t = (new Date().getTime() - this.startTime) / (1000.0 * this.data.duration);\n    t = Math.min(1.0, Math.max(0.0, t));\n\n    if (!this.ranOnePass) {\n      t = t * (2 - t);\n    } else {\n      t = t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n    }\n\n    const from = this.backwards ? this.targetPoint : this.startPoint;\n    const to = this.backwards ? this.startPoint : this.targetPoint;\n    const fromRot = this.backwards ? this.targetRotation : this.startRotation;\n    const toRot = this.backwards ? this.startRotation : this.targetRotation;\n    const newRot = new THREE.Quaternion();\n\n    THREE.Quaternion.slerp(fromRot, toRot, newRot, t);\n\n    this.el.object3D.position.set(lerp(from.x, to.x, t), lerp(from.y, to.y, t), lerp(from.z, to.z, t));\n\n    if (!this.data.positionOnly) {\n      this.el.object3D.rotation.setFromQuaternion(newRot);\n    }\n\n    this.el.object3D.matrixNeedsUpdate = true;\n\n    if (t >= 0.9999) {\n      this.ranOnePass = true;\n      this.backwards = !this.backwards;\n      this.startTime = new Date().getTime();\n    }\n  }\n});\n","/**\n * @author zz85 / https://github.com/zz85\n *\n * Based on \"A Practical Analytic Model for Daylight\"\n * aka The Preetham Model, the de facto standard analytic skydome model\n * http://www.cs.utah.edu/~shirley/papers/sunsky/sunsky.pdf\n *\n * First implemented by Simon Wallner\n * http://www.simonwallner.at/projects/atmospheric-scattering\n *\n * Improved by Martin Upitis\n * http://blenderartists.org/forum/showthread.php?245954-preethams-sky-impementation-HDR\n *\n * Three.js integration by zz85 http://twitter.com/blurspline\n */\n\nTHREE.Sky = function() {\n  const shader = THREE.Sky.SkyShader;\n\n  const material = new THREE.ShaderMaterial({\n    fragmentShader: shader.fragmentShader,\n    vertexShader: shader.vertexShader,\n    uniforms: THREE.UniformsUtils.clone(shader.uniforms),\n    side: THREE.BackSide\n  });\n\n  THREE.Mesh.call(this, new THREE.BoxBufferGeometry(1, 1, 1), material);\n};\n\nTHREE.Sky.prototype = Object.create(THREE.Mesh.prototype);\nTHREE.Sky.prototype.constructor = THREE.Sky;\n\nTHREE.Sky.SkyShader = {\n  uniforms: {\n    luminance: { value: 1 },\n    turbidity: { value: 2 },\n    rayleigh: { value: 1 },\n    mieCoefficient: { value: 0.005 },\n    mieDirectionalG: { value: 0.8 },\n    sunPosition: { value: new THREE.Vector3() }\n  },\n\n  vertexShader: [\n    \"uniform vec3 sunPosition;\",\n    \"uniform float rayleigh;\",\n    \"uniform float turbidity;\",\n    \"uniform float mieCoefficient;\",\n\n    \"varying vec3 vWorldPosition;\",\n    \"varying vec3 vSunDirection;\",\n    \"varying float vSunfade;\",\n    \"varying vec3 vBetaR;\",\n    \"varying vec3 vBetaM;\",\n    \"varying float vSunE;\",\n\n    \"const vec3 up = vec3( 0.0, 1.0, 0.0 );\",\n\n    // constants for atmospheric scattering\n    \"const float e = 2.71828182845904523536028747135266249775724709369995957;\",\n    \"const float pi = 3.141592653589793238462643383279502884197169;\",\n\n    // wavelength of used primaries, according to preetham\n    \"const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );\",\n    // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:\n    // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))\n    \"const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );\",\n\n    // mie stuff\n    // K coefficient for the primaries\n    \"const float v = 4.0;\",\n    \"const vec3 K = vec3( 0.686, 0.678, 0.666 );\",\n    // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K\n    \"const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );\",\n\n    // earth shadow hack\n    // cutoffAngle = pi / 1.95;\n    \"const float cutoffAngle = 1.6110731556870734;\",\n    \"const float steepness = 1.5;\",\n    \"const float EE = 1000.0;\",\n\n    \"float sunIntensity( float zenithAngleCos ) {\",\n    \"\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );\",\n    \"\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );\",\n    \"}\",\n\n    \"vec3 totalMie( float T ) {\",\n    \"\tfloat c = ( 0.2 * T ) * 10E-18;\",\n    \"\treturn 0.434 * c * MieConst;\",\n    \"}\",\n\n    \"void main() {\",\n\n    \"\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\",\n    \"\tvWorldPosition = worldPosition.xyz;\",\n\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n    \"\tvSunDirection = normalize( sunPosition );\",\n\n    \"\tvSunE = sunIntensity( dot( vSunDirection, up ) );\",\n\n    \"\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );\",\n\n    \"\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );\",\n\n    // extinction (absorbtion + out scattering)\n    // rayleigh coefficients\n    \"\tvBetaR = totalRayleigh * rayleighCoefficient;\",\n\n    // mie coefficients\n    \"\tvBetaM = totalMie( turbidity ) * mieCoefficient;\",\n\n    \"}\"\n  ].join(\"\\n\"),\n\n  fragmentShader: [\n    \"varying vec3 vWorldPosition;\",\n    \"varying vec3 vSunDirection;\",\n    \"varying float vSunfade;\",\n    \"varying vec3 vBetaR;\",\n    \"varying vec3 vBetaM;\",\n    \"varying float vSunE;\",\n\n    \"uniform float luminance;\",\n    \"uniform float mieDirectionalG;\",\n\n    \"const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );\",\n\n    // constants for atmospheric scattering\n    \"const float pi = 3.141592653589793238462643383279502884197169;\",\n\n    \"const float n = 1.0003;\", // refractive index of air\n    \"const float N = 2.545E25;\", // number of molecules per unit volume for air at\n    // 288.15K and 1013mb (sea level -45 celsius)\n\n    // optical length at zenith for molecules\n    \"const float rayleighZenithLength = 8.4E3;\",\n    \"const float mieZenithLength = 1.25E3;\",\n    \"const vec3 up = vec3( 0.0, 1.0, 0.0 );\",\n    // 66 arc seconds -> degrees, and the cosine of that\n    \"const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;\",\n\n    // 3.0 / ( 16.0 * pi )\n    \"const float THREE_OVER_SIXTEENPI = 0.05968310365946075;\",\n    // 1.0 / ( 4.0 * pi )\n    \"const float ONE_OVER_FOURPI = 0.07957747154594767;\",\n\n    \"float rayleighPhase( float cosTheta ) {\",\n    \"\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );\",\n    \"}\",\n\n    \"float hgPhase( float cosTheta, float g ) {\",\n    \"\tfloat g2 = pow( g, 2.0 );\",\n    \"\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );\",\n    \"\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );\",\n    \"}\",\n\n    // Filmic ToneMapping http://filmicgames.com/archives/75\n    \"const float A = 0.15;\",\n    \"const float B = 0.50;\",\n    \"const float C = 0.10;\",\n    \"const float D = 0.20;\",\n    \"const float E = 0.02;\",\n    \"const float F = 0.30;\",\n\n    \"const float whiteScale = 1.0748724675633854;\", // 1.0 / Uncharted2Tonemap(1000.0)\n\n    \"vec3 Uncharted2Tonemap( vec3 x ) {\",\n    \"\treturn ( ( x * ( A * x + C * B ) + D * E ) / ( x * ( A * x + B ) + D * F ) ) - E / F;\",\n    \"}\",\n\n    \"void main() {\",\n    // optical length\n    // cutoff angle at 90 to avoid singularity in next formula.\n    \"\tfloat zenithAngle = acos( max( 0.0, dot( up, normalize( vWorldPosition - cameraPos ) ) ) );\",\n    \"\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );\",\n    \"\tfloat sR = rayleighZenithLength * inverse;\",\n    \"\tfloat sM = mieZenithLength * inverse;\",\n\n    // combined extinction factor\n    \"\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );\",\n\n    // in scattering\n    \"\tfloat cosTheta = dot( normalize( vWorldPosition - cameraPos ), vSunDirection );\",\n\n    \"\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );\",\n    \"\tvec3 betaRTheta = vBetaR * rPhase;\",\n\n    \"\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );\",\n    \"\tvec3 betaMTheta = vBetaM * mPhase;\",\n\n    \"\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );\",\n    \"\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );\",\n\n    // nightsky\n    \"\tvec3 direction = normalize( vWorldPosition - cameraPos );\",\n    \"\tfloat theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]\",\n    \"\tfloat phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]\",\n    \"\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );\",\n    \"\tvec3 L0 = vec3( 0.1 ) * Fex;\",\n\n    // composition + solar disc\n    \"\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );\",\n    \"\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;\",\n\n    \"\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );\",\n\n    \"\tvec3 curr = Uncharted2Tonemap( ( log2( 2.0 / pow( luminance, 4.0 ) ) ) * texColor );\",\n    \"\tvec3 color = curr * whiteScale;\",\n\n    \"\tvec3 retColor = pow( color, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );\",\n\n    \"\tgl_FragColor = vec4( retColor, 1.0 );\",\n\n    \"}\"\n  ].join(\"\\n\")\n};\n\nAFRAME.registerComponent(\"skybox\", {\n  schema: {\n    turbidity: { type: \"number\", default: 10 },\n    rayleigh: { type: \"number\", default: 2 },\n    luminance: { type: \"number\", default: 1 },\n    mieCoefficient: { type: \"number\", default: 0.005 },\n    mieDirectionalG: { type: \"number\", default: 0.8 },\n    inclination: { type: \"number\", default: 0 },\n    azimuth: { type: \"number\", default: 0 },\n    distance: { type: \"number\", default: 8000 }\n  },\n\n  init() {\n    this.sky = new THREE.Sky();\n    this.el.setObject3D(\"mesh\", this.sky);\n  },\n\n  update(oldData) {\n    const uniforms = this.sky.material.uniforms;\n\n    if (this.data.turbidity !== oldData.turbidity) {\n      uniforms.turbidity.value = this.data.turbidity;\n    }\n\n    if (this.data.rayleigh !== oldData.rayleigh) {\n      uniforms.rayleigh.value = this.data.rayleigh;\n    }\n\n    if (this.data.luminance !== oldData.luminance) {\n      uniforms.luminance.value = this.data.luminance;\n    }\n\n    if (this.data.mieCoefficient !== oldData.mieCoefficient) {\n      uniforms.mieCoefficient.value = this.data.mieCoefficient;\n    }\n\n    if (this.data.mieDirectionalG !== oldData.mieDirectionalG) {\n      uniforms.mieDirectionalG.value = this.data.mieDirectionalG;\n    }\n\n    if (\n      this.data.inclination !== oldData.inclination ||\n      this.data.azimuth !== oldData.azimuth ||\n      this.data.distance !== oldData.distance\n    ) {\n      const theta = Math.PI * (this.data.inclination - 0.5);\n      const phi = 2 * Math.PI * (this.data.azimuth - 0.5);\n\n      const distance = this.data.distance;\n\n      const x = distance * Math.cos(phi);\n      const y = distance * Math.sin(phi) * Math.sin(theta);\n      const z = distance * Math.sin(phi) * Math.cos(theta);\n\n      uniforms.sunPosition.value.set(x, y, z).normalize();\n\n      // HACK Remove this if condition and always set the scale based on distance when the existing environments\n      // have their sky scales set to 1.\n      if (this.el.object3D.scale.x === 1) {\n        this.sky.scale.set(distance, distance, distance);\n      }\n\n      this.el.object3D.matrixNeedsUpdate = true;\n    }\n  },\n\n  remove() {\n    this.el.removeObject3D(\"mesh\");\n  }\n});\n","import uuid from \"uuid/v4\";\nimport { Socket } from \"phoenix\";\n\nexport function connectToReticulum(debug = false) {\n  const qs = new URLSearchParams(location.search);\n\n  const socketProtocol = qs.get(\"phx_protocol\") || (document.location.protocol === \"https:\" ? \"wss:\" : \"ws:\");\n  let socketHost = qs.get(\"phx_host\");\n  let socketPort = qs.get(\"phx_port\");\n\n  if (process.env.RETICULUM_SERVER) {\n    const [retHost, retPort] = process.env.RETICULUM_SERVER.split(\":\");\n    socketHost = socketHost || retHost || \"\";\n    socketPort = socketPort || retPort || \"443\";\n  } else {\n    socketHost = socketHost || document.location.hostname || \"\";\n    socketPort = socketPort || document.location.port || \"443\";\n  }\n\n  const socketUrl = `${socketProtocol}//${socketHost}${socketPort ? `:${socketPort}` : \"\"}/socket`;\n  console.log(`Phoenix Socket URL: ${socketUrl}`);\n\n  const socketSettings = {\n    params: { session_id: uuid() }\n  };\n\n  if (debug) {\n    socketSettings.logger = (kind, msg, data) => {\n      console.log(`${kind}: ${msg}`, data);\n    };\n  }\n\n  const socket = new Socket(socketUrl, socketSettings);\n  socket.connect();\n\n  return socket;\n}\n\nconst resolverLink = document.createElement(\"a\");\nexport function getReticulumFetchUrl(path, absolute = false) {\n  if (process.env.RETICULUM_SERVER) {\n    return `https://${process.env.RETICULUM_SERVER}${path}`;\n  } else if (absolute) {\n    resolverLink.href = path;\n    return resolverLink.href;\n  } else {\n    return path;\n  }\n}\n\nexport function getLandingPageForPhoto(photoUrl) {\n  const parsedUrl = new URL(photoUrl);\n  return getReticulumFetchUrl(parsedUrl.pathname.replace(\".png\", \".html\") + parsedUrl.search, true);\n}\n","import { getLastWorldPosition } from \"../utils/three-utils\";\n\n/**\n * Used on a player-rig to move the player to a random spawn point on entry.\n * @namespace avatar\n * @component spawn-controller\n */\nAFRAME.registerComponent(\"spawn-controller\", {\n  schema: {\n    target: { type: \"selector\" },\n    loadedEvent: { type: \"string\" }\n  },\n  init() {\n    this.onLoad = this.onLoad.bind(this);\n    this.data.target.addEventListener(this.data.loadedEvent, this.onLoad);\n  },\n  onLoad() {\n    const spawnPoints = document.querySelectorAll(\"[spawn-point]\");\n\n    if (spawnPoints.length === 0) {\n      // Keep default position\n      return;\n    }\n\n    const spawnPointIndex = Math.round((spawnPoints.length - 1) * Math.random());\n    const spawnPoint = spawnPoints[spawnPointIndex];\n\n    getLastWorldPosition(spawnPoint.object3D, this.el.object3D.position);\n\n    this.el.object3D.rotation.copy(spawnPoint.object3D.rotation);\n    this.el.object3D.matrixNeedsUpdate = true;\n  }\n});\n\n/**\n * Marks an entity as a potential spawn point.\n * @namespace environment\n * @component spawn-point\n */\nAFRAME.registerComponent(\"spawn-point\", {});\n","AFRAME.registerComponent(\"spot-light\", {\n  schema: {\n    color: { type: \"color\" },\n    intensity: { default: 1.0 },\n    range: { default: 0 },\n    innerConeAngle: { default: 0 },\n    outerConeAngle: { default: Math.PI / 4.0 },\n    castShadow: { default: true },\n    shadowMapResolution: { default: [512, 512] }\n  },\n\n  init() {\n    const el = this.el;\n    this.light = new THREE.SpotLight();\n    this.light.position.set(0, 0, 0);\n    this.light.target.position.set(0, 0, 1);\n    this.light.add(this.light.target);\n    this.light.decay = 2;\n    this.light.matrixNeedsUpdate = true;\n    this.light.target.matrixNeedsUpdate = true;\n    this.el.setObject3D(\"spot-light\", this.light);\n    this.el.sceneEl.systems.light.registerLight(el);\n  },\n\n  update(prevData) {\n    const light = this.light;\n\n    if (this.data.color !== prevData.color) {\n      light.color.set(this.data.color);\n    }\n\n    if (this.data.intensity !== prevData.intensity) {\n      light.intensity = this.data.intensity;\n    }\n\n    if (this.data.range !== prevData.range) {\n      light.distance = this.data.range;\n    }\n\n    if (this.data.innerConeAngle !== prevData.innerConeAngle || this.data.outerConeAngle !== prevData.outerConeAngle) {\n      light.angle = this.data.outerConeAngle;\n      light.penumbra = 1.0 - this.data.innerConeAngle / this.data.outerConeAngle;\n    }\n\n    if (this.data.castShadow !== prevData.castShadow) {\n      light.castShadow = this.data.castShadow;\n    }\n\n    const [width, height] = this.data.shadowMapResolution;\n    const [prevWidth, prevHeight] = prevData.shadowMapResolution ? prevData.shadowMapResolution : [512, 512];\n\n    if (width !== prevWidth || height !== prevHeight) {\n      light.shadow.mapSize.set(width, height);\n\n      if (light.shadow.map) {\n        light.shadow.map.dispose();\n        light.shadow.map = null;\n      }\n    }\n  },\n\n  remove: function() {\n    this.el.removeObject3D(\"spot-light\");\n  }\n});\n","import { getLastWorldPosition, getLastWorldQuaternion } from \"../utils/three-utils\";\n\n/* global THREE, CANNON, AFRAME */\nAFRAME.registerComponent(\"sticky-object\", {\n  dependencies: [\"body\"],\n\n  schema: {\n    autoLockOnLoad: { default: false },\n    autoLockOnRelease: { default: false },\n    autoLockSpeedLimit: { default: 0.5 } // Set to 0 to always autolock on release\n  },\n\n  init() {\n    this._onGrab = this._onGrab.bind(this);\n    this._onRelease = this._onRelease.bind(this);\n    this._onBodyLoaded = this._onBodyLoaded.bind(this);\n  },\n\n  play() {\n    this.el.addEventListener(\"grab-start\", this._onGrab);\n    this.el.addEventListener(\"grab-end\", this._onRelease);\n\n    if (this.hasSetupBodyLoaded) return;\n    this.hasSetupBodyLoaded = true;\n\n    if (this.el.body) {\n      this._onBodyLoaded();\n    } else {\n      this.el.addEventListener(\"body-loaded\", this._onBodyLoaded, { once: true });\n    }\n  },\n\n  pause() {\n    this.el.removeEventListener(\"grab-start\", this._onGrab);\n    this.el.removeEventListener(\"grab-end\", this._onRelease);\n  },\n\n  setLocked(locked) {\n    if (this.el.components.networked && !NAF.utils.isMine(this.el)) return;\n\n    this.locked = locked;\n    this.el.setAttribute(\"body\", { type: locked ? \"static\" : \"dynamic\" });\n  },\n\n  _onBodyLoaded() {\n    if (this.data.autoLockOnLoad) {\n      this.setLocked(true);\n    }\n  },\n\n  _onRelease() {\n    // Happens if the object is still being held by another hand\n    if (this.el.is(\"grabbed\")) return;\n\n    if (\n      this.data.autoLockOnRelease &&\n      (this.data.autoLockSpeedLimit === 0 ||\n        this.el.body.velocity.lengthSquared() < this.data.autoLockSpeedLimit * this.data.autoLockSpeedLimit)\n    ) {\n      this.setLocked(true);\n    }\n    this.el.body.collisionResponse = true;\n  },\n\n  _onGrab() {\n    if (!this.el.components.grabbable || this.el.components.grabbable.data.maxGrabbers === 0) return;\n\n    this.setLocked(false);\n    this.el.body.collisionResponse = false;\n  },\n\n  remove() {\n    this.el.removeEventListener(\"body-loaded\", this._onBodyLoaded);\n    if (this.stuckTo) {\n      const stuckTo = this.stuckTo;\n      delete this.stuckTo;\n      stuckTo._unstickObject();\n    }\n  }\n});\n\nAFRAME.registerComponent(\"sticky-object-zone\", {\n  dependencies: [\"physics\"],\n  init() {\n    // TODO: position/rotation/impulse need to get updated if the sticky-object-zone moves\n    this.worldQuaternion = new THREE.Quaternion();\n    this.worldPosition = new THREE.Vector3();\n    getLastWorldPosition(this.el.object3D, this.worldPosition);\n    getLastWorldQuaternion(this.el.object3D, this.worldQuaternion);\n\n    const dir = new THREE.Vector3(0, 0, 5).applyQuaternion(this.el.object3D.quaternion);\n    this.bootImpulsePosition = new CANNON.Vec3(0, 0, 0);\n    this.bootImpulse = new CANNON.Vec3();\n    this.bootImpulse.copy(dir);\n\n    this._onCollisions = this._onCollisions.bind(this);\n    this.el.addEventListener(\"collisions\", this._onCollisions);\n  },\n\n  remove() {\n    this.el.removeEventListener(\"collisions\", this._onCollisions);\n  },\n\n  _onCollisions(e) {\n    e.detail.els.forEach(el => {\n      const stickyObject = el.components[\"sticky-object\"];\n      if (!stickyObject) return;\n      this._setStuckObject(stickyObject);\n    });\n    if (this.stuckObject) {\n      e.detail.clearedEls.forEach(el => {\n        if (this.stuckObject && this.stuckObject.el === el) {\n          this._unstickObject();\n        }\n      });\n    }\n  },\n\n  _setStuckObject(stickyObject) {\n    stickyObject.setLocked(true);\n    stickyObject.el.object3D.position.copy(this.worldPosition);\n    stickyObject.el.object3D.quaternion.copy(this.worldQuaternion);\n    stickyObject.el.object3D.matrixNeedsUpdate = true;\n    stickyObject.el.body.collisionResponse = false;\n    stickyObject.stuckTo = this;\n\n    if (this.stuckObject && NAF.utils.isMine(this.stuckObject.el)) {\n      const el = this.stuckObject.el;\n      this._unstickObject();\n      el.body.applyImpulse(this.bootImpulse, this.bootImpulsePosition);\n    }\n\n    this.stuckObject = stickyObject;\n  },\n\n  _unstickObject() {\n    // this condition will be false when dragging an object directly from one sticky zone to another\n    if (this.stuckObject.stuckTo === this) {\n      this.stuckObject.setLocked(false);\n      this.stuckObject.el.body.collisionResponse = true;\n      delete this.stuckObject.stuckTo;\n    }\n    delete this.stuckObject;\n  }\n});\n","import { paths } from \"../systems/userinput/paths\";\nimport { addMedia } from \"../utils/media-utils\";\nimport { waitForEvent } from \"../utils/async-utils\";\nimport { ObjectContentOrigins } from \"../object-types\";\nimport { getLastWorldPosition, getLastWorldQuaternion } from \"../utils/three-utils\";\n\nlet nextGrabId = 0;\n/**\n * Spawns networked objects when grabbed or when a specified event is fired.\n * @namespace network\n * @component super-spawner\n */\nAFRAME.registerComponent(\"super-spawner\", {\n  schema: {\n    /**\n     * Source of the media asset the spawner will spawn when grabbed. This can be a gltf, video, or image, or a url that the reticiulm media API can resolve to a gltf, video, or image.\n     */\n    src: { default: \"\" },\n\n    /**\n     * Whether to use the Reticulum media resolution API to interpret the src URL (e.g. find a video URL for Youtube videos.)\n     */\n    resolve: { default: false },\n\n    /**\n     * The template to use for this object\n     */\n    template: { default: \"\" },\n\n    /**\n     * Spawn the object at a custom position, rather than at the center of the spanwer.\n     */\n    useCustomSpawnPosition: { default: false },\n    spawnPosition: { type: \"vec3\" },\n\n    /**\n     * Spawn the object with a custom orientation, rather than copying that of the spawner.\n     */\n    useCustomSpawnRotation: { default: false },\n    spawnRotation: { type: \"vec4\" },\n\n    /**\n     * Spawn the object with a custom scale, rather than copying that of the spawner.\n     */\n    useCustomSpawnScale: { default: false },\n    spawnScale: { type: \"vec3\" },\n\n    /**\n     * The events to emit for programmatically grabbing and releasing objects\n     */\n    grabEvents: { default: [\"cursor-grab\", \"primary_hand_grab\"] },\n    releaseEvents: { default: [\"cursor-release\", \"primary_hand_release\"] },\n\n    /**\n     * The spawner will become invisible and ungrabbable for this ammount of time after being grabbed. This can prevent rapidly spawning objects.\n     */\n    spawnCooldown: { default: 1 },\n\n    /**\n     * Center the spawned object on the hand that grabbed it after it finishes loading. By default the object will be grabbed relative to where the spawner was grabbed\n     */\n    centerSpawnedObject: { default: false },\n\n    /**\n     * Optional event to listen for to spawn an object on the preferred superHand\n     */\n    spawnEvent: { type: \"string\" },\n\n    /**\n     * The superHand to use if an object is spawned via spawnEvent\n     */\n    superHand: { type: \"selector\" },\n\n    /**\n     * The cursor superHand to use if an object is spawned via spawnEvent\n     */\n    cursorSuperHand: { type: \"selector\" }\n  },\n\n  init() {\n    this.heldEntities = new Map();\n    this.cooldownTimeout = null;\n    this.onGrabStart = this.onGrabStart.bind(this);\n    this.onGrabEnd = this.onGrabEnd.bind(this);\n\n    this.onSpawnEvent = this.onSpawnEvent.bind(this);\n\n    this.sceneEl = document.querySelector(\"a-scene\");\n\n    this.el.setAttribute(\"hoverable-visuals\", { cursorController: \"#cursor-controller\", enableSweepingEffect: false });\n  },\n\n  play() {\n    this.el.addEventListener(\"grab-start\", this.onGrabStart);\n    this.el.addEventListener(\"grab-end\", this.onGrabEnd);\n    if (this.data.spawnEvent) {\n      this.sceneEl.addEventListener(this.data.spawnEvent, this.onSpawnEvent);\n    }\n  },\n\n  pause() {\n    this.el.removeEventListener(\"grab-start\", this.onGrabStart);\n    this.el.removeEventListener(\"grab-end\", this.onGrabEnd);\n    if (this.data.spawnEvent) {\n      this.sceneEl.removeEventListener(this.data.spawnEvent, this.onSpawnEvent);\n    }\n\n    if (this.cooldownTimeout) {\n      clearTimeout(this.cooldownTimeout);\n      this.cooldownTimeout = null;\n      this.el.setAttribute(\"visible\", true);\n      this.el.classList.add(\"interactable\");\n    }\n  },\n\n  remove() {\n    this.heldEntities.clear();\n  },\n\n  async onSpawnEvent() {\n    const userinput = AFRAME.scenes[0].systems.userinput;\n    const leftPose = userinput.get(paths.actions.leftHand.pose);\n    const rightPose = userinput.get(paths.actions.rightHand.pose);\n    const controllerCount = leftPose && rightPose ? 2 : leftPose || rightPose ? 1 : 0;\n    const using6DOF = controllerCount > 1 && this.el.sceneEl.is(\"vr-mode\");\n    const hand = using6DOF ? this.data.superHand : this.data.cursorSuperHand;\n\n    if (this.cooldownTimeout || !hand) {\n      return;\n    }\n\n    const entity = addMedia(this.data.src, this.data.template, ObjectContentOrigins.SPAWNER, this.data.resolve).entity;\n\n    getLastWorldPosition(hand.object3D, entity.object3D.position);\n    getLastWorldQuaternion(hand.object3D, entity.object3D.quaternion);\n\n    if (this.data.useCustomSpawnScale) {\n      entity.object3D.scale.copy(this.data.spawnScale);\n    }\n\n    this.activateCooldown();\n\n    await waitForEvent(\"body-loaded\", entity);\n\n    getLastWorldPosition(hand.object3D, entity.object3D.position);\n    entity.object3D.matrixNeedsUpdate = true;\n\n    if (!using6DOF) {\n      for (let i = 0; i < this.data.grabEvents.length; i++) {\n        hand.emit(this.data.grabEvents[i], { targetEntity: entity });\n      }\n    }\n  },\n\n  async onGrabStart(e) {\n    if (this.cooldownTimeout) {\n      return;\n    }\n\n    // This tells super-hands we are handling this grab. The user is now \"grabbing\" the spawner\n    e.preventDefault();\n\n    const hand = e.detail.hand;\n    const thisGrabId = nextGrabId++;\n    this.heldEntities.set(hand, thisGrabId);\n\n    const entity = addMedia(this.data.src, this.data.template, ObjectContentOrigins.SPAWNER, this.data.resolve).entity;\n\n    entity.object3D.position.copy(\n      this.data.useCustomSpawnPosition ? this.data.spawnPosition : this.el.object3D.position\n    );\n    entity.object3D.rotation.copy(\n      this.data.useCustomSpawnRotation ? this.data.spawnRotation : this.el.object3D.rotation\n    );\n    entity.object3D.scale.copy(this.data.useCustomSpawnScale ? this.data.spawnScale : this.el.object3D.scale);\n    entity.object3D.matrixNeedsUpdate = true;\n\n    await waitForEvent(\"body-loaded\", entity);\n\n    // If we are still holding the spawner with the hand that grabbed to create this entity, release the spawner and grab the entity\n    if (this.heldEntities.get(hand) === thisGrabId) {\n      if (this.data.centerSpawnedObject) {\n        entity.body.position.copy(hand.object3D.position);\n      }\n      for (let i = 0; i < this.data.grabEvents.length; i++) {\n        hand.emit(this.data.releaseEvents[i]);\n        hand.emit(this.data.grabEvents[i], { targetEntity: entity });\n      }\n    }\n\n    this.activateCooldown();\n  },\n\n  onGrabEnd(e) {\n    this.heldEntities.delete(e.detail.hand);\n    // This tells super-hands we are handling this release\n    e.preventDefault();\n  },\n\n  activateCooldown() {\n    if (this.data.spawnCooldown > 0) {\n      this.el.setAttribute(\"visible\", false);\n      this.el.classList.remove(\"interactable\");\n      this.cooldownTimeout = setTimeout(() => {\n        this.el.setAttribute(\"visible\", true);\n        this.el.classList.add(\"interactable\");\n        this.cooldownTimeout = null;\n      }, this.data.spawnCooldown * 1000);\n    }\n  }\n});\n","export const waitForEvent = function(eventName, eventObj) {\n  return new Promise(resolve => {\n    eventObj.addEventListener(eventName, resolve, { once: true });\n  });\n};\n","import { Layers } from \"./layers\";\nimport \"../vendor/Water\";\n\n/**\n * @author jbouny / https://github.com/jbouny\n *\n * Work based on :\n * @author Slayvin / http://slayvin.net : Flat mirror for three.js\n * @author Stemkoski / http://www.adelphi.edu/~stemkoski : An implementation of water shader based on the flat mirror\n * @author Jonas Wagner / http://29a.ch/ && http://29a.ch/slides/2012/webglwater/ : Water shader explanations in WebGL\n */\n\nfunction MobileWater(geometry, options) {\n  THREE.Mesh.call(this, geometry);\n\n  const scope = this;\n\n  options = options || {};\n\n  const time = options.time !== undefined ? options.time : 0.0;\n  const normalSampler = options.waterNormals !== undefined ? options.waterNormals : null;\n  const sunDirection =\n    options.sunDirection !== undefined ? options.sunDirection : new THREE.Vector3(0.70707, 0.70707, 0.0);\n  const sunColor = new THREE.Color(options.sunColor !== undefined ? options.sunColor : 0xffffff);\n  const waterColor = new THREE.Color(options.waterColor !== undefined ? options.waterColor : 0x7f7f7f);\n  const eye = options.eye !== undefined ? options.eye : new THREE.Vector3(0, 0, 0);\n  const distortionScale = options.distortionScale !== undefined ? options.distortionScale : 20.0;\n  const side = options.side !== undefined ? options.side : THREE.FrontSide;\n  const fog = options.fog !== undefined ? options.fog : false;\n\n  const mirrorShader = {\n    uniforms: THREE.UniformsUtils.merge([\n      THREE.UniformsLib[\"lights\"],\n      {\n        normalSampler: { value: null },\n        time: { value: 0.0 },\n        size: { value: 1.0 },\n        distortionScale: { value: 20.0 },\n        sunColor: { value: new THREE.Color(0x7f7f7f) },\n        sunDirection: { value: new THREE.Vector3(0.70707, 0.70707, 0) },\n        eye: { value: new THREE.Vector3() },\n        waterColor: { value: new THREE.Color(0x555555) }\n      }\n    ]),\n\n    vertexShader: `\n      uniform float time;\n      varying vec4 worldPosition;\n\n      void main() {\n      \tworldPosition = modelMatrix * vec4( position, 1.0 );\n      \tvec4 mvPosition =  modelViewMatrix * vec4( position, 1.0 );\n      \tgl_Position = projectionMatrix * mvPosition;\n\n      }\n    `,\n\n    fragmentShader: `\n      uniform float time;\n      uniform float size;\n      uniform float distortionScale;\n      uniform sampler2D normalSampler;\n      uniform vec3 sunColor;\n      uniform vec3 sunDirection;\n      uniform vec3 eye;\n      uniform vec3 waterColor;\n\n      varying vec4 worldPosition;\n\n      vec4 getNoise( vec2 uv ) {\n      \tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\n      \tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\n      \tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\n      \tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\n      \tvec4 noise = texture2D( normalSampler, uv0 ) +\n      \t\ttexture2D( normalSampler, uv1 ) +\n      \t\ttexture2D( normalSampler, uv2 ) +\n      \t\ttexture2D( normalSampler, uv3 );\n      \treturn noise * 0.5 - 1.0;\n      }\n\n      void sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor ) {\n      \tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\n      \tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\n      \tspecularColor += pow( direction, shiny ) * sunColor * spec;\n      \tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\n      }\n\n      ${THREE.ShaderChunk[\"common\"]}\n      ${THREE.ShaderChunk[\"packing\"]}\n      ${THREE.ShaderChunk[\"bsdfs\"]}\n      ${THREE.ShaderChunk[\"lights_pars_begin\"]}\n\n      void main() {\n      \tvec4 noise = getNoise( worldPosition.xz * size );\n      \tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\n\n      \tvec3 diffuseLight = vec3(0.0);\n      \tvec3 specularLight = vec3(0.0);\n\n      \tvec3 worldToEye = eye-worldPosition.xyz;\n      \tvec3 eyeDirection = normalize( worldToEye );\n      \tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\n\n      \tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\n      \tfloat rf0 = 0.3;\n      \tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\n      \tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\n      \tvec3 albedo = mix( ( sunColor * diffuseLight * 0.3 + scatter ), ( 0.5 + specularLight ), reflectance);\n      \tvec3 outgoingLight = albedo;\n      \tgl_FragColor = vec4( outgoingLight, 1 );\n      }\n    `\n  };\n\n  const material = new THREE.ShaderMaterial({\n    fragmentShader: mirrorShader.fragmentShader,\n    vertexShader: mirrorShader.vertexShader,\n    uniforms: THREE.UniformsUtils.clone(mirrorShader.uniforms),\n    transparent: false,\n    lights: true,\n    side: side,\n    fog: fog\n  });\n\n  material.uniforms.time.value = time;\n  material.uniforms.normalSampler.value = normalSampler;\n  material.uniforms.sunColor.value = sunColor;\n  material.uniforms.waterColor.value = waterColor;\n  material.uniforms.sunDirection.value = sunDirection;\n  material.uniforms.distortionScale.value = distortionScale;\n\n  material.uniforms.eye.value = eye;\n\n  scope.material = material;\n}\n\nMobileWater.prototype = Object.create(THREE.Mesh.prototype);\nMobileWater.prototype.constructor = THREE.Water;\n\nAFRAME.registerComponent(\"water\", {\n  schema: {\n    waterColor: { type: \"color\", default: \"#001e0f\" },\n    distortionScale: { type: \"number\", default: 3.7 },\n    sunColor: { type: \"color\", default: \"#ffffff\" },\n    inclination: { type: \"number\", default: 0 },\n    azimuth: { type: \"number\", default: 0 },\n    distance: { type: \"number\", default: 1 },\n    speed: { type: \"number\", default: 0.1 },\n    forceMobile: { type: \"boolean\", default: false },\n    normalMap: { type: \"asset\", default: \"#water-normal-map\" }\n  },\n  init() {\n    const waterMesh = this.el.getObject3D(\"mesh\");\n    const waterGeometry = waterMesh.geometry;\n\n    // Render THREE.Water shader instead of THREE.Mesh\n    waterMesh.visible = false;\n\n    const waterNormals = new THREE.Texture(this.data.normalMap);\n    waterNormals.wrapS = waterNormals.wrapT = THREE.RepeatWrapping;\n    waterNormals.needsUpdate = true;\n\n    const waterConfig = {\n      textureWidth: 512,\n      textureHeight: 512,\n      waterNormals: waterNormals,\n      sunDirection: this.data.sunDirection,\n      sunColor: new THREE.Color(this.data.sunColor),\n      waterColor: new THREE.Color(this.data.waterColor),\n      distortionScale: this.data.distortionScale,\n      fog: false\n    };\n\n    if (AFRAME.utils.device.isMobile() || this.data.forceMobile) {\n      this.water = new MobileWater(waterGeometry, waterConfig);\n    } else {\n      this.water = new THREE.Water(waterGeometry, waterConfig);\n      this.water.mirrorCamera.layers.set(Layers.reflection);\n    }\n\n    this.el.setObject3D(\"water\", this.water);\n  },\n\n  update(oldData) {\n    const uniforms = this.water.material.uniforms;\n\n    if (this.data.forceMobile !== oldData.forceMobile) {\n      this.el.removeObject3D(\"water\");\n      this.init();\n      return;\n    }\n\n    if (this.data.waterColor !== oldData.waterColor) {\n      uniforms.waterColor.value.setStyle(this.data.waterColor);\n    }\n\n    if (this.data.distortionScale !== oldData.distortionScale) {\n      uniforms.distortionScale.value = this.data.distortionScale;\n    }\n\n    if (this.data.sunColor !== oldData.sunColor) {\n      uniforms.sunColor.value.setStyle(this.data.sunColor);\n    }\n\n    if (\n      this.data.inclination !== oldData.inclination ||\n      this.data.azimuth !== oldData.azimuth ||\n      this.data.distance !== oldData.distance\n    ) {\n      const theta = Math.PI * (this.data.inclination - 0.5);\n      const phi = 2 * Math.PI * (this.data.azimuth - 0.5);\n\n      const distance = this.data.distance;\n\n      const x = distance * Math.cos(phi);\n      const y = distance * Math.sin(phi) * Math.sin(theta);\n      const z = distance * Math.sin(phi) * Math.cos(theta);\n\n      uniforms.sunDirection.value.set(x, y, z);\n    }\n  },\n\n  tick(time) {\n    this.water.material.uniforms.time.value = (time / 1000) * this.data.speed;\n  },\n\n  remove() {\n    this.el.removeObject3D(\"water\");\n    const waterMesh = this.el.getObject3D(\"mesh\");\n    waterMesh.visible = true;\n  }\n});\n","/**\n * Logs all events dispatched on an entity\n * @namespace debug\n * @component log-events\n */\nAFRAME.registerComponent(\"log-events\", {\n  init: function() {\n    const el = this.el;\n    const log = this.log.bind(this);\n    const origDispatch = this.el.dispatchEvent;\n    this.el.dispatchEvent = function() {\n      log(Array.from(arguments));\n      return origDispatch.apply(el, arguments);\n    };\n  },\n  log: function([e]) {\n    if ([\"componentchanged\"].includes(e.type)) return;\n    let firstObject = true;\n    const replacer = (k, x) => {\n      if (!x) return x;\n      if (typeof x === \"object\" && x.length === undefined) {\n        if (firstObject) {\n          firstObject = false;\n          return x;\n        }\n        return \"[object]\";\n      }\n      return x;\n    };\n    console.info(`log-events: ${this.el.id} ${e.type} ${JSON.stringify(e.detail, replacer)}`);\n  }\n});\n\n/**\n * Logs all life cycle phases on an entity.\n * @namespace debug\n * @component lifecycle-checker\n */\nAFRAME.registerComponent(\"lifecycle-checker\", {\n  schema: {\n    name: { type: \"string\" },\n    tick: { default: false }\n  },\n  init: function() {\n    this.log(\"init\");\n  },\n  update: function() {\n    this.log(\"update\");\n  },\n  tick: function() {\n    if (this.data.tick) {\n      this.log(\"tick\");\n    }\n  },\n  remove: function() {\n    this.log(\"remove\");\n  },\n  pause: function() {\n    this.log(\"pause\");\n  },\n  play: function() {\n    this.log(\"play\");\n  },\n\n  log: function(method) {\n    console.info(`lifecycle-checker:${this.data.name} ${method}`);\n  }\n});\n","const tempVector3 = new THREE.Vector3();\nconst tempQuaternion = new THREE.Quaternion();\n\nexport function getLastWorldPosition(src, target) {\n  target.setFromMatrixPosition(src.matrixWorld);\n  return target;\n}\n\nexport function getLastWorldQuaternion(src, target) {\n  src.matrixWorld.decompose(tempVector3, target, tempVector3);\n  return target;\n}\n\nexport function getLastWorldScale(src, target) {\n  src.matrixWorld.decompose(tempVector3, tempQuaternion, target);\n  return target;\n}\n","module.exports = __webpack_public_path__ + \"assets/images/hub-preview-white-ccefba3b70ae589a0ca5ae3230c39299.png\";","const { Pathfinding } = require(\"three-pathfinding\");\n\nAFRAME.registerSystem(\"nav\", {\n  init: function() {\n    this.pathfinder = new Pathfinding();\n  },\n\n  loadMesh: function(mesh, zone) {\n    this.el.object3D.updateMatrixWorld();\n    const geometry = new THREE.Geometry().fromBufferGeometry(mesh.geometry);\n    geometry.applyMatrix(mesh.matrixWorld);\n    this.pathfinder.setZoneData(zone, Pathfinding.createZone(geometry));\n  }\n});\n","/**\n * Listens to events from an event source and re-emits them on this entity\n * @component event-repeater\n */\nAFRAME.registerComponent(\"event-repeater\", {\n  schema: {\n    eventSource: { type: \"selector\" },\n    events: { type: \"array\" }\n  },\n\n  play: function() {\n    this.data.eventListeners = [];\n    const events = this.data.events;\n    for (let i = 0; i < events.length; i++) {\n      const event = events[i];\n      this.data.eventListeners[event] = this._handleEvent.bind(this, event);\n      this.data.eventSource.addEventListener(event, this.data.eventListeners[event]);\n    }\n  },\n\n  pause: function() {\n    const events = this.data.events;\n    for (let i = 0; i < events.length; i++) {\n      const event = events[i];\n      this.data.eventSource.removeEventListener(event, this.data.eventListeners[event]);\n    }\n    this.data.eventListeners = [];\n  },\n\n  _handleEvent: function(event, e) {\n    this.el.emit(event, e.detail);\n  }\n});\n","import { LEFT_CONTROLLER_OFFSETS, RIGHT_CONTROLLER_OFFSETS } from \"./hand-controls2.js\";\n\n/**\n * Sets the offset of the aframe-physics shape on this entity based on the current VR controller type\n * @namespace user-input\n * @component controls-shape-offset\n */\nAFRAME.registerComponent(\"controls-shape-offset\", {\n  schema: {\n    additionalOffset: { type: \"vec3\", default: { x: 0, y: 0, z: -0.04 } }\n  },\n  init: function() {\n    this.controller = null;\n    this.shapeAdded = false;\n    this.isLeft = this.el.getAttribute(\"hand-controls2\") === \"left\";\n\n    this._handleControllerConnected = this._handleControllerConnected.bind(this);\n    this.el.addEventListener(\"controllerconnected\", this._handleControllerConnected);\n  },\n\n  remove: function() {\n    this.el.removeEventListener(\"controllerconnected\", this._handleControllerConnected);\n  },\n\n  tick: function() {\n    if (!this.shapeAdded && this.controller) {\n      this.shapeAdded = true;\n      const offsets = this.isLeft ? LEFT_CONTROLLER_OFFSETS : RIGHT_CONTROLLER_OFFSETS;\n      const hasOffset = offsets.hasOwnProperty(this.controller);\n      const offset = hasOffset ? offsets[this.controller] : offsets.default;\n      const position = new THREE.Vector3();\n      const quaternion = new THREE.Quaternion();\n      const scale = new THREE.Vector3();\n      offset.decompose(position, quaternion, scale);\n      position.add(this.data.additionalOffset);\n      quaternion.conjugate();\n\n      const shape = {\n        shape: \"box\",\n        halfExtents: { x: 0.03, y: 0.04, z: 0.05 },\n        orientation: quaternion,\n        offset: position\n      };\n\n      this.el.setAttribute(\"shape\", shape);\n    }\n  },\n\n  _handleControllerConnected: function(e) {\n    this.controller = e.detail.name;\n  }\n});\n","import Raven from \"raven-js\";\n\nexport default function registerTelemetry() {\n  if (process.env.NODE_ENV === \"production\") {\n    Raven.config(\"https://013d6a364fed43cdb0539a61d520597a@sentry.prod.mozaws.net/370\").install();\n  }\n}\n","import localeData from \"../assets/translations.data.json\";\nconst navigatorLang = ((navigator.languages && navigator.languages[0]) || navigator.language || navigator.userLanguage)\n  .toLowerCase()\n  .split(/[_-]+/)[0];\nexport const lang = (localeData[navigatorLang] && navigatorLang) || \"en\";\nexport const messages = localeData[lang] || localeData.en;\n","// Enumeration of spawned object content origins. URL means the content is\n// fetched from a URL, FILE means it was an uploaded/dropped file, and\n// CLIPBOARD means it was raw data pasted in from the clipboard, SPAWNER means\n// it was copied over from a spawner.\nexport const ObjectContentOrigins = {\n  URL: 1,\n  FILE: 2,\n  CLIPBOARD: 3,\n  SPAWNER: 4\n};\n\n// Enumeration of spawnable object types, used for telemetry, which encapsulates\n// both the origin of the content for the object and also the type of content\n// contained in the object.\nexport const ObjectTypes = {\n  URL_IMAGE: 0,\n  URL_VIDEO: 1,\n  URL_MODEL: 2,\n  URL_PDF: 3,\n  URL_AUDIO: 4,\n  //URL_TEXT: 5,\n  //URL_TELEPORTER: 6,\n  FILE_IMAGE: 8,\n  FILE_VIDEO: 9,\n  FILE_MODEL: 10,\n  FILE_PDF: 11,\n  FILE_AUDIO: 12,\n  //FILE_TEXT: 13,\n  CLIPBOARD_IMAGE: 16,\n  CLIPBOARD_VIDEO: 17,\n  CLIPBOARD_MODEL: 18,\n  CLIPBOARD_PDF: 19,\n  CLIPBOARD_AUDIO: 20,\n  //CLIPBOARD_TEXT: 21,\n  SPAWNER_IMAGE: 24,\n  SPAWNER_VIDEO: 25,\n  SPAWNER_MODEL: 26,\n  SPAWNER_PDF: 27,\n  SPAWNER_AUDIO: 28,\n  //SPAWNER_TEXT: 29,\n  CAMERA: 30,\n  UNKNOWN: 31\n};\n\n// Given an origin and three object type values for URL, FILE, and CLIPBOARD\n// origins respectively, return the appropriate one\nfunction objectTypeForOrigin(contentOrigin, urlType, fileType, clipboardType, spawnerType) {\n  if (contentOrigin === ObjectContentOrigins.URL) {\n    return urlType;\n  } else if (contentOrigin === ObjectContentOrigins.FILE) {\n    return fileType;\n  } else if (contentOrigin === ObjectContentOrigins.CLIPBOARD) {\n    return clipboardType;\n  } else {\n    return spawnerType;\n  }\n}\n\n// Lookup table of mime-type prefixes to the set of object types that we should use\n// for objects spawned matching their underlying Content-Type.\nconst objectTypeMimePrefixLookupMap = {\n  \"image/\": [ObjectTypes.URL_IMAGE, ObjectTypes.FILE_IMAGE, ObjectTypes.CLIPBOARD_IMAGE, ObjectTypes.SPAWNER_IMAGE],\n  \"model/\": [ObjectTypes.URL_MODEL, ObjectTypes.FILE_MODEL, ObjectTypes.CLIPBOARD_MODEL, ObjectTypes.SPAWNER_MODEL],\n  \"application/x-zip-compressed\": [\n    ObjectTypes.URL_MODEL,\n    ObjectTypes.FILE_MODEL,\n    ObjectTypes.CLIPBOARD_MODEL,\n    ObjectTypes.SPAWNER_MODEL\n  ],\n  \"video/\": [ObjectTypes.URL_VIDEO, ObjectTypes.FILE_VIDEO, ObjectTypes.CLIPBOARD_VIDEO, ObjectTypes.SPAWNER_VIDEO],\n  \"audio/\": [ObjectTypes.URL_AUDIO, ObjectTypes.FILE_AUDIO, ObjectTypes.CLIPBOARD_AUDIO, ObjectTypes.SPAWNER_AUDIO],\n  \"application/pdf\": [ObjectTypes.URL_PDF, ObjectTypes.FILE_PDF, ObjectTypes.CLIPBOARD_PDF, ObjectTypes.SPAWNER_PDF]\n};\n\n// Given an content origin and the resolved mime type of a piece of content, return\n// the ObjectType, if any, for that content.\nexport function objectTypeForOriginAndContentType(contentOrigin, contentType) {\n  for (const prefix in objectTypeMimePrefixLookupMap) {\n    if (contentType.startsWith(prefix)) {\n      const types = objectTypeMimePrefixLookupMap[prefix];\n      return objectTypeForOrigin(contentOrigin, ...types);\n    }\n  }\n\n  return ObjectTypes.UNKNOWN;\n}\n","export const avatars = [\n  {\n    id: \"botdefault\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotDefault_Avatar-9f71f8ff22.gltf\"\n  },\n  {\n    id: \"botbobo\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotBobo_Avatar-f9740a010b.gltf\"\n  },\n  {\n    id: \"botdom\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotDom_Avatar-0c48bf15a5.gltf\"\n  },\n  {\n    id: \"botgreg\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotGreg_Avatar-98d39797bb.gltf\"\n  },\n  {\n    id: \"botguest\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotGuest_Avatar-78cd857332.gltf\"\n  },\n  {\n    id: \"botjim\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotJim_Avatar-d28005a687.gltf\"\n  },\n  {\n    id: \"botkev\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotKev_Avatar-a95787bb51.gltf\"\n  },\n  {\n    id: \"botpinky\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotPinky_Avatar-b0b93f8675.gltf\"\n  },\n  {\n    id: \"botrobert\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotRobert_Avatar-e9554880f3.gltf\"\n  },\n  {\n    id: \"botwoody\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotWoody_Avatar-0140485a23.gltf\"\n  }\n];\n","export default function nextTick() {\n  return new Promise(resolve => {\n    setTimeout(resolve, 0);\n  });\n}\n","import { Validator } from \"jsonschema\";\nimport merge from \"deepmerge\";\n\nconst LOCAL_STORE_KEY = \"___hubs_store\";\nconst STORE_STATE_CACHE_KEY = Symbol();\nconst validator = new Validator();\nimport { EventTarget } from \"event-target-shim\";\nimport { generateDefaultProfile, generateRandomName } from \"../utils/identity.js\";\n\n// Durable (via local-storage) schema-enforced state that is meant to be consumed via forward data flow.\n// (Think flux but with way less incidental complexity, at least for now :))\nexport const SCHEMA = {\n  id: \"/HubsStore\",\n\n  definitions: {\n    profile: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        displayName: { type: \"string\", pattern: \"^[A-Za-z0-9-]{3,32}$\" },\n        avatarId: { type: \"string\" }\n      }\n    },\n\n    credentials: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        token: { type: [\"null\", \"string\"] },\n        email: { type: [\"null\", \"string\"] }\n      }\n    },\n\n    activity: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        hasFoundFreeze: { type: \"boolean\" },\n        hasChangedName: { type: \"boolean\" },\n        lastEnteredAt: { type: \"string\" }\n      }\n    },\n\n    settings: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        lastUsedMicDeviceId: { type: \"string\" }\n      }\n    },\n\n    uploadPromotionTokens: {\n      type: \"array\",\n      items: {\n        type: \"object\",\n        additionalProperties: false,\n        properties: {\n          fileId: { type: \"string\" },\n          promotionToken: { type: \"string\" }\n        }\n      }\n    }\n  },\n\n  type: \"object\",\n\n  properties: {\n    profile: { $ref: \"#/definitions/profile\" },\n    credentials: { $ref: \"#/definitions/credentials\" },\n    activity: { $ref: \"#/definitions/activity\" },\n    settings: { $ref: \"#/definitions/settings\" },\n    uploadPromotionTokens: { $ref: \"#/definitions/uploadPromotionTokens\" }\n  },\n\n  additionalProperties: false\n};\n\nexport default class Store extends EventTarget {\n  constructor() {\n    super();\n\n    if (localStorage.getItem(LOCAL_STORE_KEY) === null) {\n      localStorage.setItem(LOCAL_STORE_KEY, JSON.stringify({}));\n    }\n    this.update({\n      activity: {},\n      settings: {},\n      credentials: {},\n      profile: {},\n      uploadPromotionTokens: []\n    });\n  }\n\n  // Initializes store with any default bits\n  init = () => {\n    this.update({\n      profile: { ...generateDefaultProfile(), ...(this.state.profile || {}) }\n    });\n\n    // Regenerate name to encourage users to change it.\n    if (!this.state.activity.hasChangedName) {\n      this.update({ profile: { displayName: generateRandomName() } });\n    }\n  };\n\n  get state() {\n    if (!this.hasOwnProperty(STORE_STATE_CACHE_KEY)) {\n      this[STORE_STATE_CACHE_KEY] = JSON.parse(localStorage.getItem(LOCAL_STORE_KEY));\n    }\n\n    return this[STORE_STATE_CACHE_KEY];\n  }\n\n  update(newState) {\n    const finalState = merge(this.state, newState);\n    const { valid } = validator.validate(finalState, SCHEMA);\n\n    if (!valid) {\n      // Intentionally not including details about the state or validation result here, since we don't want to leak\n      // sensitive data in the error message.\n      throw new Error(`Write to store failed schema validation.`);\n    }\n\n    localStorage.setItem(LOCAL_STORE_KEY, JSON.stringify(finalState));\n    delete this[STORE_STATE_CACHE_KEY];\n\n    this.dispatchEvent(new CustomEvent(\"statechanged\"));\n\n    return finalState;\n  }\n}\n","export const paths = {};\npaths.noop = \"/noop\";\npaths.actions = {};\npaths.actions.log = \"/actions/log\";\npaths.actions.toggleScreenShare = \"/actions/toggleScreenShare\";\npaths.actions.snapRotateLeft = \"/actions/snapRotateLeft\";\npaths.actions.snapRotateRight = \"/actions/snapRotateRight\";\npaths.actions.logDebugFrame = \"/actions/logDebugFrame\";\npaths.actions.cameraDelta = \"/actions/cameraDelta\";\npaths.actions.characterAcceleration = \"/actions/characterAcceleration\";\npaths.actions.boost = \"/actions/boost\";\npaths.actions.startGazeTeleport = \"/actions/startTeleport\";\npaths.actions.stopGazeTeleport = \"/actions/stopTeleport\";\npaths.actions.spawnPen = \"/actions/spawnPen\";\npaths.actions.ensureFrozen = \"/actions/ensureFrozen\";\npaths.actions.thaw = \"/actions/thaw\";\npaths.actions.muteMic = \"/actions/muteMic\";\npaths.actions.focusChat = \"/actions/focusChat\";\npaths.actions.cursor = {};\npaths.actions.cursor.pose = \"/actions/cursorPose\";\npaths.actions.cursor.grab = \"/actions/cursorGrab\";\npaths.actions.cursor.drop = \"/actions/cursorDrop\";\npaths.actions.cursor.modDelta = \"/actions/cursorModDelta\";\npaths.actions.cursor.startDrawing = \"/actions/cursorStartDrawing\";\npaths.actions.cursor.stopDrawing = \"/actions/cursorStopDrawing\";\npaths.actions.cursor.undoDrawing = \"/actions/cursorUndoDrawing\";\npaths.actions.cursor.penNextColor = \"/actions/cursorPenNextColor\";\npaths.actions.cursor.penPrevColor = \"/actions/cursorPenPrevColor\";\npaths.actions.cursor.scalePenTip = \"/actions/cursorScalePenTip\";\npaths.actions.cursor.scaleGrabbedGrabbable = \"/actions/cursorScaleGrabbedGrabbable\";\npaths.actions.cursor.takeSnapshot = \"/actions/cursorTakeSnapshot\";\npaths.actions.rightHand = {};\npaths.actions.rightHand.pose = \"/actions/rightHandPose\";\npaths.actions.rightHand.grab = \"/actions/rightHandGrab\";\npaths.actions.rightHand.drop = \"/actions/rightHandDrop\";\npaths.actions.rightHand.modDelta = \"/actions/rightHandModDelta\";\npaths.actions.rightHand.startDrawing = \"/actions/rightHandStartDrawing\";\npaths.actions.rightHand.stopDrawing = \"/actions/rightHandStopDrawing\";\npaths.actions.rightHand.undoDrawing = \"/actions/rightHandUndoDrawing\";\npaths.actions.rightHand.penNextColor = \"/actions/rightHandPenNextColor\";\npaths.actions.rightHand.penPrevColor = \"/actions/rightHandPenPrevColor\";\npaths.actions.rightHand.scalePenTip = \"/actions/rightHandScalePenTip\";\npaths.actions.rightHand.startTeleport = \"/actions/rightHandStartTeleport\";\npaths.actions.rightHand.stopTeleport = \"/actions/rightHandStopTeleport\";\npaths.actions.rightHand.takeSnapshot = \"/actions/rightHandTakeSnapshot\";\npaths.actions.rightHand.thumb = \"/actions/rightHand/thumbDown\";\npaths.actions.rightHand.index = \"/actions/rightHand/indexDown\";\npaths.actions.rightHand.middleRingPinky = \"/actions/rightHand/middleRingPinkyDown\";\npaths.actions.leftHand = {};\npaths.actions.leftHand.pose = \"/actions/leftHandPose\";\npaths.actions.leftHand.grab = \"/actions/leftHandGrab\";\npaths.actions.leftHand.drop = \"/actions/leftHandDrop\";\npaths.actions.leftHand.modDelta = \"/actions/leftHandModDelta\";\npaths.actions.leftHand.startDrawing = \"/actions/leftHandStartDrawing\";\npaths.actions.leftHand.stopDrawing = \"/actions/leftHandStopDrawing\";\npaths.actions.leftHand.undoDrawing = \"/actions/leftHandUndoDrawing\";\npaths.actions.leftHand.penNextColor = \"/actions/leftHandPenNextColor\";\npaths.actions.leftHand.penPrevColor = \"/actions/leftHandPenPrevColor\";\npaths.actions.leftHand.scalePenTip = \"/actions/leftHandScalePenTip\";\npaths.actions.leftHand.startTeleport = \"/actions/leftHandStartTeleport\";\npaths.actions.leftHand.stopTeleport = \"/actions/leftHandStopTeleport\";\npaths.actions.leftHand.takeSnapshot = \"/actions/leftHandTakeSnapshot\";\npaths.actions.leftHand.thumb = \"/actions/leftHand/thumbDown\";\npaths.actions.leftHand.index = \"/actions/leftHand/indexDown\";\npaths.actions.leftHand.middleRingPinky = \"/actions/leftHand/middleRingPinkyDown\";\npaths.actions.camera = {};\npaths.actions.camera.exitMirror = \"/actions/cameraExitMirror\";\n\npaths.device = {};\npaths.device.mouse = {};\npaths.device.mouse.coords = \"/device/mouse/coords\";\npaths.device.mouse.movementXY = \"/device/mouse/movementXY\";\npaths.device.mouse.buttonLeft = \"/device/mouse/buttonLeft\";\npaths.device.mouse.buttonRight = \"/device/mouse/buttonRight\";\npaths.device.mouse.wheel = \"/device/mouse/wheel\";\npaths.device.smartMouse = {};\npaths.device.smartMouse.cursorPose = \"/device/smartMouse/cursorPose\";\npaths.device.smartMouse.cameraDelta = \"/device/smartMouse/cameraDelta\";\npaths.device.touchscreen = {};\npaths.device.touchscreen.cursorPose = \"/device/touchscreen/cursorPose\";\npaths.device.touchscreen.touchCameraDelta = \"/device/touchscreen/touchCameraDelta\";\npaths.device.touchscreen.gyroCameraDelta = \"/device/touchscreen/gyroCameraDelta\";\npaths.device.touchscreen.cameraDelta = \"/device/touchscreen/cameraDelta\";\npaths.device.touchscreen.pinch = {};\npaths.device.touchscreen.pinch.delta = \"/device/touchscreen/pinch/delta\";\npaths.device.touchscreen.pinch.initialDistance = \"/device/touchscreen/pinch/initialDistance\";\npaths.device.touchscreen.pinch.currentDistance = \"/device/touchscreen/pinch/currentDistance\";\npaths.device.touchscreen.isTouchingGrabbable = \"/device/touchscreen/isTouchingGrabbable\";\npaths.device.gyro = {};\npaths.device.gyro.averageDeltaX = \"/device/gyro/averageDeltaX\";\npaths.device.gyro.averageDeltaY = \"/device/gyro/averageDeltaY\";\npaths.device.hud = {};\npaths.device.hud.penButton = \"/device/hud/penButton\";\n\npaths.device.keyboard = {\n  key: key => {\n    return `/device/keyboard/${key.toLowerCase()}`;\n  }\n};\n\npaths.device.gamepad = gamepadIndex => ({\n  button: buttonIndex => ({\n    pressed: `/device/gamepad/${gamepadIndex}/button/${buttonIndex}/pressed`,\n    touched: `/device/gamepad/${gamepadIndex}/button/${buttonIndex}/touched`,\n    value: `/device/gamepad/${gamepadIndex}/button/${buttonIndex}/value`\n  }),\n  axis: axisIndex => `/device/gamepad/${gamepadIndex}/axis/${axisIndex}`\n});\n\nconst xbox = \"/device/xbox/\";\npaths.device.xbox = {\n  button: buttonName => ({\n    pressed: `${xbox}button/${buttonName}/pressed`,\n    touched: `${xbox}button/${buttonName}/touched`,\n    value: `${xbox}button/${buttonName}/value`\n  }),\n  axis: axisName => {\n    return `${xbox}axis/${axisName}`;\n  }\n};\n\nconst oculusgo = \"/device/oculusgo/\";\npaths.device.oculusgo = {\n  // TODO remove these in favor of the direct accessors\n  button: buttonName => ({\n    pressed: `${oculusgo}button/${buttonName}/pressed`,\n    touched: `${oculusgo}button/${buttonName}/touched`,\n    value: `${oculusgo}button/${buttonName}/value`\n  }),\n  axis: axisName => {\n    return `${oculusgo}axis/${axisName}`;\n  },\n  //\n  trigger: {\n    pressed: `${oculusgo}button/trigger/pressed`,\n    touched: `${oculusgo}button/trigger/touched`,\n    value: `${oculusgo}button/trigger/value`\n  },\n  touchpad: {\n    pressed: `${oculusgo}button/touchpad/pressed`,\n    touched: `${oculusgo}button/touchpad/touched`,\n    value: `${oculusgo}button/touchpad/value`,\n    axisX: `${oculusgo}axis/touchpadX`,\n    axisY: `${oculusgo}axis/touchpadY`\n  },\n  pose: `${oculusgo}pose`,\n  v: name => {\n    return `/vars/oculusgo/${name}`;\n  }\n};\n\nconst gearVRController = \"/device/gearVRController/\";\npaths.device.gearVRController = {\n  button: buttonName => ({\n    pressed: `${gearVRController}button/${buttonName}/pressed`,\n    touched: `${gearVRController}button/${buttonName}/touched`,\n    value: `${gearVRController}button/${buttonName}/value`\n  }),\n  axis: axisName => {\n    return `${gearVRController}axis/${axisName}`;\n  },\n  pose: `${gearVRController}pose`,\n  v: name => {\n    return `/vars/gearVRController/${name}`;\n  }\n};\n\nconst daydream = \"/device/daydream/\";\npaths.device.daydream = {\n  button: buttonName => ({\n    pressed: `${daydream}button/${buttonName}/pressed`,\n    touched: `${daydream}button/${buttonName}/touched`,\n    value: `${daydream}button/${buttonName}/value`\n  }),\n  axis: axisName => {\n    return `${daydream}axis/${axisName}`;\n  },\n  pose: `${daydream}pose`\n};\n\nconst rightOculusTouch = \"/device/rightOculusTouch/\";\npaths.device.rightOculusTouch = {\n  button: buttonName => ({\n    pressed: `${rightOculusTouch}button/${buttonName}/pressed`,\n    touched: `${rightOculusTouch}button/${buttonName}/touched`,\n    value: `${rightOculusTouch}button/${buttonName}/value`\n  }),\n  axis: axisName => {\n    return `${rightOculusTouch}axis/${axisName}`;\n  },\n  pose: `${rightOculusTouch}pose`\n};\n\nconst leftOculusTouch = \"/device/leftOculusTouch/\";\npaths.device.leftOculusTouch = {\n  button: buttonName => ({\n    pressed: `${leftOculusTouch}button/${buttonName}/pressed`,\n    touched: `${leftOculusTouch}button/${buttonName}/touched`,\n    value: `${leftOculusTouch}button/${buttonName}/value`\n  }),\n  axis: axisName => {\n    return `${leftOculusTouch}axis/${axisName}`;\n  },\n  pose: `${leftOculusTouch}pose`\n};\n\npaths.device.vive = {};\npaths.device.vive.left = {\n  button: buttonName => ({\n    pressed: `/device/vive/left/button/${buttonName}/pressed`,\n    touched: `/device/vive/left/button/${buttonName}/touched`,\n    value: `/device/vive/left/button/${buttonName}/value`\n  }),\n  axis: axisName => {\n    return `/device/vive/left/axis/${axisName}`;\n  },\n  pose: `/device/vive/left/pose`\n};\npaths.device.vive.right = {\n  button: buttonName => ({\n    pressed: `/device/vive/right/button/${buttonName}/pressed`,\n    touched: `/device/vive/right/button/${buttonName}/touched`,\n    value: `/device/vive/right/button/${buttonName}/value`\n  }),\n  axis: axisName => {\n    return `/device/vive/right/axis/${axisName}`;\n  },\n  pose: `/device/vive/right/pose`\n};\n\nfunction button(device, side, name) {\n  return {\n    pressed: `${device}${side}/button/${name}/pressed`,\n    touched: `${device}${side}/button/${name}/touched`,\n    value: `${device}${side}/button/${name}/value`\n  };\n}\n\nfunction axes(device, side, name) {\n  return {\n    axisX: `${device}${side}/axis/${name}X`,\n    axisY: `${device}${side}/axis/${name}Y`\n  };\n}\n\nfunction wmrController(side) {\n  const wmr = \"/device/wmr/\";\n  return {\n    touchpad: {\n      ...button(wmr, side, \"touchpad\"),\n      ...axes(wmr, side, \"touchpad\")\n    },\n    trigger: button(wmr, side, \"trigger\"),\n    grip: button(wmr, side, \"grip\"),\n    menu: button(wmr, side, \"menu\"),\n    joystick: axes(wmr, side, \"joystick\"),\n    pose: `${wmr}${side}/pose`\n  };\n}\npaths.device.wmr = {};\npaths.device.wmr.v = name => `/vars/wmr/${name}`;\npaths.device.wmr.k = name => `/vars/wmr/keyboard/${name}`;\npaths.device.wmr.left = wmrController(\"left\");\npaths.device.wmr.right = wmrController(\"right\");\n","import nextTick from \"../utils/next-tick\";\nimport SketchfabZipWorker from \"../workers/sketchfab-zip.worker.js\";\nimport MobileStandardMaterial from \"../materials/MobileStandardMaterial\";\nimport cubeMapPosX from \"../assets/images/cubemap/posx.jpg\";\nimport cubeMapNegX from \"../assets/images/cubemap/negx.jpg\";\nimport cubeMapPosY from \"../assets/images/cubemap/posy.jpg\";\nimport cubeMapNegY from \"../assets/images/cubemap/negy.jpg\";\nimport cubeMapPosZ from \"../assets/images/cubemap/posz.jpg\";\nimport cubeMapNegZ from \"../assets/images/cubemap/negz.jpg\";\nimport { getCustomGLTFParserURLResolver } from \"../utils/media-utils\";\n\nconst GLTFCache = {};\nlet CachedEnvMapTexture = null;\n\nfunction inflateComponent(el, componentName, componentData) {\n  if (!AFRAME.components[componentName]) {\n    throw new Error(`Inflator failed. \"${componentName}\" component does not exist.`);\n  }\n  if (AFRAME.components[componentName].multiple && Array.isArray(componentData)) {\n    for (let i = 0; i < componentData.length; i++) {\n      el.setAttribute(componentName + \"__\" + i, componentData[i]);\n    }\n  } else {\n    el.setAttribute(componentName, componentData);\n  }\n}\n\nAFRAME.GLTFModelPlus = {\n  // eslint-disable-next-line no-unused-vars\n  components: {},\n  registerComponent(componentKey, componentName, inflator) {\n    inflator = inflator || inflateComponent;\n    AFRAME.GLTFModelPlus.components[componentKey] = { inflator, componentName };\n  }\n};\n\nfunction parallelTraverse(a, b, callback) {\n  callback(a, b);\n\n  for (let i = 0; i < a.children.length; i++) {\n    parallelTraverse(a.children[i], b.children[i], callback);\n  }\n}\n\n// Modified version of Don McCurdy's AnimationUtils.clone\n// https://github.com/mrdoob/three.js/pull/14494\nfunction cloneSkinnedMesh(source) {\n  const cloneLookup = new Map();\n\n  const clone = source.clone();\n\n  parallelTraverse(source, clone, function(sourceNode, clonedNode) {\n    cloneLookup.set(sourceNode, clonedNode);\n  });\n\n  source.traverse(function(sourceMesh) {\n    if (!sourceMesh.isSkinnedMesh) return;\n\n    const sourceBones = sourceMesh.skeleton.bones;\n    const clonedMesh = cloneLookup.get(sourceMesh);\n\n    clonedMesh.skeleton = sourceMesh.skeleton.clone();\n\n    clonedMesh.skeleton.bones = sourceBones.map(function(sourceBone) {\n      if (!cloneLookup.has(sourceBone)) {\n        throw new Error(\"Required bones are not descendants of the given object.\");\n      }\n\n      return cloneLookup.get(sourceBone);\n    });\n\n    clonedMesh.bind(clonedMesh.skeleton, sourceMesh.bindMatrix);\n  });\n\n  return clone;\n}\n\nfunction cloneGltf(gltf) {\n  return {\n    animations: gltf.animations,\n    scene: cloneSkinnedMesh(gltf.scene)\n  };\n}\n\n/// Walks the tree of three.js objects starting at the given node, using the GLTF data\n/// and template data to construct A-Frame entities and components when necessary.\n/// (It's unnecessary to construct entities for subtrees that have no component data\n/// or templates associated with any of their nodes.)\n///\n/// Returns the A-Frame entity associated with the given node, if one was constructed.\nconst inflateEntities = function(node, templates, isRoot, modelToWorldScale) {\n  // TODO: Remove this once we update the legacy avatars to the new node names\n  if (node.name === \"Chest\") {\n    node.name = \"Spine\";\n  } else if (node.name === \"Root Scene\") {\n    node.name = \"AvatarRoot\";\n  } else if (node.name === \"Bot_Skinned\") {\n    node.name = \"AvatarMesh\";\n  }\n\n  // inflate subtrees first so that we can determine whether or not this node needs to be inflated\n  const childEntities = [];\n  const children = node.children.slice(0); // setObject3D mutates the node's parent, so we have to copy\n  for (const child of children) {\n    const el = inflateEntities(child, templates);\n    if (el) {\n      childEntities.push(el);\n    }\n  }\n\n  const hubsComponents = node.userData.gltfExtensions && node.userData.gltfExtensions.HUBS_components;\n\n  // We can remove support for legacy components when our environment, avatar and interactable models are\n  // updated to match Spoke output.\n  const legacyComponents = node.userData.components;\n\n  const entityComponents = hubsComponents || legacyComponents;\n\n  const nodeHasBehavior = !!entityComponents || node.name in templates;\n  if (!nodeHasBehavior && !childEntities.length && !isRoot) {\n    return null; // we don't need an entity for this node\n  }\n\n  const el = document.createElement(\"a-entity\");\n  el.append.apply(el, childEntities);\n\n  // Remove invalid CSS class name characters.\n  const className = (node.name || node.uuid).replace(/[^\\w-]/g, \"\");\n  el.classList.add(className);\n\n  // AFRAME rotation component expects rotations in YXZ, convert it\n  if (node.rotation.order !== \"YXZ\") {\n    node.rotation.setFromQuaternion(node.quaternion, \"YXZ\");\n  }\n\n  // Copy over the object's transform to the THREE.Group and reset the actual transform of the Object3D\n  // all updates to the object should be done through the THREE.Group wrapper\n  el.setAttribute(\"position\", {\n    x: node.position.x,\n    y: node.position.y,\n    z: node.position.z\n  });\n  el.setAttribute(\"rotation\", {\n    x: node.rotation.x * THREE.Math.RAD2DEG,\n    y: node.rotation.y * THREE.Math.RAD2DEG,\n    z: node.rotation.z * THREE.Math.RAD2DEG\n  });\n  el.setAttribute(\"scale\", {\n    x: node.scale.x * (modelToWorldScale !== undefined ? modelToWorldScale : 1),\n    y: node.scale.y * (modelToWorldScale !== undefined ? modelToWorldScale : 1),\n    z: node.scale.z * (modelToWorldScale !== undefined ? modelToWorldScale : 1)\n  });\n\n  node.matrixAutoUpdate = false;\n  node.matrix.identity();\n  node.matrix.decompose(node.position, node.rotation, node.scale);\n  el.object3D.matrixNeedsUpdate = true;\n\n  el.setObject3D(node.type.toLowerCase(), node);\n  if (entityComponents && \"nav-mesh\" in entityComponents) {\n    el.setObject3D(\"mesh\", node);\n  }\n\n  // Set the name of the `THREE.Group` to match the name of the node,\n  // so that `THREE.PropertyBinding` will find (and later animate)\n  // the group. See `PropertyBinding.findNode`:\n  // https://github.com/mrdoob/three.js/blob/dev/src/animation/PropertyBinding.js#L211\n  el.object3D.name = node.name;\n  if (node.animations) {\n    // Pass animations up to the group object so that when we can pass the group as\n    // the optional root in `THREE.AnimationMixer.clipAction` and use the hierarchy\n    // preserved under the group (but not the node). Otherwise `clipArray` will be\n    // `null` in `THREE.AnimationClip.findByName`.\n    node.parent.animations = node.animations;\n  }\n\n  if (entityComponents) {\n    for (const prop in entityComponents) {\n      if (entityComponents.hasOwnProperty(prop) && AFRAME.GLTFModelPlus.components.hasOwnProperty(prop)) {\n        const { componentName, inflator } = AFRAME.GLTFModelPlus.components[prop];\n        inflator(el, componentName, entityComponents[prop], entityComponents);\n      }\n    }\n  }\n\n  return el;\n};\n\nfunction attachTemplate(root, name, templateRoot) {\n  const targetEls = root.querySelectorAll(\".\" + name);\n  for (const el of targetEls) {\n    const root = templateRoot.cloneNode(true);\n    // Merge root element attributes with the target element\n    for (const { name, value } of root.attributes) {\n      el.setAttribute(name, value);\n    }\n\n    // Append all child elements\n    while (root.children.length > 0) {\n      el.appendChild(root.children[0]);\n    }\n  }\n}\n\nfunction getFilesFromSketchfabZip(src) {\n  return new Promise((resolve, reject) => {\n    const worker = new SketchfabZipWorker();\n    worker.onmessage = e => {\n      const [success, fileMapOrError] = e.data;\n      (success ? resolve : reject)(fileMapOrError);\n    };\n    worker.postMessage(src);\n  });\n}\n\nasync function loadEnvMap() {\n  const urls = [cubeMapPosX, cubeMapNegX, cubeMapPosY, cubeMapNegY, cubeMapPosZ, cubeMapNegZ];\n  const texture = await new THREE.CubeTextureLoader().load(urls);\n  texture.format = THREE.RGBFormat;\n  return texture;\n}\n\nasync function loadGLTF(src, contentType, preferredTechnique, onProgress) {\n  let gltfUrl = src;\n  let fileMap;\n\n  if (contentType.includes(\"model/gltf+zip\") || contentType.includes(\"application/x-zip-compressed\")) {\n    fileMap = await getFilesFromSketchfabZip(gltfUrl);\n    gltfUrl = fileMap[\"scene.gtlf\"];\n  }\n\n  const gltfLoader = new THREE.GLTFLoader();\n  gltfLoader.customURLResolver = getCustomGLTFParserURLResolver(gltfUrl);\n  gltfLoader.setLazy(true);\n\n  const { parser } = await new Promise((resolve, reject) => gltfLoader.load(gltfUrl, resolve, onProgress, reject));\n\n  const materials = parser.json.materials;\n  if (materials) {\n    for (let i = 0; i < materials.length; i++) {\n      const material = materials[i];\n\n      if (\n        material.extensions &&\n        material.extensions.MOZ_alt_materials &&\n        material.extensions.MOZ_alt_materials[preferredTechnique] !== undefined\n      ) {\n        const altMaterialIndex = material.extensions.MOZ_alt_materials[preferredTechnique];\n        materials[i] = materials[altMaterialIndex];\n      }\n    }\n  }\n\n  if (!CachedEnvMapTexture) {\n    CachedEnvMapTexture = loadEnvMap();\n  }\n\n  const gltf = await new Promise((resolve, reject) =>\n    parser.parse(\n      (scene, scenes, cameras, animations, json) => {\n        resolve({ scene, scenes, cameras, animations, json });\n      },\n      e => {\n        reject(e);\n      }\n    )\n  );\n\n  const envMap = await CachedEnvMapTexture;\n\n  gltf.scene.traverse(object => {\n    // GLTFLoader sets matrixAutoUpdate on animated objects, we want to keep the defaults\n    object.matrixAutoUpdate = THREE.Object3D.DefaultMatrixAutoUpdate;\n\n    if (object.material && object.material.type === \"MeshStandardMaterial\") {\n      if (preferredTechnique === \"KHR_materials_unlit\") {\n        object.material = MobileStandardMaterial.fromStandardMaterial(object.material);\n      } else {\n        object.material.envMap = envMap;\n        object.material.needsUpdate = true;\n      }\n    }\n  });\n\n  if (fileMap) {\n    // The GLTF is now cached as a THREE object, we can get rid of the original blobs\n    Object.keys(fileMap).forEach(URL.revokeObjectURL);\n  }\n\n  return gltf;\n}\n\n/**\n * Loads a GLTF model, optionally recursively \"inflates\" the child nodes of a model into a-entities and sets\n * whitelisted components on them if defined in the node's extras.\n * @namespace gltf\n * @component gltf-model-plus\n */\nAFRAME.registerComponent(\"gltf-model-plus\", {\n  schema: {\n    src: { type: \"string\" },\n    contentType: { type: \"string\" },\n    useCache: { default: true },\n    inflate: { default: false },\n    modelToWorldScale: { type: \"number\", default: 1 }\n  },\n\n  init() {\n    this.preferredTechnique =\n      window.APP && window.APP.quality === \"low\" ? \"KHR_materials_unlit\" : \"pbrMetallicRoughness\";\n    this.loadTemplates();\n  },\n\n  update() {\n    this.applySrc(this.data.src, this.data.contentType);\n  },\n\n  loadTemplates() {\n    this.templates = {};\n    this.el.querySelectorAll(\":scope > template\").forEach(templateEl => {\n      const root = document.importNode(templateEl.firstElementChild || templateEl.content.firstElementChild, true);\n      this.templates[templateEl.getAttribute(\"data-name\")] = root;\n    });\n  },\n\n  async loadModel(src, contentType, technique, useCache) {\n    if (useCache) {\n      if (!GLTFCache[src]) {\n        GLTFCache[src] = await loadGLTF(src, contentType, technique);\n      }\n\n      return cloneGltf(GLTFCache[src]);\n    } else {\n      return await loadGLTF(src, contentType, technique);\n    }\n  },\n\n  async applySrc(src, contentType) {\n    try {\n      // If the src attribute is a selector, get the url from the asset item.\n      if (src && src.charAt(0) === \"#\") {\n        const assetEl = document.getElementById(src.substring(1));\n        src = assetEl.getAttribute(\"src\");\n      }\n\n      if (src === this.lastSrc) return;\n      this.lastSrc = src;\n\n      if (!src) {\n        if (this.inflatedEl) {\n          console.warn(\"gltf-model-plus set to an empty source, unloading inflated model.\");\n          this.removeInflatedEl();\n        }\n        return;\n      }\n\n      const gltf = await this.loadModel(src, contentType, this.preferredTechnique, this.data.useCache);\n\n      // If we started loading something else already\n      // TODO: there should be a way to cancel loading instead\n      if (src != this.lastSrc) return;\n\n      // If we had inflated something already before, clean that up\n      this.removeInflatedEl();\n\n      this.model = gltf.scene || gltf.scenes[0];\n      this.model.animations = gltf.animations;\n\n      if (gltf.animations.length > 0) {\n        this.el.setAttribute(\"animation-mixer\", {});\n        this.el.components[\"animation-mixer\"].initMixer(gltf.animations);\n      }\n\n      let object3DToSet = this.model;\n      if (\n        this.data.inflate &&\n        (this.inflatedEl = inflateEntities(this.model, this.templates, true, this.data.modelToWorldScale))\n      ) {\n        this.el.appendChild(this.inflatedEl);\n\n        object3DToSet = this.inflatedEl.object3D;\n        // TODO: Still don't fully understand the lifecycle here and how it differs between browsers, we should dig in more\n        // Wait one tick for the appended custom elements to be connected before attaching templates\n        await nextTick();\n        if (src != this.lastSrc) return; // TODO: there must be a nicer pattern for this\n        for (const name in this.templates) {\n          attachTemplate(this.el, name, this.templates[name]);\n        }\n      }\n\n      // The call to setObject3D below recursively clobbers any `el` backreferences to entities\n      // in the entire inflated entity graph to point to `object3DToSet`.\n      //\n      // We don't want those overwritten, since lots of code assumes `object3d.el` points to the relevant\n      // A-Frame entity for that three.js object, so we back them up and re-wire them here. If we didn't do\n      // this, all the `el` properties on these object3ds would point to the `object3DToSet` which is either\n      // the model or the root GLTF inflated entity.\n      const rewires = [];\n\n      object3DToSet.traverse(o => {\n        const el = o.el;\n        if (el) rewires.push(() => (o.el = el));\n      });\n\n      this.el.setObject3D(\"mesh\", object3DToSet);\n\n      rewires.forEach(f => f());\n\n      this.el.emit(\"model-loaded\", { format: \"gltf\", model: this.model });\n    } catch (e) {\n      delete GLTFCache[src];\n      console.error(\"Failed to load glTF model\", e, this);\n      this.el.emit(\"model-error\", { format: \"gltf\", src });\n    }\n  },\n\n  removeInflatedEl() {\n    if (this.inflatedEl) {\n      this.inflatedEl.parentNode.removeChild(this.inflatedEl);\n      delete this.inflatedEl;\n    }\n  }\n});\n","export function findAncestorWithComponent(entity, componentName) {\n  while (entity && !(entity.components && entity.components[componentName])) {\n    entity = entity.parentNode;\n  }\n  return entity;\n}\n","import { avatars } from \"../assets/avatars/avatars.js\";\n\nconst names = [\n  \"Baers-Pochard\",\n  \"Baikal-Teal\",\n  \"Barrows-Goldeneye\",\n  \"Blue-Billed\",\n  \"Blue-Duck\",\n  \"Blue-Winged\",\n  \"Brown-Teal\",\n  \"Bufflehead\",\n  \"Canvasback\",\n  \"Cape-Shoveler\",\n  \"Chestnut-Teal\",\n  \"Chiloe-Wigeon\",\n  \"Cinnamon-Teal\",\n  \"Comb-Duck\",\n  \"Common-Eider\",\n  \"Common-Goldeneye\",\n  \"Common-Merganser\",\n  \"Common-Pochard\",\n  \"Common-Scoter\",\n  \"Common-Shelduck\",\n  \"Cotton-Pygmy\",\n  \"Crested-Duck\",\n  \"Crested-Shelduck\",\n  \"Eatons-Pintail\",\n  \"Falcated\",\n  \"Ferruginous\",\n  \"Freckled-Duck\",\n  \"Gadwall\",\n  \"Garganey\",\n  \"Greater-Scaup\",\n  \"Green-Pygmy\",\n  \"Grey-Teal\",\n  \"Hardhead\",\n  \"Harlequin\",\n  \"Hartlaubs\",\n  \"Hooded-Merganser\",\n  \"Hottentot-Teal\",\n  \"Kelp-Goose\",\n  \"King-Eider\",\n  \"Lake-Duck\",\n  \"Laysan-Duck\",\n  \"Lesser-Scaup\",\n  \"Long-Tailed\",\n  \"Maccoa-Duck\",\n  \"Mallard\",\n  \"Mandarin\",\n  \"Marbled-Teal\",\n  \"Mellers-Duck\",\n  \"Merganser\",\n  \"Northern-Pintail\",\n  \"Orinoco-Goose\",\n  \"Paradise-Shelduck\",\n  \"Plumed-Whistler\",\n  \"Puna-Teal\",\n  \"Pygmy-Goose\",\n  \"Radjah-Shelduck\",\n  \"Red-Billed\",\n  \"Red-Crested\",\n  \"Red-Shoveler\",\n  \"Ring-Necked\",\n  \"Ringed-Teal\",\n  \"Rosy-Billed\",\n  \"Ruddy-Shelduck\",\n  \"Salvadoris-Teal\",\n  \"Scaly-Sided\",\n  \"Shelduck\",\n  \"Shoveler\",\n  \"Silver-Teal\",\n  \"Smew\",\n  \"Spectacled-Eider\",\n  \"Spot-Billed\",\n  \"Spotted-Whistler\",\n  \"Steamerduck\",\n  \"Stellers-Eider\",\n  \"Sunda-Teal\",\n  \"Surf-Scoter\",\n  \"Tufted-Duck\",\n  \"Velvet-Scoter\",\n  \"Wandering-Whistler\",\n  \"Whistling-duck\",\n  \"White-Backed\",\n  \"White-Cheeked\",\n  \"White-Winged\",\n  \"Wigeon\",\n  \"Wood-Duck\",\n  \"Yellow-Billed\"\n];\n\nfunction selectRandom(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexport function generateRandomName() {\n  return `${selectRandom(names)}-${Math.floor(10000 + Math.random() * 10000)}`;\n}\n\nexport const avatarIds = avatars.map(av => av.id);\n\nexport function generateDefaultProfile() {\n  return {\n    avatarId: selectRandom(avatarIds)\n  };\n}\n","const qs = new URLSearchParams(location.search);\n\nexport default function qsTruthy(param) {\n  const val = qs.get(param);\n  // if the param exists but is not set (e.g. \"?foo&bar\"), its value is the empty string.\n  return val === \"\" || /1|on|true/i.test(val);\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const ReactAudioContext = React.createContext({});\n\nexport const hudHoverSound = \"play_sound-hud_hover_start\";\n\nexport const WithHoverSound = ({ sound, children }) => {\n  return (\n    <ReactAudioContext.Consumer>\n      {context => {\n        return React.cloneElement(children, {\n          onMouseEnter: e => {\n            if (context && context.playSound) {\n              context.playSound(sound || hudHoverSound);\n            }\n            children.props.onMouseEnter && children.props.onMouseEnter(e);\n          }\n        });\n      }}\n    </ReactAudioContext.Consumer>\n  );\n};\n\nWithHoverSound.propTypes = {\n  children: PropTypes.object,\n  sound: PropTypes.string\n};\n","console.log(`Hubs version: ${process.env.BUILD_VERSION || \"?\"}`);\n\nimport \"./assets/stylesheets/scene.scss\";\n\nimport \"aframe\";\nimport \"./utils/logging\";\nimport \"./utils/threejs-world-update\";\nimport { patchWebGLRenderingContext } from \"./utils/webgl\";\npatchWebGLRenderingContext();\n\nimport \"three/examples/js/loaders/GLTFLoader\";\n\nimport \"./components/scene-components\";\nimport \"./components/debug\";\nimport \"./systems/nav\";\n\nimport { getReticulumFetchUrl } from \"./utils/phoenix-utils\";\n\nimport ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport SceneUI from \"./react-components/scene-ui\";\nimport { disableiOSZoom } from \"./utils/disable-ios-zoom\";\n\nimport \"./gltf-component-mappings\";\n\nimport { App } from \"./App\";\n\nwindow.APP = new App();\n\nconst qs = new URLSearchParams(location.search);\nconst isMobile = AFRAME.utils.device.isMobile();\n\nwindow.APP.quality = qs.get(\"quality\") || isMobile ? \"low\" : \"high\";\n\nimport \"aframe-physics-system\";\nimport \"aframe-physics-extras\";\nimport \"./components/event-repeater\";\nimport \"./components/controls-shape-offset\";\n\nimport registerTelemetry from \"./telemetry\";\n\nregisterTelemetry();\n\ndisableiOSZoom();\n\nfunction mountUI(scene, props = {}) {\n  ReactDOM.render(\n    <SceneUI\n      {...{\n        scene,\n        ...props\n      }}\n    />,\n    document.getElementById(\"ui-root\")\n  );\n}\n\nconst onReady = async () => {\n  const scene = document.querySelector(\"a-scene\");\n  window.APP.scene = scene;\n\n  const sceneId = qs.get(\"scene_id\") || document.location.pathname.substring(1).split(\"/\")[1];\n  console.log(`Scene ID: ${sceneId}`);\n\n  // Disable shadows on low quality\n  scene.setAttribute(\"shadow\", { enabled: window.APP.quality !== \"low\" });\n\n  let uiProps = { sceneId: sceneId };\n\n  mountUI(scene);\n\n  const remountUI = props => {\n    uiProps = { ...uiProps, ...props };\n    mountUI(scene, uiProps);\n  };\n\n  const sceneRoot = document.querySelector(\"#scene-root\");\n  const sceneModelEntity = document.createElement(\"a-entity\");\n  const gltfEl = document.createElement(\"a-entity\");\n  const camera = document.getElementById(\"camera\");\n\n  sceneModelEntity.addEventListener(\"scene-loaded\", () => {\n    remountUI({ sceneLoaded: true });\n    const previewCamera = gltfEl.object3D.getObjectByName(\"scene-preview-camera\");\n\n    if (previewCamera) {\n      camera.object3D.position.copy(previewCamera.position);\n      camera.object3D.rotation.copy(previewCamera.rotation);\n      camera.object3D.matrixNeedsUpdate = true;\n    }\n\n    camera.setAttribute(\"scene-preview-camera\", \"\");\n  });\n\n  const res = await fetch(getReticulumFetchUrl(`/api/v1/scenes/${sceneId}`)).then(r => r.json());\n  const sceneInfo = res.scenes[0];\n\n  const modelUrl = sceneInfo.model_url;\n  console.log(`Scene Model URL: ${modelUrl}`);\n\n  gltfEl.setAttribute(\"gltf-model-plus\", { src: modelUrl, useCache: false, inflate: true });\n  gltfEl.addEventListener(\"model-loaded\", () => sceneModelEntity.emit(\"scene-loaded\"));\n  sceneModelEntity.appendChild(gltfEl);\n  sceneRoot.appendChild(sceneModelEntity);\n\n  remountUI({\n    sceneName: sceneInfo.name,\n    sceneDescription: sceneInfo.description,\n    sceneAttributions: sceneInfo.attributions,\n    sceneScreenshotURL: sceneInfo.screenshot_url\n  });\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", onReady);\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport { IntlProvider, FormattedMessage, addLocaleData } from \"react-intl\";\nimport en from \"react-intl/locale-data/en\";\nimport styles from \"../assets/stylesheets/scene-ui.scss\";\nimport hubLogo from \"../assets/images/hub-preview-white.png\";\nimport spokeLogo from \"../assets/images/spoke_logo_black.png\";\nimport { getReticulumFetchUrl } from \"../utils/phoenix-utils\";\nimport { generateHubName } from \"../utils/name-generation\";\nimport { WithHoverSound } from \"./wrap-with-audio\";\nimport CreateRoomDialog from \"./create-room-dialog.js\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEllipsisH } from \"@fortawesome/free-solid-svg-icons/faEllipsisH\";\n\nimport { lang, messages } from \"../utils/i18n\";\n\naddLocaleData([...en]);\n\nclass SceneUI extends Component {\n  static propTypes = {\n    scene: PropTypes.object,\n    sceneLoaded: PropTypes.bool,\n    sceneId: PropTypes.string,\n    sceneName: PropTypes.string,\n    sceneDescription: PropTypes.string,\n    sceneAttributions: PropTypes.object,\n    sceneScreenshotURL: PropTypes.string\n  };\n\n  state = {\n    showScreenshot: false,\n    showCustomRoomDialog: false\n  };\n\n  constructor(props) {\n    super(props);\n\n    // Show screenshot if scene isn't loaded in 5 seconds\n    setTimeout(() => {\n      if (!this.props.sceneLoaded) {\n        this.setState({ showScreenshot: true });\n      }\n    }, 5000);\n  }\n\n  componentDidMount() {\n    this.props.scene.addEventListener(\"loaded\", this.onSceneLoaded);\n  }\n\n  componentWillUnmount() {\n    this.props.scene.removeEventListener(\"loaded\", this.onSceneLoaded);\n  }\n\n  createRoom = async () => {\n    const payload = { hub: { name: this.state.customRoomName || generateHubName(), scene_id: this.props.sceneId } };\n    const createUrl = getReticulumFetchUrl(\"/api/v1/hubs\");\n\n    const res = await fetch(createUrl, {\n      body: JSON.stringify(payload),\n      headers: { \"content-type\": \"application/json\" },\n      method: \"POST\"\n    });\n\n    const hub = await res.json();\n\n    if (!process.env.RETICULUM_SERVER || document.location.host === process.env.RETICULUM_SERVER) {\n      document.location = hub.url;\n    } else {\n      document.location = `/hub.html?hub_id=${hub.hub_id}`;\n    }\n  };\n\n  render() {\n    const sceneUrl = [location.protocol, \"//\", location.host, location.pathname].join(\"\");\n    const tweetText = `${this.props.sceneName} in #hubs`;\n    const tweetLink = `https://twitter.com/share?url=${encodeURIComponent(sceneUrl)}&text=${encodeURIComponent(\n      tweetText\n    )}`;\n\n    let attributions;\n\n    const toAttributionSpan = a => {\n      if (a.url) {\n        const source =\n          a.url.indexOf(\"sketchfab.com\") >= 0\n            ? \"on Sketchfab\"\n            : a.url.indexOf(\"poly.google.com\") >= 0\n              ? \"on Google Poly\"\n              : \"\";\n\n        return (\n          <span key={a.url}>\n            <a href={a.url} target=\"_blank\" rel=\"noopener noreferrer\">\n              {a.name} by {a.author} {source}\n            </a>\n            &nbsp;\n          </span>\n        );\n      } else {\n        return (\n          <span key={`${a.name} ${a.author}`}>\n            {a.name} by {a.author}\n            &nbsp;\n          </span>\n        );\n      }\n    };\n\n    if (this.props.sceneAttributions) {\n      if (!this.props.sceneAttributions.extras) {\n        attributions = (\n          <span>\n            <span>{this.props.sceneAttributions.creator ? `by ${this.props.sceneAttributions.creator}` : \"\"}</span>\n            &nbsp;\n            <br />\n            {this.props.sceneAttributions.content && this.props.sceneAttributions.content.map(toAttributionSpan)}\n          </span>\n        );\n      } else {\n        // Legacy\n        attributions = <span>{this.props.sceneAttributions.extras}</span>;\n      }\n    }\n\n    return (\n      <IntlProvider locale={lang} messages={messages}>\n        <div className={styles.ui}>\n          <div\n            className={classNames({\n              [styles.screenshot]: true,\n              [styles.screenshotHidden]: this.props.sceneLoaded\n            })}\n          >\n            {this.state.showScreenshot && <img src={this.props.sceneScreenshotURL} />}\n          </div>\n          <div className={styles.whiteOverlay} />\n          <div className={styles.grid}>\n            <div className={styles.mainPanel}>\n              <WithHoverSound>\n                <a href=\"/\" className={styles.logo}>\n                  <img src={hubLogo} />\n                </a>\n              </WithHoverSound>\n              <div className={styles.logoTagline}>\n                <FormattedMessage id=\"scene.logo_tagline\" />\n              </div>\n              <div className={styles.createButtons}>\n                <WithHoverSound>\n                  <button className={styles.createButton} onClick={this.createRoom}>\n                    <FormattedMessage id=\"scene.create_button\" />\n                  </button>\n                </WithHoverSound>\n                <WithHoverSound>\n                  <button\n                    className={styles.optionsButton}\n                    onClick={() => this.setState({ showCustomRoomDialog: true })}\n                  >\n                    <FontAwesomeIcon icon={faEllipsisH} />\n                  </button>\n                </WithHoverSound>\n              </div>\n              <WithHoverSound>\n                <a href={tweetLink} rel=\"noopener noreferrer\" target=\"_blank\" className={styles.tweetButton}>\n                  <img src=\"../assets/images/twitter.svg\" />\n                  <div>\n                    <FormattedMessage id=\"scene.tweet_button\" />\n                  </div>\n                </a>\n              </WithHoverSound>\n            </div>\n          </div>\n          <div className={styles.info}>\n            <div className={styles.name}>{this.props.sceneName}</div>\n            <div className={styles.attribution}>{attributions}</div>\n          </div>\n          <div className={styles.spoke}>\n            <div className={styles.madeWith}>made with</div>\n            <a href=\"/spoke\">\n              <img src={spokeLogo} />\n            </a>\n          </div>\n          {this.state.showCustomRoomDialog && (\n            <CreateRoomDialog\n              includeScenePrompt={false}\n              onClose={() => this.setState({ showCustomRoomDialog: false })}\n              onCustomScene={name => {\n                this.setState({ showCustomRoomDialog: false, customRoomName: name }, () => this.createRoom());\n              }}\n            />\n          )}\n        </div>\n      </IntlProvider>\n    );\n  }\n}\n\nexport default SceneUI;\n","module.exports = __webpack_public_path__ + \"assets/images/twitter-b2e343d39bc8d3294292e506c7173f71.svg\";","module.exports = __webpack_public_path__ + \"assets/images/spoke_logo_black-9011a0dad952669b6c27dcdd3f3568dd.png\";","const THREE = AFRAME.THREE;\n\nfunction checkFloatTextureSupport() {\n  const renderer = new THREE.WebGLRenderer();\n\n  const scene = new THREE.Scene();\n  const size = 2;\n  const data = new Float32Array(size * size * 4);\n  const dataTexture = new THREE.DataTexture(data, size, size, THREE.RGBAFormat, THREE.FloatType);\n  const box = new THREE.Mesh(new THREE.PlaneBufferGeometry(1, 1), new THREE.MeshBasicMaterial({ map: dataTexture }));\n  box.material.map.needsUpdate = true;\n  scene.add(box);\n\n  renderer.render(scene, new THREE.Camera());\n  const result = renderer.context.getError() === 0;\n  renderer.dispose();\n  return result;\n}\n\nexport function patchWebGLRenderingContext() {\n  if (/Android.+Firefox/.test(navigator.userAgent)) {\n    // It appears that Galaxy S6 devices falsely report that they support\n    // OES_texture_float in Firefox. This workaround disables float textures\n    // for those devices.\n    // See https://github.com/mozilla/hubs/issues/32 and\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1338656\n    const originalGetExtension = WebGLRenderingContext.prototype.getExtension;\n    const supportsFloatTextures = checkFloatTextureSupport();\n    WebGLRenderingContext.prototype.getExtension = function patchedGetExtension(name) {\n      if (name === \"OES_texture_float\" && !supportsFloatTextures) {\n        return null;\n      }\n      return originalGetExtension.call(this, name);\n    };\n  }\n}\n","/**\n * Instantiates and updates a THREE.AnimationMixer on an entity.\n * @component animation-mixer\n */\nAFRAME.registerComponent(\"animation-mixer\", {\n  initMixer(animations) {\n    this.mixer = new THREE.AnimationMixer(this.el.object3D);\n    this.el.object3D.animations = animations;\n    this.animations = animations;\n  },\n\n  tick: function(t, dt) {\n    if (this.mixer) {\n      this.mixer.update(dt / 1000);\n    }\n  }\n});\n","/**\n * Emits audioFrequencyChange events based on a networked audio source\n * @namespace avatar\n * @component networked-audio-analyser\n */\nAFRAME.registerComponent(\"networked-audio-analyser\", {\n  async init() {\n    this.volume = 0;\n    this.prevVolume = 0;\n    this.smoothing = 0.3;\n    this.threshold = 0.01;\n    this.el.addEventListener(\"sound-source-set\", event => {\n      const ctx = THREE.AudioContext.getContext();\n      this.analyser = ctx.createAnalyser();\n      this.analyser.fftSize = 32;\n      this.levels = new Uint8Array(this.analyser.frequencyBinCount);\n      event.detail.soundSource.connect(this.analyser);\n    });\n  },\n\n  tick: function() {\n    if (!this.analyser) return;\n\n    // take care with compatibility, e.g. safari doesn't support getFloatTimeDomainData\n    this.analyser.getByteTimeDomainData(this.levels);\n\n    let sum = 0;\n    for (let i = 0; i < this.levels.length; i++) {\n      const amplitude = (this.levels[i] - 128) / 128;\n      sum += amplitude * amplitude;\n    }\n    let currVolume = Math.sqrt(sum / this.levels.length);\n    if (currVolume < this.threshold) {\n      currVolume = 0;\n    }\n    this.volume = this.smoothing * currVolume + (1 - this.smoothing) * this.prevVolume;\n    this.prevVolume = this.volume;\n  }\n});\n\n/**\n * Sets an entity's scale base on audioFrequencyChange events.\n * @namespace avatar\n * @component scale-audio-feedback\n */\nAFRAME.registerComponent(\"scale-audio-feedback\", {\n  schema: {\n    minScale: { default: 1 },\n    maxScale: { default: 1.5 }\n  },\n\n  tick() {\n    // TODO: come up with a cleaner way to handle this.\n    // bone's are \"hidden\" by scaling them with bone-visibility, without this we would overwrite that.\n    if (!this.el.object3D.visible) return;\n\n    const { minScale, maxScale } = this.data;\n\n    const audioAnalyser = this.el.components[\"networked-audio-analyser\"];\n\n    if (!audioAnalyser) return;\n\n    const scale = Math.min(maxScale, minScale + (maxScale - minScale) * audioAnalyser.volume * 8);\n    this.el.object3D.scale.setScalar(scale);\n    this.el.object3D.matrixNeedsUpdate = true;\n  }\n});\n","const VERTEX_SHADER = `\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n  #include <uv_vertex>\n  #include <uv2_vertex>\n  #include <color_vertex>\n  #include <skinbase_vertex>\n\n  #include <begin_vertex>\n  #include <morphtarget_vertex>\n  #include <skinning_vertex>\n  #include <project_vertex>\n  #include <logdepthbuf_vertex>\n\n  #include <worldpos_vertex>\n  #include <clipping_planes_vertex>\n  #include <fog_vertex>\n}\n`;\n\nconst FRAGMENT_SHADER = `\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <aomap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n  #include <clipping_planes_fragment>\n\n  vec4 diffuseColor = vec4(diffuse, opacity);\n  ReflectedLight reflectedLight = ReflectedLight(vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));\n  vec3 totalEmissiveRadiance = emissive;\n\n  #include <logdepthbuf_fragment>\n  #include <map_fragment>\n  #include <color_fragment>\n  #include <alphatest_fragment>\n  #include <emissivemap_fragment>\n\n  reflectedLight.indirectDiffuse += vec3(1.0);\n\n  #include <aomap_fragment>\n\n  reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\n  vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n  gl_FragColor = vec4(outgoingLight, diffuseColor.a);\n\n  #include <premultiplied_alpha_fragment>\n  #include <tonemapping_fragment>\n  #include <encodings_fragment>\n  #include <fog_fragment>\n}\n`;\n\nexport default class MobileStandardMaterial extends THREE.ShaderMaterial {\n  type = \"MobileStandardMaterial\";\n  isMobileStandardMaterial = true;\n  static fromStandardMaterial(material) {\n    const parameters = {\n      vertexShader: VERTEX_SHADER,\n      fragmentShader: FRAGMENT_SHADER,\n      uniforms: {\n        uvTransform: { value: new THREE.Matrix3() },\n        diffuse: { value: material.color },\n        opacity: { value: material.opacity },\n        map: { value: material.map },\n        aoMapIntensity: { value: material.aoMapIntensity },\n        aoMap: { value: material.aoMap },\n        emissive: { value: material.emissive },\n        emissiveMap: { value: material.emissiveMap }\n      },\n      fog: true,\n      lights: false,\n      opacity: material.opacity,\n      transparent: material.transparent,\n      skinning: material.skinning,\n      morphTargets: material.morphTargets\n    };\n\n    const mobileMaterial = new MobileStandardMaterial(parameters);\n\n    mobileMaterial.color = material.color;\n    mobileMaterial.map = material.map;\n    mobileMaterial.aoMap = material.aoMap;\n    mobileMaterial.aoMapIntensity = material.aoMapIntensity;\n    mobileMaterial.emissive = material.emissive;\n    mobileMaterial.emissiveMap = material.emissiveMap;\n\n    return mobileMaterial;\n  }\n  clone() {\n    return MobileStandardMaterial.fromStandardMaterial(this);\n  }\n}\n","module.exports = __webpack_public_path__ + \"assets/images/cubemap/posx-d235fb97df77b607be04b84125f40e7c.jpg\";","module.exports = __webpack_public_path__ + \"assets/images/cubemap/negx-35034574e114423babdea92b6a2eb97a.jpg\";","module.exports = __webpack_public_path__ + \"assets/images/cubemap/posy-d0c4e1e7979d75923d4d8b49c191bc6e.jpg\";","module.exports = __webpack_public_path__ + \"assets/images/cubemap/negy-35808d21d1d17ac1b84d3184e365093b.jpg\";","module.exports = __webpack_public_path__ + \"assets/images/cubemap/posz-de29aa8396196e4b040cd5305e351dbe.jpg\";","module.exports = __webpack_public_path__ + \"assets/images/cubemap/negz-d73d18a8b7994524dc39a6ea3fcf43fc.jpg\";","module.exports = \"if (hubs_HighlightInteractorOne || hubs_HighlightInteractorTwo) {\\n  float ratio = 0.0;\\n\\n  if (hubs_EnableSweepingEffect) {\\n    float size = hubs_SweepParams.t - hubs_SweepParams.s;\\n    float line = mod(hubs_Time / 3000.0 * size, size * 2.0) + hubs_SweepParams.s - size / 2.0;\\n\\n    if (hubs_WorldPosition.y < line) {\\n      // Highlight with a sweeping gradient.\\n      ratio = max(0.0, 1.0 - (line - hubs_WorldPosition.y) / size * 3.0);\\n    }\\n  }\\n\\n  // Highlight with a gradient falling off with distance.\\n  float pulse = 9.0 + 3.0 * (sin(hubs_Time / 1000.0) + 1.0);\\n\\n  if (hubs_HighlightInteractorOne) {\\n    float dist1 = distance(hubs_WorldPosition, hubs_InteractorOnePos);\\n    ratio += -min(1.0, pow(dist1 * pulse, 3.0)) + 1.0;\\n  } \\n\\n  if (hubs_HighlightInteractorTwo) {\\n    float dist2 = distance(hubs_WorldPosition, hubs_InteractorTwoPos);\\n    ratio += -min(1.0, pow(dist2 * pulse, 3.0)) + 1.0;\\n  }\\n\\n  ratio = min(1.0, ratio);\\n\\n  // Gamma corrected highlight color\\n  vec3 highlightColor = vec3(0.184, 0.499, 0.933);\\n\\n  gl_FragColor.rgb = (gl_FragColor.rgb * (1.0 - ratio)) + (highlightColor * ratio);\\n}\\n\"","// removed by extract-text-webpack-plugin\nmodule.exports = {\"tweetButton\":\"scene-ui__tweetButton__NAR59\",\"createButton\":\"scene-ui__createButton__1DQtQ\",\"optionsButton\":\"scene-ui__optionsButton__lzUHO\",\"ui\":\"scene-ui__ui__3JHPz\",\"logoTagline\":\"scene-ui__logoTagline___LR3I\",\"whiteOverlay\":\"scene-ui__whiteOverlay__1Pz3I\",\"grid\":\"scene-ui__grid__34j9h\",\"mainPanel\":\"scene-ui__mainPanel__IuYxi\",\"logo\":\"scene-ui__logo__26JnS\",\"info\":\"scene-ui__info__3Nznh\",\"name\":\"scene-ui__name__2-7V_\",\"attribution\":\"scene-ui__attribution__3nlIi\",\"screenshot\":\"scene-ui__screenshot__279rF\",\"screenshotHidden\":\"scene-ui__screenshotHidden__3nHWx\",\"spoke\":\"scene-ui__spoke___KrWT\",\"madeWith\":\"scene-ui__madeWith__A5stW\",\"createButtons\":\"scene-ui__createButtons__1COLQ\"};","export const Layers = {\n  // Layers 0 - 2 reserverd by ThreeJS and AFrame.\n  reflection: 3\n};\n\n/**\n * Sets layer flags on the underlying Object3D\n * @namespace environment\n * @component layers\n */\nAFRAME.registerComponent(\"layers\", {\n  schema: {\n    reflection: { type: \"boolean\", default: false },\n    inWorldHud: { type: \"boolean\", default: false },\n    exclusive: { type: \"boolean\", default: false } // if true, only these layers will be set\n  },\n  init() {\n    this.update = this.update.bind(this);\n    this.el.addEventListener(\"model-loaded\", this.update);\n  },\n  update(oldData) {\n    const obj = this.el.object3D;\n\n    if (this.data.exclusive) {\n      obj.traverse(o => (o.layers.mask = 0));\n    }\n\n    for (const [name, layer] of Object.entries(Layers)) {\n      const oldValue = oldData[name];\n      const newValue = this.data[name];\n\n      if (oldValue !== newValue) {\n        if (newValue) {\n          obj.traverse(o => o.layers.enable(layer));\n        } else {\n          obj.traverse(o => o.layers.disable(layer));\n        }\n      }\n    }\n  },\n  remove() {\n    this.el.removeEventListener(\"model-loaded\", this.update);\n  }\n});\n","import { findAncestorWithComponent } from \"../utils/scene-graph\";\n\n/**\n * Loops the given clip using this entity's animation mixer\n * @component loop-animation\n */\nAFRAME.registerComponent(\"loop-animation\", {\n  schema: {\n    clip: { type: \"string\" }\n  },\n\n  init() {\n    this.mixerEl = findAncestorWithComponent(this.el, \"animation-mixer\");\n\n    if (!this.mixerEl) {\n      console.warn(\"loop-animation component could not find an animation-mixer in its ancestors.\");\n      return;\n    }\n\n    this.updateClip();\n  },\n\n  update(oldData) {\n    if (oldData.clip !== this.data.clip && this.mixerEl) {\n      this.updateClip();\n    }\n  },\n\n  updateClip() {\n    const { mixer, animations } = this.mixerEl.components[\"animation-mixer\"];\n    const clipName = this.data.clip;\n\n    if (animations.length === 0) {\n      return;\n    }\n\n    let clip;\n\n    if (!clipName) {\n      clip = animations[0];\n    } else {\n      clip = animations.find(({ name }) => name === clipName);\n    }\n\n    if (!clip) {\n      return;\n    }\n\n    const action = mixer.clipAction(clip, this.el.object3D);\n    action.enabled = true;\n    action.setLoop(THREE.LoopRepeat, Infinity).play();\n    this.currentAction = action;\n  },\n\n  destroy() {\n    if (this.currentAction) {\n      this.currentAction.enabled = false;\n      this.currentAction.stop();\n    }\n  }\n});\n","import { detectOS } from \"detect-browser\";\n\nexport function disableiOSZoom() {\n  if (detectOS(navigator.userAgent) !== \"iOS\") return;\n\n  let lastTouchAtMs = 0;\n\n  document.addEventListener(\"touchmove\", ev => {\n    if (ev.scale === 1) return;\n\n    ev.preventDefault();\n  });\n\n  document.addEventListener(\"touchend\", ev => {\n    const now = new Date().getTime();\n    const isDoubleTouch = now - lastTouchAtMs <= 300;\n    lastTouchAtMs = now;\n\n    if (isDoubleTouch) {\n      ev.preventDefault();\n    }\n  });\n}\n","import \"./components/gltf-model-plus\";\n\nAFRAME.GLTFModelPlus.registerComponent(\"duck\", \"duck\");\nAFRAME.GLTFModelPlus.registerComponent(\"quack\", \"quack\");\nAFRAME.GLTFModelPlus.registerComponent(\"sound\", \"sound\");\nAFRAME.GLTFModelPlus.registerComponent(\"collision-filter\", \"collision-filter\");\nAFRAME.GLTFModelPlus.registerComponent(\"css-class\", \"css-class\");\nAFRAME.GLTFModelPlus.registerComponent(\"interactable\", \"css-class\", (el, componentName) => {\n  el.setAttribute(componentName, \"interactable\");\n});\nAFRAME.GLTFModelPlus.registerComponent(\"super-spawner\", \"super-spawner\");\nAFRAME.GLTFModelPlus.registerComponent(\"gltf-model-plus\", \"gltf-model-plus\");\nAFRAME.GLTFModelPlus.registerComponent(\"media-loader\", \"media-loader\");\nAFRAME.GLTFModelPlus.registerComponent(\"body\", \"body\");\nAFRAME.GLTFModelPlus.registerComponent(\"hide-when-quality\", \"hide-when-quality\");\nAFRAME.GLTFModelPlus.registerComponent(\"light\", \"light\");\nAFRAME.GLTFModelPlus.registerComponent(\"ambient-light\", \"ambient-light\");\nAFRAME.GLTFModelPlus.registerComponent(\"directional-light\", \"directional-light\");\nAFRAME.GLTFModelPlus.registerComponent(\"hemisphere-light\", \"hemisphere-light\");\nAFRAME.GLTFModelPlus.registerComponent(\"point-light\", \"point-light\");\nAFRAME.GLTFModelPlus.registerComponent(\"spot-light\", \"spot-light\");\nAFRAME.GLTFModelPlus.registerComponent(\"skybox\", \"skybox\");\nAFRAME.GLTFModelPlus.registerComponent(\"layers\", \"layers\");\nAFRAME.GLTFModelPlus.registerComponent(\"shadow\", \"shadow\");\nAFRAME.GLTFModelPlus.registerComponent(\"water\", \"water\");\nAFRAME.GLTFModelPlus.registerComponent(\"scale-audio-feedback\", \"scale-audio-feedback\");\nAFRAME.GLTFModelPlus.registerComponent(\"animation-mixer\", \"animation-mixer\");\nAFRAME.GLTFModelPlus.registerComponent(\"loop-animation\", \"loop-animation\");\nAFRAME.GLTFModelPlus.registerComponent(\"shape\", \"shape\");\nAFRAME.GLTFModelPlus.registerComponent(\"heightfield\", \"heightfield\");\nAFRAME.GLTFModelPlus.registerComponent(\n  \"box-collider\",\n  \"shape\",\n  (() => {\n    const euler = new THREE.Euler();\n    return (el, componentName, componentData) => {\n      const { scale, rotation } = componentData;\n      euler.set(rotation.x, rotation.y, rotation.z);\n      const orientation = new THREE.Quaternion().setFromEuler(euler);\n      el.setAttribute(componentName, {\n        shape: \"box\",\n        offset: componentData.position,\n        halfExtents: { x: scale.x / 2, y: scale.y / 2, z: scale.z / 2 },\n        orientation\n      });\n    };\n  })()\n);\nAFRAME.GLTFModelPlus.registerComponent(\"visible\", \"visible\", (el, componentName, componentData) => {\n  if (typeof componentData === \"object\") {\n    el.setAttribute(componentName, componentData.visible);\n  } else {\n    el.setAttribute(componentName, componentData);\n  }\n});\nAFRAME.GLTFModelPlus.registerComponent(\"spawn-point\", \"spawn-point\");\nAFRAME.GLTFModelPlus.registerComponent(\"hoverable\", \"hoverable\");\nAFRAME.GLTFModelPlus.registerComponent(\"sticky-zone\", \"sticky-zone\");\nAFRAME.GLTFModelPlus.registerComponent(\"nav-mesh\", \"nav-mesh\", (el, _componentName, componentData) => {\n  const nav = AFRAME.scenes[0].systems.nav;\n  const zone = componentData.zone || \"character\";\n  let found = false;\n  el.object3D.traverse(node => {\n    if (node.isMesh && !found) {\n      found = true;\n      nav.loadMesh(node, zone);\n    }\n  });\n  // There isn't actually an a-frame nav-mesh component, but we want to tag this el as a nav-mesh since\n  // nav-mesh-helper will query for it later.\n  el.setAttribute(\"nav-mesh\");\n});\n\nAFRAME.GLTFModelPlus.registerComponent(\"pinnable\", \"pinnable\");\n\nAFRAME.GLTFModelPlus.registerComponent(\"media\", \"media\", (el, componentName, componentData) => {\n  if (componentData.id) {\n    el.setAttribute(\"networked\", {\n      template: \"#interactable-media\",\n      owner: \"scene\",\n      persistent: true,\n      networkId: componentData.id\n    });\n  }\n\n  el.setAttribute(\"media-loader\", { src: componentData.src, resize: true, resolve: true, fileIsOwned: true });\n\n  if (componentData.pageIndex) {\n    el.setAttribute(\"media-pager\", { index: componentData.pageIndex });\n  }\n\n  if (componentData.paused !== undefined) {\n    el.setAttribute(\"media-video\", { videoPaused: componentData.paused });\n  }\n\n  if (componentData.time) {\n    el.setAttribute(\"media-video\", { time: componentData.time });\n  }\n});\n\nfunction mediaInflator(el, componentName, componentData, components) {\n  if (components.networked) {\n    el.setAttribute(\"networked\", {\n      template: componentData.controls ? \"#static-controlled-media\" : \"#static-media\",\n      owner: \"scene\",\n      persistent: true,\n      networkId: components.networked.id\n    });\n  }\n\n  const mediaOptions = {\n    projection: componentData.projection\n  };\n\n  if (componentName === \"video\") {\n    mediaOptions.videoPaused = !componentData.autoPlay;\n    mediaOptions.volume = componentData.volume;\n    mediaOptions.loop = componentData.loop;\n    mediaOptions.audioType = componentData.audioType;\n\n    if (componentData.audioType === \"pannernode\") {\n      mediaOptions.distanceModel = componentData.distanceModel;\n      mediaOptions.rolloffFactor = componentData.rolloffFactor;\n      mediaOptions.refDistance = componentData.refDistance;\n      mediaOptions.maxDistance = componentData.maxDistance;\n      mediaOptions.coneInnerAngle = componentData.coneInnerAngle;\n      mediaOptions.coneOuterAngle = componentData.coneOuterAngle;\n      mediaOptions.coneOuterGain = componentData.coneOuterGain;\n    }\n  }\n\n  el.setAttribute(\"media-loader\", {\n    src: componentData.src,\n    resize: true,\n    resolve: true,\n    fileIsOwned: true,\n    mediaOptions\n  });\n}\n\nAFRAME.GLTFModelPlus.registerComponent(\"image\", \"image\", mediaInflator);\nAFRAME.GLTFModelPlus.registerComponent(\"video\", \"video\", mediaInflator);\n","import Store from \"./storage/store\";\n\nexport class App {\n  constructor() {\n    this.scene = null;\n    this.quality = \"low\";\n    this.store = new Store();\n  }\n\n  setQuality(quality) {\n    if (this.quality === quality) {\n      return false;\n    }\n\n    this.quality = quality;\n\n    if (this.scene) {\n      this.scene.dispatchEvent(new CustomEvent(\"quality-changed\", { detail: quality }));\n    }\n\n    return true;\n  }\n}\n","export function addAnimationComponents(modelEl) {\n  if (!modelEl.components[\"animation-mixer\"]) {\n    return;\n  }\n\n  if (!modelEl.querySelector(\"[loop-animation]\")) {\n    modelEl.setAttribute(\"loop-animation\", \"\");\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { WithHoverSound } from \"./wrap-with-audio\";\n\nexport default class DialogContainer extends Component {\n  static propTypes = {\n    title: PropTypes.node,\n    children: PropTypes.node.isRequired,\n    onClose: PropTypes.func,\n    closable: PropTypes.bool\n  };\n\n  static defaultProps = {\n    closable: true\n  };\n\n  constructor(props) {\n    super(props);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onContainerClicked = this.onContainerClicked.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  onKeyDown(e) {\n    if (this.props.closable && e.key === \"Escape\") {\n      this.props.onClose();\n    }\n  }\n\n  onContainerClicked = e => {\n    if (this.props.closable && e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"dialog-overlay\">\n        <div className=\"dialog\" onClick={this.onContainerClicked}>\n          <div className=\"dialog__box\">\n            <div className=\"dialog__box__contents\">\n              {this.props.closable &&\n                this.props.onClose && (\n                  <WithHoverSound>\n                    <button className=\"dialog__box__contents__close\" onClick={this.props.onClose}>\n                      <span>×</span>\n                    </button>\n                  </WithHoverSound>\n                )}\n              <div className=\"dialog__box__contents__title\">{this.props.title}</div>\n              <div className=\"dialog__box__contents__body\">{this.props.children}</div>\n              <div className=\"dialog__box__contents__button-container\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","const rotation = new THREE.Euler();\nexport function getBox(entity, boxRoot) {\n  const box = new THREE.Box3();\n\n  rotation.copy(entity.object3D.rotation);\n  entity.object3D.rotation.set(0, 0, 0);\n\n  entity.object3D.updateMatrices(true, true);\n  boxRoot.updateMatrices(true, true);\n\n  box.setFromObject(boxRoot);\n\n  if (!box.isEmpty()) {\n    entity.object3D.worldToLocal(box.min);\n    entity.object3D.worldToLocal(box.max);\n    entity.object3D.rotation.copy(rotation);\n    entity.object3D.matrixNeedsUpdate = true;\n  }\n\n  return box;\n}\n\nexport function getScaleCoefficient(length, box) {\n  if (box.isEmpty()) return 1.0;\n\n  const { max, min } = box;\n  const dX = Math.abs(max.x - min.x);\n  const dY = Math.abs(max.y - min.y);\n  const dZ = Math.abs(max.z - min.z);\n  const lengthOfLongestComponent = Math.max(dX, dY, dZ);\n  return length / lengthOfLongestComponent;\n}\n","import { paths } from \"../systems/userinput/paths\";\n\nconst POSES = {\n  open: \"open\",\n  point: \"point\",\n  fist: \"fist\",\n  hold: \"hold\",\n  thumbUp: \"thumbUp\",\n  thumbDown: \"thumbDown\",\n  indexDown: \"indexDown\",\n  pinch: \"pinch\",\n  mrpDown: \"mrpDown\"\n};\n\nexport const LEFT_CONTROLLER_OFFSETS = {\n  default: new THREE.Matrix4(),\n  \"oculus-touch-controls\": new THREE.Matrix4().makeTranslation(-0.025, -0.03, 0.1),\n  \"oculus-go-controls\": new THREE.Matrix4(),\n  \"vive-controls\": new THREE.Matrix4().compose(\n    new THREE.Vector3(0, 0, 0.13),\n    new THREE.Quaternion().setFromEuler(new THREE.Euler(-40 * THREE.Math.DEG2RAD, 0, 0)),\n    new THREE.Vector3(1, 1, 1)\n  ),\n  \"windows-motion-controls\": new THREE.Matrix4().compose(\n    new THREE.Vector3(0, -0.017, 0.13),\n    new THREE.Quaternion().setFromEuler(new THREE.Euler(-40 * THREE.Math.DEG2RAD, 0, 0)),\n    new THREE.Vector3(1, 1, 1)\n  ),\n  \"daydream-controls\": new THREE.Matrix4().makeTranslation(0, 0, -0.04),\n  \"gearvr-controls\": new THREE.Matrix4()\n};\n\nexport const RIGHT_CONTROLLER_OFFSETS = {\n  default: new THREE.Matrix4(),\n  \"oculus-touch-controls\": new THREE.Matrix4().makeTranslation(0.025, -0.03, 0.1),\n  \"oculus-go-controls\": new THREE.Matrix4(),\n  \"vive-controls\": new THREE.Matrix4().compose(\n    new THREE.Vector3(0, 0, 0.13),\n    new THREE.Quaternion().setFromEuler(new THREE.Euler(-40 * THREE.Math.DEG2RAD, 0, 0)),\n    new THREE.Vector3(1, 1, 1)\n  ),\n  \"windows-motion-controls\": new THREE.Matrix4().compose(\n    new THREE.Vector3(0, -0.017, 0.13),\n    new THREE.Quaternion().setFromEuler(new THREE.Euler(-40 * THREE.Math.DEG2RAD, 0, 0)),\n    new THREE.Vector3(1, 1, 1)\n  ),\n  \"daydream-controls\": new THREE.Matrix4().makeTranslation(0, 0, -0.04),\n  \"gearvr-controls\": new THREE.Matrix4()\n};\n\n/**\n * Emits events indicating that avatar hands should be posed differently.\n * @namespace user-input\n * @component hand-controls2\n */\nAFRAME.registerComponent(\"hand-controls2\", {\n  schema: { default: \"left\" },\n\n  getLeftControllerOffset() {\n    if (LEFT_CONTROLLER_OFFSETS[this.connectedController] === undefined) {\n      return LEFT_CONTROLLER_OFFSETS.default;\n    }\n    return LEFT_CONTROLLER_OFFSETS[this.connectedController];\n  },\n\n  getRightControllerOffset() {\n    if (RIGHT_CONTROLLER_OFFSETS[this.connectedController] === undefined) {\n      return RIGHT_CONTROLLER_OFFSETS.default;\n    }\n    return RIGHT_CONTROLLER_OFFSETS[this.connectedController];\n  },\n\n  init() {\n    this.pose = POSES.open;\n    this.el.setAttribute(\"visible\", false);\n\n    this.connectedController = null;\n\n    this.onControllerConnected = this.onControllerConnected.bind(this);\n    this.onControllerDisconnected = this.onControllerDisconnected.bind(this);\n    this.el.addEventListener(\"controllerconnected\", this.onControllerConnected);\n    this.el.addEventListener(\"controllerdisconnected\", this.onControllerDisconnected);\n  },\n\n  update(prevData) {\n    const el = this.el;\n    const hand = this.data;\n\n    const controlConfiguration = {\n      hand: hand,\n      model: false,\n      orientationOffset: { x: 0, y: 0, z: 0 }\n    };\n\n    if (hand !== prevData) {\n      el.setAttribute(\"vive-controls\", controlConfiguration);\n      el.setAttribute(\"oculus-touch-controls\", controlConfiguration);\n      el.setAttribute(\"oculus-go-controls\", controlConfiguration);\n      el.setAttribute(\"windows-motion-controls\", controlConfiguration);\n      el.setAttribute(\"daydream-controls\", controlConfiguration);\n      el.setAttribute(\"gearvr-controls\", controlConfiguration);\n    }\n  },\n\n  poseForFingers(thumb, index, middleRingPinky) {\n    if (!thumb && !index && !middleRingPinky) {\n      return POSES.open;\n    } else if (thumb && index && middleRingPinky) {\n      return POSES.fist;\n    } else if (!thumb && index && middleRingPinky) {\n      return POSES.thumbUp;\n    } else if (!thumb && !index && middleRingPinky) {\n      return POSES.mrpDown;\n    } else if (!thumb && index && !middleRingPinky) {\n      return POSES.indexDown;\n    } else if (thumb && !index && !middleRingPinky) {\n      return POSES.thumbDown;\n    } else if (thumb && index && !middleRingPinky) {\n      return POSES.pinch;\n    } else if (thumb && !index && middleRingPinky) {\n      return POSES.point;\n    }\n\n    console.warn(`Did not find matching pose for thumb ${thumb}, index ${index}, middleRingPinky ${middleRingPinky}`);\n    return POSES.open;\n  },\n\n  tick() {\n    const hand = this.data;\n    const userinput = AFRAME.scenes[0].systems.userinput;\n    const subpath = hand === \"left\" ? paths.actions.leftHand : paths.actions.rightHand;\n    const hasPose = userinput.get(subpath.pose);\n    const thumb = userinput.get(subpath.thumb);\n    const index = userinput.get(subpath.index);\n    const middleRingPinky = userinput.get(subpath.middleRingPinky);\n    const pose = this.poseForFingers(thumb, index, middleRingPinky);\n    if (pose !== this.pose) {\n      this.el.emit(\"hand-pose\", { previous: this.pose, current: pose });\n      this.pose = pose;\n    }\n\n    this.el.object3D.visible = !!hasPose;\n  },\n\n  // Show controller when connected\n  onControllerConnected(e) {\n    this.connectedController = e.detail.name;\n    this.el.setAttribute(\"visible\", true);\n  },\n\n  // Hide controller on disconnect\n  onControllerDisconnected() {\n    this.connectedController = null;\n    this.el.setAttribute(\"visible\", false);\n  }\n});\n","import { objectTypeForOriginAndContentType } from \"../object-types\";\nimport { getReticulumFetchUrl } from \"./phoenix-utils\";\nimport mediaHighlightFrag from \"./media-highlight-frag.glsl\";\n\nconst nonCorsProxyDomains = (process.env.NON_CORS_PROXY_DOMAINS || \"\").split(\",\");\nconst mediaAPIEndpoint = getReticulumFetchUrl(\"/api/v1/media\");\n\nconst commonKnownContentTypes = {\n  gltf: \"model/gltf\",\n  glb: \"model/gltf-binary\",\n  png: \"image/png\",\n  jpg: \"image/jpeg\",\n  jpeg: \"image/jpeg\",\n  pdf: \"application/pdf\",\n  mp4: \"video/mp4\",\n  mp3: \"audio/mpeg\"\n};\n\n// thanks to https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding\nfunction b64EncodeUnicode(str) {\n  // first we use encodeURIComponent to get percent-encoded UTF-8, then we convert the percent-encodings\n  // into raw bytes which can be fed into btoa.\n  const CHAR_RE = /%([0-9A-F]{2})/g;\n  return btoa(encodeURIComponent(str).replace(CHAR_RE, (_, p1) => String.fromCharCode(\"0x\" + p1)));\n}\n\nexport const proxiedUrlFor = (url, index) => {\n  if (!(url.startsWith(\"http:\") || url.startsWith(\"https:\"))) return url;\n\n  // Skip known domains that do not require CORS proxying.\n  try {\n    const parsedUrl = new URL(url);\n    if (nonCorsProxyDomains.find(domain => parsedUrl.hostname.endsWith(domain))) return url;\n  } catch (e) {\n    // Ignore\n  }\n\n  // farspark doesn't know how to read '=' base64 padding characters\n  const base64Url = b64EncodeUnicode(url).replace(/=+$/g, \"\");\n\n  if (index != null || !process.env.CORS_PROXY_SERVER) {\n    // translate base64 + to - and / to _ for URL safety\n    const encodedUrl = base64Url.replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n    const method = index != null ? \"extract\" : \"raw\";\n    return `https://${process.env.FARSPARK_SERVER}/0/${method}/0/0/0/${index || 0}/${encodedUrl}`;\n  } else {\n    const encodedUrl = encodeURIComponent(url);\n    return `https://${process.env.CORS_PROXY_SERVER}/${encodedUrl}`;\n  }\n};\n\nconst resolveUrlCache = new Map();\nexport const resolveUrl = async (url, index) => {\n  const cacheKey = `${url}|${index}`;\n  if (resolveUrlCache.has(cacheKey)) return resolveUrlCache.get(cacheKey);\n  const resolved = await fetch(mediaAPIEndpoint, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ media: { url, index } })\n  }).then(r => r.json());\n  resolveUrlCache.set(cacheKey, resolved);\n  return resolved;\n};\n\nexport const getCustomGLTFParserURLResolver = gltfUrl => (url, path) => {\n  if (typeof url !== \"string\" || url === \"\") return \"\";\n  if (/^(https?:)?\\/\\//i.test(url)) return url;\n  if (/^data:.*,.*$/i.test(url)) return url;\n  if (/^blob:.*$/i.test(url)) return url;\n\n  if (process.env.CORS_PROXY_SERVER) {\n    // For absolute paths with a CORS proxied gltf URL, re-write the url properly to be proxied\n    const corsProxyPrefix = `https://${process.env.CORS_PROXY_SERVER}/`;\n\n    if (gltfUrl.startsWith(corsProxyPrefix)) {\n      const originalUrl = decodeURIComponent(gltfUrl.substring(corsProxyPrefix.length));\n      const originalUrlParts = originalUrl.split(\"/\");\n\n      // Drop the .gltf filename\n      const assetUrl = originalUrlParts.slice(0, originalUrlParts.length - 1).join(\"/\") + \"/\" + url;\n      return corsProxyPrefix + encodeURIComponent(assetUrl);\n    }\n  }\n\n  return path + url;\n};\n\nexport const guessContentType = url => {\n  if (url.startsWith(\"hubs://\") && url.endsWith(\"/video\")) return \"video/vnd.hubs-webrtc\";\n  const extension = new URL(url).pathname.split(\".\").pop();\n  return commonKnownContentTypes[extension];\n};\n\nexport const upload = file => {\n  const formData = new FormData();\n  formData.append(\"media\", file);\n  formData.append(\"promotion_mode\", \"with_token\");\n  return fetch(mediaAPIEndpoint, {\n    method: \"POST\",\n    body: formData\n  }).then(r => r.json());\n};\n\n// https://stackoverflow.com/questions/7584794/accessing-jpeg-exif-rotation-data-in-javascript-on-the-client-side/32490603#32490603\nfunction getOrientation(file, callback) {\n  const reader = new FileReader();\n  reader.onload = function(e) {\n    const view = new DataView(e.target.result);\n    if (view.getUint16(0, false) != 0xffd8) {\n      return callback(-2);\n    }\n    const length = view.byteLength;\n    let offset = 2;\n    while (offset < length) {\n      if (view.getUint16(offset + 2, false) <= 8) return callback(-1);\n      const marker = view.getUint16(offset, false);\n      offset += 2;\n      if (marker == 0xffe1) {\n        if (view.getUint32((offset += 2), false) != 0x45786966) {\n          return callback(-1);\n        }\n\n        const little = view.getUint16((offset += 6), false) == 0x4949;\n        offset += view.getUint32(offset + 4, little);\n        const tags = view.getUint16(offset, little);\n        offset += 2;\n        for (let i = 0; i < tags; i++) {\n          if (view.getUint16(offset + i * 12, little) == 0x0112) {\n            return callback(view.getUint16(offset + i * 12 + 8, little));\n          }\n        }\n      } else if ((marker & 0xff00) != 0xff00) {\n        break;\n      } else {\n        offset += view.getUint16(offset, false);\n      }\n    }\n    return callback(-1);\n  };\n  reader.readAsArrayBuffer(file);\n}\n\nlet interactableId = 0;\nexport const addMedia = (src, template, contentOrigin, resolve = false, resize = false) => {\n  const scene = AFRAME.scenes[0];\n\n  const entity = document.createElement(\"a-entity\");\n  entity.id = \"interactable-media-\" + interactableId++;\n  entity.setAttribute(\"networked\", { template: template });\n  const needsToBeUploaded = src instanceof File;\n  entity.setAttribute(\"media-loader\", {\n    resize,\n    resolve,\n    src: typeof src === \"string\" ? src : \"\",\n    fileIsOwned: !needsToBeUploaded\n  });\n  scene.appendChild(entity);\n\n  const fireLoadingTimeout = setTimeout(() => {\n    scene.emit(\"media-loading\", { src: src });\n  }, 100);\n\n  [\"model-loaded\", \"video-loaded\", \"image-loaded\"].forEach(eventName => {\n    entity.addEventListener(eventName, () => {\n      clearTimeout(fireLoadingTimeout);\n\n      if (!entity.classList.contains(\"pen\") && !entity.getAttribute(\"animation__spawn-start\")) {\n        entity.object3D.scale.setScalar(0.5);\n        entity.matrixNeedsUpdate = true;\n\n        entity.setAttribute(\"animation__spawn-start\", {\n          property: \"scale\",\n          delay: 50,\n          dur: 300,\n          from: { x: 0.5, y: 0.5, z: 0.5 },\n          to: { x: 1.0, y: 1.0, z: 1.0 },\n          easing: \"easeOutElastic\"\n        });\n      }\n\n      scene.emit(\"media-loaded\", { src: src });\n    });\n  });\n\n  const orientation = new Promise(function(resolve) {\n    if (needsToBeUploaded) {\n      getOrientation(src, x => {\n        resolve(x);\n      });\n    } else {\n      resolve(1);\n    }\n  });\n  if (needsToBeUploaded) {\n    upload(src)\n      .then(response => {\n        const srcUrl = new URL(response.raw);\n        srcUrl.searchParams.set(\"token\", response.meta.access_token);\n        entity.setAttribute(\"media-loader\", { resolve: false, src: srcUrl.href, fileId: response.file_id });\n        window.APP.store.update({\n          uploadPromotionTokens: [{ fileId: response.file_id, promotionToken: response.meta.promotion_token }]\n        });\n      })\n      .catch(e => {\n        console.error(\"Media upload failed\", e);\n        entity.setAttribute(\"media-loader\", { src: \"error\" });\n      });\n  } else if (src instanceof MediaStream) {\n    entity.setAttribute(\"media-loader\", { src: `hubs://clients/${NAF.clientId}/video` });\n  }\n\n  if (contentOrigin) {\n    entity.addEventListener(\"media_resolved\", ({ detail }) => {\n      const objectType = objectTypeForOriginAndContentType(contentOrigin, detail.contentType);\n      scene.emit(\"object_spawned\", { objectType });\n    });\n  }\n\n  return { entity, orientation };\n};\n\nexport function injectCustomShaderChunks(obj) {\n  const vertexRegex = /\\bskinning_vertex\\b/;\n  const fragRegex = /\\bgl_FragColor\\b/;\n  const validMaterials = [\"MeshStandardMaterial\", \"MeshBasicMaterial\", \"MobileStandardMaterial\"];\n\n  const shaderUniforms = new Map();\n\n  obj.traverse(object => {\n    if (!object.material || !validMaterials.includes(object.material.type)) {\n      return;\n    }\n\n    // HACK, this routine inadvertently leaves the A-Frame shaders wired to the old, dark\n    // material, so maps cannot be updated at runtime. This breaks UI elements who have\n    // hover/toggle state, so for now just skip these while we figure out a more correct\n    // solution.\n    if (object.el.classList.contains(\"ui\")) return;\n    if (object.el.classList.contains(\"hud\")) return;\n    if (object.el.getAttribute(\"text-button\")) return;\n\n    object.material = object.material.clone();\n    object.material.onBeforeCompile = shader => {\n      if (!vertexRegex.test(shader.vertexShader)) return;\n\n      shader.uniforms.hubs_EnableSweepingEffect = { value: false };\n      shader.uniforms.hubs_SweepParams = { value: [0, 0] };\n      shader.uniforms.hubs_InteractorOnePos = { value: [0, 0, 0] };\n      shader.uniforms.hubs_InteractorTwoPos = { value: [0, 0, 0] };\n      shader.uniforms.hubs_HighlightInteractorOne = { value: false };\n      shader.uniforms.hubs_HighlightInteractorTwo = { value: false };\n      shader.uniforms.hubs_Time = { value: 0 };\n\n      const vchunk = `\n        if (hubs_HighlightInteractorOne || hubs_HighlightInteractorTwo) {\n          vec4 wt = modelMatrix * vec4(transformed, 1);\n\n          // Used in the fragment shader below.\n          hubs_WorldPosition = wt.xyz;\n        }\n      `;\n\n      const vlines = shader.vertexShader.split(\"\\n\");\n      const vindex = vlines.findIndex(line => vertexRegex.test(line));\n      vlines.splice(vindex + 1, 0, vchunk);\n      vlines.unshift(\"varying vec3 hubs_WorldPosition;\");\n      vlines.unshift(\"uniform bool hubs_HighlightInteractorOne;\");\n      vlines.unshift(\"uniform bool hubs_HighlightInteractorTwo;\");\n      shader.vertexShader = vlines.join(\"\\n\");\n\n      const flines = shader.fragmentShader.split(\"\\n\");\n      const findex = flines.findIndex(line => fragRegex.test(line));\n      flines.splice(findex + 1, 0, mediaHighlightFrag);\n      flines.unshift(\"varying vec3 hubs_WorldPosition;\");\n      flines.unshift(\"uniform bool hubs_EnableSweepingEffect;\");\n      flines.unshift(\"uniform vec2 hubs_SweepParams;\");\n      flines.unshift(\"uniform bool hubs_HighlightInteractorOne;\");\n      flines.unshift(\"uniform vec3 hubs_InteractorOnePos;\");\n      flines.unshift(\"uniform bool hubs_HighlightInteractorTwo;\");\n      flines.unshift(\"uniform vec3 hubs_InteractorTwoPos;\");\n      flines.unshift(\"uniform float hubs_Time;\");\n      shader.fragmentShader = flines.join(\"\\n\");\n\n      shaderUniforms.set(object.material.uuid, shader.uniforms);\n    };\n    object.material.needsUpdate = true;\n  });\n\n  return shaderUniforms;\n}\n\nexport function getPromotionTokenForFile(fileId) {\n  return window.APP.store.state.uploadPromotionTokens.find(upload => upload.fileId === fileId);\n}\n","const adjectives = [\n  \"able\",\n  \"absolute\",\n  \"acceptable\",\n  \"acclaimed\",\n  \"accomplished\",\n  \"accurate\",\n  \"aching\",\n  \"acrobatic\",\n  \"adorable\",\n  \"adventurous\",\n  \"basic\",\n  \"belated\",\n  \"beloved\",\n  \"calm\",\n  \"candid\",\n  \"capital\",\n  \"carefree\",\n  \"caring\",\n  \"cautious\",\n  \"celebrated\",\n  \"charming\",\n  \"daring\",\n  \"darling\",\n  \"dearest\",\n  \"each\",\n  \"eager\",\n  \"early\",\n  \"earnest\",\n  \"easy\",\n  \"easygoing\",\n  \"ecstatic\",\n  \"edible\",\n  \"fabulous\",\n  \"fair\",\n  \"faithful\",\n  \"familiar\",\n  \"famous\",\n  \"fancy\",\n  \"fantastic\",\n  \"far\",\n  \"generous\",\n  \"gentle\",\n  \"genuine\",\n  \"giant\",\n  \"handmade\",\n  \"handsome\",\n  \"handy\",\n  \"happy\",\n  \"icy\",\n  \"ideal\",\n  \"identical\",\n  \"keen\",\n  \"lasting\",\n  \"lavish\",\n  \"magnificent\",\n  \"majestic\",\n  \"mammoth\",\n  \"marvelous\",\n  \"natural\",\n  \"obedient\",\n  \"palatable\",\n  \"parched\",\n  \"passionate\",\n  \"pastel\",\n  \"peaceful\",\n  \"perfect\",\n  \"perfumed\",\n  \"quaint\",\n  \"qualified\",\n  \"radiant\",\n  \"rapid\",\n  \"rare\",\n  \"safe\",\n  \"sandy\",\n  \"satisfied\",\n  \"scaly\",\n  \"scarce\",\n  \"scared\",\n  \"scary\",\n  \"scented\",\n  \"scientific\",\n  \"secret\",\n  \"sentimental\",\n  \"talkative\",\n  \"tangible\",\n  \"tart\",\n  \"tasty\",\n  \"tattered\",\n  \"teeming\",\n  \"ultimate\",\n  \"uncommon\",\n  \"unconscious\",\n  \"understated\",\n  \"warm\",\n  \"active\",\n  \"adept\",\n  \"admirable\",\n  \"admired\",\n  \"adorable\",\n  \"adored\",\n  \"advanced\",\n  \"affectionate\",\n  \"beneficial\",\n  \"best\",\n  \"better\",\n  \"big\",\n  \"cheerful\",\n  \"cheery\",\n  \"chief\",\n  \"chilly\",\n  \"classic\",\n  \"clean\",\n  \"clear\",\n  \"clever\",\n  \"decent\",\n  \"decisive\",\n  \"deep\",\n  \"defiant\",\n  \"definitive\",\n  \"delectable\",\n  \"delicious\",\n  \"elaborate\",\n  \"elastic\",\n  \"elated\",\n  \"elegant\",\n  \"elementary\",\n  \"elliptical\",\n  \"fast\",\n  \"favorable\",\n  \"favorite\",\n  \"fearless\",\n  \"gifted\",\n  \"glamorous\",\n  \"gleaming\",\n  \"glittering\",\n  \"harmonious\",\n  \"imaginative\",\n  \"immense\",\n  \"jealous\",\n  \"kind\",\n  \"leafy\",\n  \"legal\",\n  \"mature\",\n  \"mean\",\n  \"meaty\",\n  \"nautical\",\n  \"neat\",\n  \"necessary\",\n  \"needy\",\n  \"oddball\",\n  \"offbeat\",\n  \"periodic\",\n  \"perky\",\n  \"personal\",\n  \"pertinent\",\n  \"petty\",\n  \"quarterly\",\n  \"ready\",\n  \"real\",\n  \"realistic\",\n  \"reasonable\",\n  \"regal\",\n  \"serene\",\n  \"shabby\",\n  \"sharp\",\n  \"shiny\",\n  \"showy\",\n  \"shy\",\n  \"silky\",\n  \"tempting\",\n  \"tense\",\n  \"terrific\",\n  \"testy\",\n  \"thankful\",\n  \"uniform\",\n  \"unique\",\n  \"vast\",\n  \"weary\",\n  \"wee\",\n  \"welcome\",\n  \"agile\",\n  \"alarmed\",\n  \"alert\",\n  \"alive\",\n  \"bleak\",\n  \"blissful\",\n  \"blushing\",\n  \"coarse\",\n  \"colorful\",\n  \"colossal\",\n  \"comfortable\",\n  \"compassionate\",\n  \"complete\",\n  \"delightful\",\n  \"dense\",\n  \"dependable\",\n  \"dependent\",\n  \"descriptive\",\n  \"detailed\",\n  \"determined\",\n  \"devoted\",\n  \"different\",\n  \"eminent\",\n  \"emotional\",\n  \"enchanted\",\n  \"enchanting\",\n  \"energetic\",\n  \"enormous\",\n  \"fine\",\n  \"finished\",\n  \"firm\",\n  \"firsthand\",\n  \"fixed\",\n  \"flashy\",\n  \"flawless\",\n  \"glorious\",\n  \"glossy\",\n  \"golden\",\n  \"good\",\n  \"gorgeous\",\n  \"graceful\",\n  \"healthy\",\n  \"heartfelt\",\n  \"hearty\",\n  \"helpful\",\n  \"impartial\",\n  \"impressive\",\n  \"jolly\",\n  \"jovial\",\n  \"lighthearted\",\n  \"likable\",\n  \"lined\",\n  \"mellow\",\n  \"melodic\",\n  \"memorable\",\n  \"mild\",\n  \"new\",\n  \"opulent\",\n  \"playful\",\n  \"pleasant\",\n  \"pleasing\",\n  \"plump\",\n  \"plush\",\n  \"polished\",\n  \"polite\",\n  \"reliable\",\n  \"relieved\",\n  \"remarkable\",\n  \"remote\",\n  \"respectful\",\n  \"responsible\",\n  \"simple\",\n  \"simplistic\",\n  \"sizzling\",\n  \"sleepy\",\n  \"slight\",\n  \"slim\",\n  \"smart\",\n  \"smooth\",\n  \"snappy\",\n  \"snoopy\",\n  \"thirsty\",\n  \"this\",\n  \"thorough\",\n  \"those\",\n  \"thoughtful\",\n  \"united\",\n  \"vibrant\",\n  \"vicious\",\n  \"wellmade\",\n  \"whimsical\",\n  \"whirlwind\",\n  \"zesty\",\n  \"amazing\",\n  \"ambitious\",\n  \"ample\",\n  \"amused\",\n  \"amusing\",\n  \"ancient\",\n  \"angelic\",\n  \"antique\",\n  \"bold\",\n  \"bossy\",\n  \"both\",\n  \"bouncy\",\n  \"bountiful\",\n  \"complex\",\n  \"conscious\",\n  \"considerate\",\n  \"constant\",\n  \"content\",\n  \"conventional\",\n  \"cooked\",\n  \"cool\",\n  \"cooperative\",\n  \"diligent\",\n  \"dimwitted\",\n  \"direct\",\n  \"discrete\",\n  \"envious\",\n  \"essential\",\n  \"ethical\",\n  \"euphoric\",\n  \"flippant\",\n  \"fluffy\",\n  \"fluid\",\n  \"flustered\",\n  \"focused\",\n  \"fond\",\n  \"gracious\",\n  \"grand\",\n  \"grandiose\",\n  \"granular\",\n  \"grateful\",\n  \"grave\",\n  \"great\",\n  \"hidden\",\n  \"high\",\n  \"hilarious\",\n  \"homely\",\n  \"incomparable\",\n  \"incredible\",\n  \"infamous\",\n  \"joyful\",\n  \"lively\",\n  \"loathsome\",\n  \"lonely\",\n  \"long\",\n  \"milky\",\n  \"mindless\",\n  \"miniature\",\n  \"minor\",\n  \"misty\",\n  \"next\",\n  \"nice\",\n  \"nifty\",\n  \"nimble\",\n  \"orderly\",\n  \"organic\",\n  \"ornate\",\n  \"popular\",\n  \"posh\",\n  \"positive\",\n  \"potable\",\n  \"powerful\",\n  \"powerless\",\n  \"precious\",\n  \"present\",\n  \"prestigious\",\n  \"quick\",\n  \"rewarding\",\n  \"rich\",\n  \"right\",\n  \"sociable\",\n  \"soft\",\n  \"solid\",\n  \"some\",\n  \"sophisticated\",\n  \"soulful\",\n  \"sparkling\",\n  \"spectacular\",\n  \"speedy\",\n  \"spicy\",\n  \"spiffy\",\n  \"spirited\",\n  \"spiteful\",\n  \"splendid\",\n  \"spotless\",\n  \"spry\",\n  \"thrifty\",\n  \"tidy\",\n  \"tight\",\n  \"timely\",\n  \"tinted\",\n  \"unruly\",\n  \"untimely\",\n  \"violet\",\n  \"wicked\",\n  \"wide\",\n  \"wild\",\n  \"willing\",\n  \"winding\",\n  \"windy\",\n  \"zigzag\",\n  \"apprehensive\",\n  \"appropriate\",\n  \"artistic\",\n  \"assured\",\n  \"astonishing\",\n  \"bright\",\n  \"brilliant\",\n  \"bronze\",\n  \"coordinated\",\n  \"courageous\",\n  \"courteous\",\n  \"crafty\",\n  \"crazy\",\n  \"creamy\",\n  \"creative\",\n  \"crisp\",\n  \"distant\",\n  \"distinct\",\n  \"downright\",\n  \"evergreen\",\n  \"everlasting\",\n  \"every\",\n  \"evil\",\n  \"excellent\",\n  \"excitable\",\n  \"exemplary\",\n  \"exhausted\",\n  \"forthright\",\n  \"fortunate\",\n  \"fragrant\",\n  \"frank\",\n  \"free\",\n  \"frequent\",\n  \"fresh\",\n  \"friendly\",\n  \"frightened\",\n  \"frigid\",\n  \"gripping\",\n  \"grounded\",\n  \"honest\",\n  \"honorable\",\n  \"honored\",\n  \"hopeful\",\n  \"hospitable\",\n  \"hot\",\n  \"huge\",\n  \"infatuated\",\n  \"infinite\",\n  \"informal\",\n  \"insistent\",\n  \"instructive\",\n  \"juicy\",\n  \"jumbo\",\n  \"knowing\",\n  \"knowledgeable\",\n  \"longterm\",\n  \"loud\",\n  \"lovable\",\n  \"loving\",\n  \"modern\",\n  \"modest\",\n  \"moist\",\n  \"monumental\",\n  \"normal\",\n  \"notable\",\n  \"outgoing\",\n  \"precious\",\n  \"pretty\",\n  \"prickly\",\n  \"primary\",\n  \"pristine\",\n  \"private\",\n  \"prize\",\n  \"productive\",\n  \"profitable\",\n  \"quiet\",\n  \"quintessential\",\n  \"roasted\",\n  \"robust\",\n  \"square\",\n  \"squiggly\",\n  \"stable\",\n  \"staid\",\n  \"starry\",\n  \"steel\",\n  \"stimulating\",\n  \"striking\",\n  \"striped\",\n  \"strong\",\n  \"studious\",\n  \"stunning\",\n  \"tough\",\n  \"trained\",\n  \"treasured\",\n  \"tremendous\",\n  \"triangular\",\n  \"tricky\",\n  \"unused\",\n  \"unusual\",\n  \"upbeat\",\n  \"virtual\",\n  \"witty\",\n  \"wonderful\",\n  \"wooden\",\n  \"worldly\",\n  \"youthful\",\n  \"attached\",\n  \"attentive\",\n  \"attractive\",\n  \"austere\",\n  \"authentic\",\n  \"automatic\",\n  \"aware\",\n  \"awesome\",\n  \"bubbly\",\n  \"bustling\",\n  \"busy\",\n  \"buttery\",\n  \"cuddly\",\n  \"cultured\",\n  \"curly\",\n  \"curvy\",\n  \"cute\",\n  \"cylindrical\",\n  \"downright\",\n  \"dramatic\",\n  \"excited\",\n  \"exciting\",\n  \"exotic\",\n  \"experienced\",\n  \"expert\",\n  \"frosty\",\n  \"fruitful\",\n  \"full\",\n  \"fumbling\",\n  \"funny\",\n  \"fussy\",\n  \"growing\",\n  \"grown\",\n  \"gummy\",\n  \"humble\",\n  \"humongous\",\n  \"hungry\",\n  \"intelligent\",\n  \"interesting\",\n  \"known\",\n  \"kooky\",\n  \"kosher\",\n  \"loyal\",\n  \"lucky\",\n  \"luminous\",\n  \"lustrous\",\n  \"luxurious\",\n  \"multicolored\",\n  \"mysterious\",\n  \"noteworthy\",\n  \"numb\",\n  \"nutritious\",\n  \"outstanding\",\n  \"overjoyed\",\n  \"proper\",\n  \"proud\",\n  \"prudent\",\n  \"punctual\",\n  \"puny\",\n  \"pure\",\n  \"puzzled\",\n  \"puzzling\",\n  \"quirky\",\n  \"stupendous\",\n  \"sturdy\",\n  \"stylish\",\n  \"subdued\",\n  \"subtle\",\n  \"sunny\",\n  \"super\",\n  \"superb\",\n  \"supportive\",\n  \"surprised\",\n  \"sweet\",\n  \"swift\",\n  \"sympathetic\",\n  \"trivial\",\n  \"trusting\",\n  \"trustworthy\",\n  \"trusty\",\n  \"truthful\",\n  \"twin\",\n  \"usable\",\n  \"used\",\n  \"useful\",\n  \"utilized\",\n  \"vital\",\n  \"vivid\",\n  \"worried\",\n  \"worthwhile\",\n  \"worthy\",\n  \"writhing\",\n  \"wry\",\n  \"yummy\",\n  \"chocolate\",\n  \"crimson\",\n  \"cyan\",\n  \"fuchsia\",\n  \"gold\",\n  \"honeydew\",\n  \"lime\",\n  \"linen\",\n  \"magenta\",\n  \"olive\",\n  \"peru\",\n  \"salmon\",\n  \"seashell\",\n  \"sienna\",\n  \"snow\",\n  \"thistle\",\n  \"tomato\",\n  \"transparent\",\n  \"turquoise\",\n  \"violet\"\n];\n\nconst nouns = [\n  \"space\",\n  \"land\",\n  \"world\",\n  \"universe\",\n  \"plane\",\n  \"room\",\n  \"nation\",\n  \"plaza\",\n  \"gathering\",\n  \"meetup\",\n  \"get together\",\n  \"conclave\",\n  \"party\",\n  \"powwow\",\n  \"domain\",\n  \"dominion\",\n  \"realm\",\n  \"square\",\n  \"commons\",\n  \"park\",\n  \"cosmos\",\n  \"sphere\",\n  \"terrain\",\n  \"spot\",\n  \"zone\",\n  \"area\",\n  \"tract\",\n  \"turf\",\n  \"place\",\n  \"territory\",\n  \"volume\",\n  \"camp\",\n  \"picnic\",\n  \"outing\",\n  \"vacation\",\n  \"adventure\",\n  \"exploration\",\n  \"outing\",\n  \"walkabout\",\n  \"safari\",\n  \"venture\",\n  \"roundtable\",\n  \"barbecue\",\n  \"celebration\",\n  \"festivity\",\n  \"gala\",\n  \"shindig\",\n  \"social\",\n  \"convention\",\n  \"assembly\",\n  \"congregation\",\n  \"rendezvous\",\n  \"huddle\",\n  \"meet\",\n  \"soiree\"\n];\n\nexport function generateHubName() {\n  const randItem = set => {\n    const s = set[Math.floor(Math.random() * set.length)];\n    return s.charAt(0).toUpperCase() + s.slice(1);\n  };\n\n  return `${randItem(adjectives)} ${randItem(adjectives)} ${randItem(nouns)}`;\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport DialogContainer from \"./dialog-container.js\";\nimport { WithHoverSound } from \"./wrap-with-audio\";\n\nconst HUB_NAME_PATTERN = \"^[A-Za-z0-9-'\\\":!@#$%^&*(),.?~ ]{4,64}$\";\n\nexport default class CreateRoomDialog extends Component {\n  static propTypes = {\n    includeScenePrompt: PropTypes.bool,\n    onCustomScene: PropTypes.func,\n    onClose: PropTypes.func\n  };\n\n  state = {\n    customRoomName: \"\",\n    customSceneUrl: \"\"\n  };\n\n  render() {\n    const { onCustomScene, onClose, ...other } = this.props;\n    const onCustomSceneClicked = () => {\n      onCustomScene(this.state.customRoomName, this.state.customSceneUrl);\n      onClose();\n    };\n\n    return (\n      <DialogContainer title=\"Create a Room\" onClose={onClose} {...other}>\n        <div>\n          {this.props.includeScenePrompt ? (\n            <div>Choose a name and GLTF URL for your room&apos;s scene:</div>\n          ) : (\n            <div>Choose a name for your room:</div>\n          )}\n\n          <form onSubmit={onCustomSceneClicked}>\n            <div className=\"custom-scene-form\">\n              <input\n                type=\"text\"\n                placeholder=\"Room name\"\n                className=\"custom-scene-form__link_field\"\n                value={this.state.customRoomName}\n                pattern={HUB_NAME_PATTERN}\n                title=\"Invalid name, limited to 4 to 64 characters and limited symbols.\"\n                onChange={e => this.setState({ customRoomName: e.target.value })}\n                required\n              />\n              {this.props.includeScenePrompt && (\n                <input\n                  type=\"url\"\n                  placeholder=\"URL to Scene GLTF or GLB (Optional)\"\n                  className=\"custom-scene-form__link_field\"\n                  value={this.state.customSceneUrl}\n                  onChange={e => this.setState({ customSceneUrl: e.target.value })}\n                />\n              )}\n              <div className=\"custom-scene-form__buttons\">\n                <WithHoverSound>\n                  <button className=\"custom-scene-form__action-button\">\n                    <span>Create Room</span>\n                  </button>\n                </WithHoverSound>\n              </div>\n            </div>\n          </form>\n        </div>\n      </DialogContainer>\n    );\n  }\n}\n","// A-Frame blows away any npm debug log filters so this allow the user to set the log filter\n// via the query string.\nimport debug from \"debug\";\nimport qsTruthy from \"./qs_truthy\";\n\nconst qs = new URLSearchParams(location.search);\nconst isDebug = qsTruthy(\"debug\");\nconst logFilter = qs.get(\"log_filter\") || (isDebug && \"naf-janus-adapter:*\");\n\nif (logFilter) {\n  debug.enable(logFilter);\n}\n"],"sourceRoot":""}