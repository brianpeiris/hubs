!function(e){function t(t){for(var o,r,s=t[0],l=t[1],d=t[2],u=0,p=[];u<s.length;u++)r=s[u],a[r]&&p.push(a[r][0]),a[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(c&&c(t);p.length;)p.shift()();return i.push.apply(i,d||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(o=!1)}o&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},a={5:0},i=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=l;i.push([542,0]),n()}({12:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectToReticulum=function(e=!1){const t=new URLSearchParams(location.search),n=t.get("phx_protocol")||("https:"===document.location.protocol?"wss:":"ws:");let o=t.get("phx_host"),a=t.get("phx_port");{const[e,t]="dev.reticulum.io".split(":");o=o||e||"",a=a||t||"443"}const s=`${n}//${o}${a?`:${a}`:""}/socket`;console.log(`Phoenix Socket URL: ${s}`);const l={params:{session_id:(0,i.default)()}};e&&(l.logger=((e,t,n)=>{console.log(`${e}: ${t}`,n)}));const d=new r.Socket(s,l);return d.connect(),d},t.getReticulumFetchUrl=s,t.getLandingPageForPhoto=function(e){const t=new URL(e);return s(t.pathname.replace(".png",".html")+t.search,!0)};var o,a=n(44),i=(o=a,o&&o.__esModule?o:{default:o}),r=n(45);document.createElement("a");function s(e,t=!1){return`https://dev.reticulum.io${e}`}},130:function(e,t,n){e.exports=n.p+"assets/images/generic_vr_entry-6cb5c6205420ac7e9c3ca3e0c0a6db2c.svg"},135:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(136);const i=1e4;t.default=class{constructor(e){this.setSocket=(e=>{this.socket=e}),this.generateCode=(()=>new Promise(e=>{const t=new Promise(n=>{const r=()=>{const s=()=>"ABCDEFGHI"[Math.floor(9*Math.random())],l=`${s()}${s()}${s()}${s()}`;let d=!1,c=!1;const u=this.socket.channel(`link:${l}`,{timeout:i}),p=()=>{c||u.leave(),c=!0},h=()=>p();u.on("link_expired",()=>n("expired")),u.on("presence_state",n=>{d||(Object.keys(n).length>0?r():(d=!0,e({code:l,cancel:h,onFinished:t})))}),u.on("link_request",e=>{if(d){const t={path:location.pathname};this.store.state.activity.hasChangedName&&(t.profile=o({},this.store.state.profile)),t.credentials=o({},this.store.state.credentials),(0,a.generatePublicKeyAndEncryptedObject)(e.public_key,t).then(({publicKeyString:t,encryptedData:o})=>{const a={target_session_id:e.reply_to_session_id,public_key:t,data:o};c||u.push("link_response",a),p(),n("used"),d=!1})}}),u.join().receive("error",e=>console.error(e))};r()})})),this.attemptLink=(e=>new Promise((t,n)=>{const o=this.socket.channel(`link:${e}`,{timeout:i});let r=!1;(0,a.generateKeys)().then(({publicKeyString:e,privateKey:s})=>{o.on("presence_state",t=>{const a=Object.keys(t).length;1===a?(o.push("link_request",{reply_to_session_id:this.socket.params().session_id,public_key:e}),setTimeout(()=>{r||(o.leave(),n(new Error("no_response")))},i)):0===a?(o.leave(),n(new Error("failed"))):(console.warn("link code channel already has 2 or more occupants, something fishy is going on."),o.leave(),n(new Error("in_use")))}),o.on("link_response",e=>{r=!0,o.leave(),(0,a.decryptObject)(e.public_key,s,e.data).then(t)}),o.join().receive("error",e=>console.error(e))})})),this.store=e}}},136:function(e,t,n){"use strict";async function o(e,t){return crypto.subtle.deriveKey({name:"ECDH",public:t},e,{name:"AES-CBC",length:256},!0,["encrypt","decrypt"])}async function a(e){return JSON.stringify(await crypto.subtle.exportKey("jwk",e))}async function i(e){return await crypto.subtle.importKey("jwk",JSON.parse(e),{name:"ECDH",namedCurve:"P-256"},!0,[])}function r(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function s(e){const t=new Uint8Array(e);let n="";for(let e=0;e<t.byteLength;e++)n+=String.fromCharCode(t[e]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.generateKeys=async function(){const e=await crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"]),t=await a(e.publicKey);return{publicKeyString:t,privateKey:e.privateKey}},t.generatePublicKeyAndEncryptedObject=async function(e,t){const n=new Uint8Array(16),l=await i(e),d=await crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"]),c=await a(d.publicKey),u=await o(d.privateKey,l),p=btoa(s(await crypto.subtle.encrypt({name:"AES-CBC",iv:n},u,r(JSON.stringify(t)))));return{publicKeyString:c,encryptedData:p}},t.decryptObject=async function(e,t,n){const a=new Uint8Array(16),l=await i(e),d=await o(t,l),c=r(atob(n)),u=await crypto.subtle.decrypt({name:"AES-CBC",iv:a},d,c);return JSON.parse(s(u))}},15:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){i.default.config("https://013d6a364fed43cdb0539a61d520597a@sentry.prod.mozaws.net/370").install()};var o,a=n(40),i=(o=a,o&&o.__esModule?o:{default:o})},16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.messages=t.lang=void 0;var o,a=n(17),i=(o=a,o&&o.__esModule?o:{default:o});const r=(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage).toLowerCase().split(/[_-]+/)[0],s=t.lang=i.default[r]&&r||"en";t.messages=i.default[s]||i.default.en},17:function(e){e.exports={en:{"auth.verifying":"Verifying...","auth.verified-title":"E-Mail Verified!","auth.verified":"Your email has been verified!\nYou can now close this browser tab and return to Hubs.","auth.spoke-verified":"You email has been verified!\nYou can now close this browser tab and return to Spoke.","sign-in.prompt":"Sign in to pin objects in rooms.","sign-in.auth-started":"Email sent!\nWaiting for you to click on the link in the email...","sign-in.pin":"You'll need to sign in to pin objects.","sign-in.pin-complete":"You are now signed in.","sign-in.as":"Signed in as","sign-in.in":"Sign In","sign-in.out":"Sign Out","entry.enter-room-title":"Lobby","entry.enter-room":"Enter Room","entry.screen-prefix":"Enter on ","entry.desktop-screen":"Screen","entry.mobile-screen":"Phone","entry.mobile-safari":"Safari","entry.generic-prefix":" ","entry.generic-medium":"Connected Headset","entry.generic-subtitle-desktop":"Oculus or SteamVR","entry.gearvr-prefix":"Enter on ","entry.gearvr-medium":"Gear VR","entry.choose-device":"Choose Device","entry.device-prefix-desktop":" ","entry.device-prefix-mobile":" ","entry.device-medium":"Mobile Headset","entry.device-subtitle-desktop":"Standalone or Mobile VR","entry.device-subtitle-mobile":"Standalone or Mobile VR","entry.device-subtitle-vr":"Phone or PC","entry.cardboard":"Enter on Google Cardboard","entry.daydream-prefix":"Enter on ","entry.daydream-medium":"Daydream","entry.daydream-via-chrome":"Using Google Chrome","entry.invite-others":"invite others","entry.invite-others-nag":"invite","entry.invite-team-nag":"Invite a hubs team member","entry.enable-screen-sharing":"Share my desktop","entry.return-to-vr":"Return to VR","entry.enter-in-vr":"Enter in VR","entry.lobby":"Lobby","entry.notify_me":"Notify me when others are here","profile.save":"Accept","profile.display_name.validation_warning":"Alphanumerics and hyphens. At least 3 characters, no more than 32","profile.header":"Name & Avatar","profile.avatar-selector.loading":"Loading Avatars...","profile.terms_of_use":"Terms of Use","profile.privacy_notice":"Privacy Notice","audio.title":"Audio Setup","audio.subtitle-desktop":"Confirm HMD speaker output","audio.subtitle-mobile":"Earphones are recommended","audio.enter-now":"Enter Now","audio.hmd-mic-warning":"Your HMD mic is not chosen","audio.grant-title":"Grant mic permissions","audio.grant-subtitle":"Mic access needed to be heard by others","audio.granted-title":"Mic permissions granted","audio.granted-subtitle":"You can still mute yourself in-game","audio.granted-next":"Next","exit.subtitle.exited":"Your session has ended. Refresh your browser to start a new one.","exit.subtitle.closed":"This room is no longer available.","exit.subtitle.left":"You have left the room.","exit.subtitle.full":"This room is full, please try again later.","exit.subtitle.connect_error":"Unable to connect to this room, please try again later.","exit.subtitle.version_mismatch":"The version you deployed is not available yet. Your browser will refresh in 5 seconds.","autoexit.title":"Auto-ending session in ","autoexit.title_units":" seconds","autoexit.subtitle":"You have started another session.","autoexit.cancel":"CANCEL","presence.entered_room":"entered the room.","presence.entered_lobby":"entered the lobby.","presence.join_lobby":"joined the lobby.","presence.leave":"left.","presence.name_change":"is now known as","presence.in_lobby":"Lobby","presence.in_room":"In Room","home.room_create_options":"options","home.room_create_button":"Create Room","home.create_name.validation_warning":"Invalid name, limited to 4 to 64 characters and limited symbols.","home.join_us":"Join the Conversation","home.join_room":"Join Room","home.create_with_spoke":"Create a Scene","home.report_issue":"Report Issues","home.source_link":"Source","home.whats_new_link":"What's New","home.spoke_link":"Spoke","home.about_link":"About","home.community_link":"Community","home.privacy_notice":"Privacy Notice","home.terms_of_use":"Terms of Use","home.get_updates":"Get Updates","home.hero_title":"A new way to get together","home.made_with_love":"made with 🦆 by ","home.environment_author_by":" by ","dialog.close":"close","mailing_list.privacy_label":"I'm okay with Mozilla handling my info as explained in","mailing_list.privacy_link":"this Privacy Notice","link.link_page_header_entry":"Enter your code:","link.link_page_header_headset":"Enter headset link code:","link.linking_a_headset":"Linking a Headset?","link.try_again":"We couldn't find that code.\nPlease try again.","help.report_issue":"Report an Issue","scene.logo_tagline":"A new way to get together","scene.create_button":"Create a room with this scene","scene.tweet_button":"Share on Twitter","link.in_your_browser":"In your headset's browser, go to:","link.enter_code":"Then, enter this one-time link code:","link.do_not_close":"Keep this open to use this code.","link.connect_headset":"Link VR Headset","link.cancel":"cancel","invite.enter_via":"Enter via ","invite.tweet":"tweet","invite.and_enter_code":" with code:","invite.or_visit":"or share permalink","spoke.primary_tagline":"make your space","spoke.secondary_tagline":"Create 3D social scenes for ","spoke.thank_you":"Thank you for downloading Spoke!","spoke.download_win":"Download for Windows","spoke.download_macos":"Download for Mac","spoke.download_linux":"Download for Linux","spoke.download_unsupported":"View Releases","spoke.browse_all_versions":"Browse All Versions","spoke.beginner_tutorial_button":"Learn Spoke in 5 Minutes","spoke.advanced_tutorial_button":"Advanced Spoke in 10 minutes","spoke.play_button":"Learn Spoke in 5 Minutes","commands.fly":"Toggle fly mode.","commands.grow":"Increase your avatar's size.","commands.shrink":"Decrease your avatar's size.","commands.help":"Show help.","commands.leave":"Disconnect from the room.","commands.duck":"The duck tested well. Quack.","video_share.notify":"Select again to un-share video."}}},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.avatars=[{id:"botdefault",model:"https://asset-bundles-prod.reticulum.io/bots/BotDefault_Avatar-9f71f8ff22.gltf"},{id:"botbobo",model:"https://asset-bundles-prod.reticulum.io/bots/BotBobo_Avatar-f9740a010b.gltf"},{id:"botdom",model:"https://asset-bundles-prod.reticulum.io/bots/BotDom_Avatar-0c48bf15a5.gltf"},{id:"botgreg",model:"https://asset-bundles-prod.reticulum.io/bots/BotGreg_Avatar-98d39797bb.gltf"},{id:"botguest",model:"https://asset-bundles-prod.reticulum.io/bots/BotGuest_Avatar-78cd857332.gltf"},{id:"botjim",model:"https://asset-bundles-prod.reticulum.io/bots/BotJim_Avatar-d28005a687.gltf"},{id:"botkev",model:"https://asset-bundles-prod.reticulum.io/bots/BotKev_Avatar-a95787bb51.gltf"},{id:"botpinky",model:"https://asset-bundles-prod.reticulum.io/bots/BotPinky_Avatar-b0b93f8675.gltf"},{id:"botrobert",model:"https://asset-bundles-prod.reticulum.io/bots/BotRobert_Avatar-e9554880f3.gltf"},{id:"botwoody",model:"https://asset-bundles-prod.reticulum.io/bots/BotWoody_Avatar-0140485a23.gltf"}]},28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SCHEMA=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n(82),r=n(83),s=(o=r,o&&o.__esModule?o:{default:o}),l=n(72),d=n(37);const c="___hubs_store",u=Symbol(),p=new i.Validator,h=t.SCHEMA={id:"/HubsStore",definitions:{profile:{type:"object",additionalProperties:!1,properties:{displayName:{type:"string",pattern:"^[A-Za-z0-9-]{3,32}$"},avatarId:{type:"string"}}},credentials:{type:"object",additionalProperties:!1,properties:{token:{type:["null","string"]},email:{type:["null","string"]}}},activity:{type:"object",additionalProperties:!1,properties:{hasFoundFreeze:{type:"boolean"},hasChangedName:{type:"boolean"},lastEnteredAt:{type:"string"}}},settings:{type:"object",additionalProperties:!1,properties:{lastUsedMicDeviceId:{type:"string"}}},uploadPromotionTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{fileId:{type:"string"},promotionToken:{type:"string"}}}}},type:"object",properties:{profile:{$ref:"#/definitions/profile"},credentials:{$ref:"#/definitions/credentials"},activity:{$ref:"#/definitions/activity"},settings:{$ref:"#/definitions/settings"},uploadPromotionTokens:{$ref:"#/definitions/uploadPromotionTokens"}},additionalProperties:!1};t.default=class extends l.EventTarget{constructor(){super(),this.init=(()=>{this.update({profile:a({},(0,d.generateDefaultProfile)(),this.state.profile||{})}),this.state.activity.hasChangedName||this.update({profile:{displayName:(0,d.generateRandomName)()}})}),null===localStorage.getItem(c)&&localStorage.setItem(c,JSON.stringify({})),this.update({activity:{},settings:{},credentials:{},profile:{},uploadPromotionTokens:[]})}get state(){return this.hasOwnProperty(u)||(this[u]=JSON.parse(localStorage.getItem(c))),this[u]}update(e){const t=(0,s.default)(this.state,e),{valid:n}=p.validate(t,h);if(!n)throw new Error("Write to store failed schema validation.");return localStorage.setItem(c,JSON.stringify(t)),delete this[u],this.dispatchEvent(new CustomEvent("statechanged")),t}}},33:function(e,t,n){e.exports=n.p+"assets/images/hub-preview-light-no-shadow-5ebb166e8580d819b445892173ec0286.png"},37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.avatarIds=void 0,t.generateRandomName=function(){return`${i(a)}-${Math.floor(1e4+1e4*Math.random())}`},t.generateDefaultProfile=function(){return{avatarId:i(r)}};var o=n(21);const a=["Baers-Pochard","Baikal-Teal","Barrows-Goldeneye","Blue-Billed","Blue-Duck","Blue-Winged","Brown-Teal","Bufflehead","Canvasback","Cape-Shoveler","Chestnut-Teal","Chiloe-Wigeon","Cinnamon-Teal","Comb-Duck","Common-Eider","Common-Goldeneye","Common-Merganser","Common-Pochard","Common-Scoter","Common-Shelduck","Cotton-Pygmy","Crested-Duck","Crested-Shelduck","Eatons-Pintail","Falcated","Ferruginous","Freckled-Duck","Gadwall","Garganey","Greater-Scaup","Green-Pygmy","Grey-Teal","Hardhead","Harlequin","Hartlaubs","Hooded-Merganser","Hottentot-Teal","Kelp-Goose","King-Eider","Lake-Duck","Laysan-Duck","Lesser-Scaup","Long-Tailed","Maccoa-Duck","Mallard","Mandarin","Marbled-Teal","Mellers-Duck","Merganser","Northern-Pintail","Orinoco-Goose","Paradise-Shelduck","Plumed-Whistler","Puna-Teal","Pygmy-Goose","Radjah-Shelduck","Red-Billed","Red-Crested","Red-Shoveler","Ring-Necked","Ringed-Teal","Rosy-Billed","Ruddy-Shelduck","Salvadoris-Teal","Scaly-Sided","Shelduck","Shoveler","Silver-Teal","Smew","Spectacled-Eider","Spot-Billed","Spotted-Whistler","Steamerduck","Stellers-Eider","Sunda-Teal","Surf-Scoter","Tufted-Duck","Velvet-Scoter","Wandering-Whistler","Whistling-duck","White-Backed","White-Cheeked","White-Winged","Wigeon","Wood-Duck","Yellow-Billed"];function i(e){return e[Math.floor(Math.random()*e.length)]}const r=t.avatarIds=o.avatars.map(e=>e.id)},38:function(e,t){},41:function(e,t){},42:function(e,t){},5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WithHoverSound=t.hudHoverSound=t.ReactAudioContext=void 0;var o=n(1),a=s(o),i=n(0),r=s(i);function s(e){return e&&e.__esModule?e:{default:e}}const l=t.ReactAudioContext=a.default.createContext({}),d=t.hudHoverSound="play_sound-hud_hover_start",c=t.WithHoverSound=(({sound:e,children:t})=>a.default.createElement(l.Consumer,null,n=>a.default.cloneElement(t,{onMouseEnter:o=>{n&&n.playSound&&n.playSound(e||d),t.props.onMouseEnter&&t.props.onMouseEnter(o)}})));c.propTypes={children:r.default.object,sound:r.default.string}},542:function(e,t,n){"use strict";n(684);var o=n(1),a=_(o),i=n(26),r=_(i),s=n(15),l=_(s),d=n(543),c=_(d),u=n(135),p=_(u),h=n(12),m=n(28),f=_(m),y=n(71);function _(e){return e&&e.__esModule?e:{default:e}}(0,l.default)();const g=(0,h.connectToReticulum)(),b=new f.default;b.init();const v=new p.default(b);v.setSocket(g),r.default.render(a.default.createElement(c.default,{store:b,linkChannel:v,showHeadsetLinkOption:(0,y.detectInHMD)()}),document.getElementById("link-root"))},543:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),i=n(1),r=k(i),s=n(0),l=k(s),d=n(6),c=n(43),u=k(c),p=n(16),h=n(11),m=k(h),f=n(684),y=k(f),_=n(73),g=n(130),b=k(g),v=n(5);function k(e){return e&&e.__esModule?e:{default:e}}const w=6,S=4;(0,d.addLocaleData)([...u.default]),(0,_.disableiOSZoom)();const E="ontouchstart"in document.documentElement;class C extends i.Component{constructor(...e){var t;return t=super(...e),this.state={entered:"",isAlphaMode:!1,failedAtLeastOnce:!1},this.componentDidMount=(()=>{document.addEventListener("keydown",this.handleKeyDown)}),this.componentWillUnmount=(()=>{document.removeEventListener("keydown",this.handleKeyDown)}),this.handleKeyDown=(e=>{(e.keyCode<48||e.keyCode>57)&&!this.state.isAlphaMode||(e.keyCode<65||e.keyCode>73)&&this.state.isAlphaMode||(e.preventDefault(),e.stopPropagation(),this.state.isAlphaMode?this.addToEntry("IHGFEDCBA"[73-e.keyCode]):this.addToEntry(e.keyCode-48))}),this.maxAllowedChars=(()=>this.state.isAlphaMode?S:w),this.addToEntry=(e=>{if(this.state.entered.length>=this.maxAllowedChars())return;const t=`${this.state.entered}${e}`;t.length===this.maxAllowedChars()&&this.attemptLookup(t),this.setState({entered:t})}),this.removeChar=(()=>{const e=this.state.entered;0!==e.length&&this.setState({entered:e.substring(0,e.length-1)})}),this.attemptLink=(async e=>{this.props.linkChannel.attemptLink(e).then(e=>{if(e.profile){const{hasChangedName:t}=this.props.store.state.activity;t||this.props.store.update({activity:{hasChangedName:!0},profile:e.profile})}this.props.store.update({credentials:e.credentials}),e.path&&(window.location.href=e.path)}).catch(e=>{if(this.setState({failedAtLeastOnce:!0,entered:""}),!(e instanceof Error)||"in_use"!==e.message&&"failed"!==e.message)throw e})}),this.attemptEntry=(async e=>{const t="/link/"+e,n=await fetch(t);n.status>=400?this.setState({failedAtLeastOnce:!0,entered:""}):document.location=t}),this.attemptLookup=(async e=>{this.state.isAlphaMode?this.attemptLink(e):this.attemptEntry(e)}),this.toggleMode=(()=>{this.setState({isAlphaMode:!this.state.isAlphaMode,entered:"",failedAtLeastOnce:!1})}),t}render(){return r.default.createElement(d.IntlProvider,{locale:p.lang,messages:p.messages},r.default.createElement("div",{className:y.default.link},r.default.createElement("div",{className:y.default.linkContents},r.default.createElement("div",{className:y.default.logo},r.default.createElement("img",{src:a.default})),this.state.entered.length===this.maxAllowedChars()&&r.default.createElement("div",{className:(0,m.default)("loading-panel",y.default.codeLoadingPanel)},r.default.createElement("div",{className:"loader-wrap"},r.default.createElement("div",{className:"loader"},r.default.createElement("div",{className:"loader-center"})))),r.default.createElement("div",{className:y.default.enteredContents},r.default.createElement("div",{className:y.default.header},r.default.createElement(d.FormattedMessage,{id:this.state.failedAtLeastOnce?"link.try_again":"link.link_page_header_"+(this.state.isAlphaMode?"headset":"entry")})),r.default.createElement("div",{className:y.default.entered},r.default.createElement("input",{className:y.default.charInput,type:this.state.isAlphaMode?"text":"tel",pattern:"[0-9A-I]*",value:this.state.entered,onChange:e=>{!this.state.isAlphaMode&&e.target.value.match(/[a-z]/i)&&this.setState({isAlphaMode:!0}),this.setState({entered:e.target.value.toUpperCase()})}})),r.default.createElement("div",{className:y.default.enteredFooter},!this.state.isAlphaMode&&this.props.showHeadsetLinkOption&&r.default.createElement("img",{onClick:()=>this.toggleMode(),src:b.default,className:y.default.headsetIcon}),!this.state.isAlphaMode&&this.props.showHeadsetLinkOption&&r.default.createElement("span",null,r.default.createElement(v.WithHoverSound,null,r.default.createElement("a",{href:"#",onClick:()=>this.toggleMode()},r.default.createElement(d.FormattedMessage,{id:"link.linking_a_headset"})))))),r.default.createElement("div",{className:y.default.keypad},(this.state.isAlphaMode?["A","B","C","D","E","F","G","H","I"]:[1,2,3,4,5,6,7,8,9]).map((e,t)=>r.default.createElement(v.WithHoverSound,{key:`char_${t}`},r.default.createElement("button",{disabled:this.state.entered.length===this.maxAllowedChars(),className:y.default.keypadButton,key:`char_${t}`,onClick:()=>{E||this.addToEntry(e)},onTouchStart:()=>this.addToEntry(e)},e))),this.props.showHeadsetLinkOption?r.default.createElement(v.WithHoverSound,null,r.default.createElement("button",{className:(0,m.default)(y.default.keypadButton,y.default.keypadToggleMode),onTouchStart:()=>this.toggleMode(),onClick:()=>{E||this.toggleMode()}},this.state.isAlphaMode?"123":"ABC")):r.default.createElement("div",null),!this.state.isAlphaMode&&r.default.createElement(v.WithHoverSound,null,r.default.createElement("button",{disabled:this.state.entered.length===this.maxAllowedChars(),className:(0,m.default)(y.default.keypadButton,y.default.keypadZeroButton),onTouchStart:()=>this.addToEntry(0),onClick:()=>{E||this.addToEntry(0)}},"0")),r.default.createElement(v.WithHoverSound,null,r.default.createElement("button",{disabled:0===this.state.entered.length||this.state.entered.length===this.maxAllowedChars(),className:(0,m.default)(y.default.keypadButton,y.default.keypadBackspace),onTouchStart:()=>this.removeChar(),onClick:()=>{E||this.removeChar()}},"⌫"))),r.default.createElement("div",{className:y.default.footer},!this.state.isAlphaMode&&this.props.showHeadsetLinkOption&&r.default.createElement("div",{className:y.default.linkHeadsetFooterLink,style:{visibility:this.state.isAlphaMode?"hidden":"visible"}},r.default.createElement(v.WithHoverSound,null,r.default.createElement("img",{onClick:()=>this.toggleMode(),src:b.default,className:y.default.headsetIcon})),r.default.createElement("span",null,r.default.createElement(v.WithHoverSound,null,r.default.createElement("a",{href:"#",onClick:()=>this.toggleMode()},r.default.createElement(d.FormattedMessage,{id:"link.linking_a_headset"})))))))))}}C.propTypes={intl:l.default.object,store:l.default.object,linkChannel:l.default.object,showHeadsetLinkOption:l.default.bool},t.default=C},684:function(e,t){e.exports={"keypad-button":"link__keypad-button__2ElvK",keypadButton:"link__keypad-button__2ElvK",entered:"link__entered__1NNNd","char-input":"link__char-input__3Uver",charInput:"link__char-input__3Uver",logo:"link__logo__dzO36",link:"link__link__3kJ6B","link-contents":"link__link-contents__3L1rY",linkContents:"link__link-contents__3L1rY","entered-footer":"link__entered-footer__2Oi0C",enteredFooter:"link__entered-footer__2Oi0C","entered-contents":"link__entered-contents__2ZmCP",enteredContents:"link__entered-contents__2ZmCP","code-loading-panel":"link__code-loading-panel__21IQD",codeLoadingPanel:"link__code-loading-panel__21IQD","entry-footer-image":"link__entry-footer-image__1XOeK",entryFooterImage:"link__entry-footer-image__1XOeK","footer-image":"link__footer-image__AsDh-",footerImage:"link__footer-image__AsDh-",header:"link__header__ID1fV",footer:"link__footer__DERRP",keypad:"link__keypad__1FVTF","keypad-backspace":"link__keypad-backspace__M4x5m",keypadBackspace:"link__keypad-backspace__M4x5m","keypad-toggle-mode":"link__keypad-toggle-mode__2sIRG",keypadToggleMode:"link__keypad-toggle-mode__2sIRG",char:"link__char__20D9j","headset-icon":"link__headset-icon__22_kp",headsetIcon:"link__headset-icon__22_kp","link-headset-footer-link":"link__link-headset-footer-link__pGQB8",linkHeadsetFooterLink:"link__link-headset-footer-link__pGQB8"}},71:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectInHMD=s,t.getAvailableVREntryTypes=async function(){const e=navigator.userAgent,t="chrome"===a.name&&/SamsungBrowser/.test(e),n=window.hasNativeWebVRImplementation,o=!(!n||"chrome"!==a.name||t),l=AFRAME.utils.device.isIOS(),d="firefox"===a.name,c=void 0===navigator.mediaDevices,u=l?c?i.maybe:i.yes:i.no,p=n?await navigator.getVRDisplays():[],h=/Oculus/.test(e),m=s(),f=m?i.no:l&&c?i.maybe:i.yes,y=!n&&d;let _=AFRAME.utils.device.isMobile()||y?i.no:i.maybe,g=i.no,b=i.no;(function(e){return/\WAndroid\W/.test(e)})(e)&&(b=h?i.yes:i.maybe);let v=function(e){return/\WAndroid\W/.test(e)}(e)&&!m?i.maybe:i.no;if(n){_=p.find(e=>e.capabilities.canPresent&&!r.find(t=>t.test(e.displayName)))?i.yes:i.no,g=l||d||!p.find(e=>e.capabilities.canPresent&&/cardboard/i.test(e.displayName))?i.no:i.yes;const e=p.find(e=>/daydream/i.test(e.displayName));e?(v=i.yes,_=i.no):o&&(v=i.no)}return{screen:f,generic:_,gearvr:b,daydream:v,cardboard:g,isInHMD:m,safari:u}};const{detect:o}=n(34),a=o(),i=t.VR_DEVICE_AVAILABILITY={yes:"yes",no:"no",maybe:"maybe"};const r=[/cardboard/i];function s(){const e=navigator.userAgent,t=/Firefox/.test(e)&&/Android/.test(e)&&window.hasNativeWebVRImplementation,n=/Oculus/.test(e);return n||t}},73:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disableiOSZoom=function(){if("iOS"!==(0,o.detectOS)(navigator.userAgent))return;let e=0;document.addEventListener("touchmove",e=>{1!==e.scale&&e.preventDefault()}),document.addEventListener("touchend",t=>{const n=(new Date).getTime(),o=n-e<=300;e=n,o&&t.preventDefault()})};var o=n(34)}});
//# sourceMappingURL=link-6b009bced1642123ef36.js.map