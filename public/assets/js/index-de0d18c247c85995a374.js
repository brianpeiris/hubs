!function(e){function t(t){for(var a,r,l=t[0],s=t[1],u=t[2],c=0,m=[];c<l.length;c++)r=l[c],o[r]&&m.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(d&&d(t);m.length;)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==o[s]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},o={2:0},i=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=s;i.push([195,0]),n()}({12:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectToReticulum=function(e=!1){const t=new URLSearchParams(location.search),n=t.get("phx_protocol")||("https:"===document.location.protocol?"wss:":"ws:");let a=t.get("phx_host"),o=t.get("phx_port");{const[e,t]="dev.reticulum.io".split(":");a=a||e||"",o=o||t||"443"}const l=`${n}//${a}${o?`:${o}`:""}/socket`;console.log(`Phoenix Socket URL: ${l}`);const s={params:{session_id:(0,i.default)()}};e&&(s.logger=((e,t,n)=>{console.log(`${e}: ${t}`,n)}));const u=new r.Socket(l,s);return u.connect(),u},t.getReticulumFetchUrl=l,t.getLandingPageForPhoto=function(e){const t=new URL(e);return l(t.pathname.replace(".png",".html")+t.search,!0)};var a,o=n(44),i=(a=o,a&&a.__esModule?a:{default:a}),r=n(45);document.createElement("a");function l(e,t=!1){return`https://dev.reticulum.io${e}`}},15:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){i.default.config("https://013d6a364fed43cdb0539a61d520597a@sentry.prod.mozaws.net/370").install()};var a,o=n(40),i=(a=o,a&&a.__esModule?a:{default:a})},16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.messages=t.lang=void 0;var a,o=n(17),i=(a=o,a&&a.__esModule?a:{default:a});const r=(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage).toLowerCase().split(/[_-]+/)[0],l=t.lang=i.default[r]&&r||"en";t.messages=i.default[l]||i.default.en},17:function(e){e.exports={en:{"auth.verifying":"Verifying...","auth.verified-title":"E-Mail Verified!","auth.verified":"Your email has been verified!\nYou can now close this browser tab and return to Hubs.","auth.spoke-verified":"You email has been verified!\nYou can now close this browser tab and return to Spoke.","sign-in.prompt":"Sign in to pin objects in rooms.","sign-in.auth-started":"Email sent!\nWaiting for you to click on the link in the email...","sign-in.pin":"You'll need to sign in to pin objects.","sign-in.pin-complete":"You are now signed in.","sign-in.as":"Signed in as","sign-in.in":"Sign In","sign-in.out":"Sign Out","entry.enter-room-title":"Lobby","entry.enter-room":"Enter Room","entry.screen-prefix":"Enter on ","entry.desktop-screen":"Screen","entry.mobile-screen":"Phone","entry.mobile-safari":"Safari","entry.generic-prefix":" ","entry.generic-medium":"Connected Headset","entry.generic-subtitle-desktop":"Oculus or SteamVR","entry.gearvr-prefix":"Enter on ","entry.gearvr-medium":"Gear VR","entry.choose-device":"Choose Device","entry.device-prefix-desktop":" ","entry.device-prefix-mobile":" ","entry.device-medium":"Mobile Headset","entry.device-subtitle-desktop":"Standalone or Mobile VR","entry.device-subtitle-mobile":"Standalone or Mobile VR","entry.device-subtitle-vr":"Phone or PC","entry.cardboard":"Enter on Google Cardboard","entry.daydream-prefix":"Enter on ","entry.daydream-medium":"Daydream","entry.daydream-via-chrome":"Using Google Chrome","entry.invite-others":"invite others","entry.invite-others-nag":"invite","entry.invite-team-nag":"Invite a hubs team member","entry.enable-screen-sharing":"Share my desktop","entry.return-to-vr":"Return to VR","entry.enter-in-vr":"Enter in VR","entry.lobby":"Lobby","entry.notify_me":"Notify me when others are here","profile.save":"Accept","profile.display_name.validation_warning":"Alphanumerics and hyphens. At least 3 characters, no more than 32","profile.header":"Name & Avatar","profile.avatar-selector.loading":"Loading Avatars...","profile.terms_of_use":"Terms of Use","profile.privacy_notice":"Privacy Notice","audio.title":"Audio Setup","audio.subtitle-desktop":"Confirm HMD speaker output","audio.subtitle-mobile":"Earphones are recommended","audio.enter-now":"Enter Now","audio.hmd-mic-warning":"Your HMD mic is not chosen","audio.grant-title":"Grant mic permissions","audio.grant-subtitle":"Mic access needed to be heard by others","audio.granted-title":"Mic permissions granted","audio.granted-subtitle":"You can still mute yourself in-game","audio.granted-next":"Next","exit.subtitle.exited":"Your session has ended. Refresh your browser to start a new one.","exit.subtitle.closed":"This room is no longer available.","exit.subtitle.left":"You have left the room.","exit.subtitle.full":"This room is full, please try again later.","exit.subtitle.connect_error":"Unable to connect to this room, please try again later.","exit.subtitle.version_mismatch":"The version you deployed is not available yet. Your browser will refresh in 5 seconds.","autoexit.title":"Auto-ending session in ","autoexit.title_units":" seconds","autoexit.subtitle":"You have started another session.","autoexit.cancel":"CANCEL","presence.entered_room":"entered the room.","presence.entered_lobby":"entered the lobby.","presence.join_lobby":"joined the lobby.","presence.leave":"left.","presence.name_change":"is now known as","presence.in_lobby":"Lobby","presence.in_room":"In Room","home.room_create_options":"options","home.room_create_button":"Create Room","home.create_name.validation_warning":"Invalid name, limited to 4 to 64 characters and limited symbols.","home.join_us":"Join the Conversation","home.join_room":"Join Room","home.create_with_spoke":"Create a Scene","home.report_issue":"Report Issues","home.source_link":"Source","home.whats_new_link":"What's New","home.spoke_link":"Spoke","home.about_link":"About","home.community_link":"Community","home.privacy_notice":"Privacy Notice","home.terms_of_use":"Terms of Use","home.get_updates":"Get Updates","home.hero_title":"A new way to get together","home.made_with_love":"made with ðŸ¦† by ","home.environment_author_by":" by ","dialog.close":"close","mailing_list.privacy_label":"I'm okay with Mozilla handling my info as explained in","mailing_list.privacy_link":"this Privacy Notice","link.link_page_header_entry":"Enter your code:","link.link_page_header_headset":"Enter headset link code:","link.linking_a_headset":"Linking a Headset?","link.try_again":"We couldn't find that code.\nPlease try again.","help.report_issue":"Report an Issue","scene.logo_tagline":"A new way to get together","scene.create_button":"Create a room with this scene","scene.tweet_button":"Share on Twitter","link.in_your_browser":"In your headset's browser, go to:","link.enter_code":"Then, enter this one-time link code:","link.do_not_close":"Keep this open to use this code.","link.connect_headset":"Link VR Headset","link.cancel":"cancel","invite.enter_via":"Enter via ","invite.tweet":"tweet","invite.and_enter_code":" with code:","invite.or_visit":"or share permalink","spoke.primary_tagline":"make your space","spoke.secondary_tagline":"Create 3D social scenes for ","spoke.thank_you":"Thank you for downloading Spoke!","spoke.download_win":"Download for Windows","spoke.download_macos":"Download for Mac","spoke.download_linux":"Download for Linux","spoke.download_unsupported":"View Releases","spoke.browse_all_versions":"Browse All Versions","spoke.beginner_tutorial_button":"Learn Spoke in 5 Minutes","spoke.advanced_tutorial_button":"Advanced Spoke in 10 minutes","spoke.play_button":"Learn Spoke in 5 Minutes","commands.fly":"Toggle fly mode.","commands.grow":"Increase your avatar's size.","commands.shrink":"Decrease your avatar's size.","commands.help":"Show help.","commands.leave":"Disconnect from the room.","commands.duck":"The duck tested well. Quack.","video_share.notify":"Select again to un-share video."}}},195:function(e,t,n){"use strict";var a=n(1),o=c(a),i=n(26),r=c(i);n(614);var l=n(15),s=c(l),u=n(209),d=c(u);function c(e){return e&&e.__esModule?e:{default:e}}const m=new URLSearchParams(location.search);(0,s.default)();const{pathname:f}=document.location,h=m.get("scene_id")||f.startsWith("/scenes/")&&f.substring(1).split("/")[1],p=o.default.createElement(d.default,{initialEnvironment:m.get("initial_environment"),sceneId:h||"",authVerify:m.has("auth_topic"),authTopic:m.get("auth_topic"),authToken:m.get("auth_token"),authOrigin:m.get("auth_origin"),listSignup:m.has("list_signup"),report:m.has("report")});r.default.render(p,document.getElementById("home-root"))},209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=U(a),i=n(0),r=U(i),l=n(6),s=n(43),u=U(s),d=n(16),c=n(93),m=n(226),f=U(m),h=n(227),p=U(h),_=n(33),g=U(_),b=n(228),v=U(b),y=n(11),E=U(y),w=n(229),k=n(12),x=n(614),S=U(x),N=n(232),C=U(N),M=n(235),j=U(M),P=n(236),O=U(P),L=n(237),R=U(L),D=n(238),T=U(D),z=n(8),H=U(z),I=n(5);function U(e){return e&&e.__esModule?e:{default:e}}(0,l.addLocaleData)([...u.default]);class W extends a.Component{constructor(...e){var t;return t=super(...e),this.state={environments:[],dialog:null,mailingListEmail:"",mailingListPrivacy:!1},this.showAuthDialog=(e=>{this.setState({dialog:o.default.createElement(j.default,{closable:"false",verifying:e,authOrigin:this.props.authOrigin})})}),this.loadHomeVideo=(()=>{const e=document.querySelector("#background-video");e.playbackRate=.9,(0,c.playVideoWithStopOnBlur)(e)}),this.loadEnvironmentFromScene=(async()=>{let e="/api/v1/scenes";e=`https://dev.reticulum.io${e}`;const t=`${e}/${this.props.sceneId}`,n=await fetch(t).then(e=>e.json()),a=n.scenes[0],o=a.attribution&&a.attribution.split("\n").join(", "),i=o&&[{organization:{name:o}}];this.setState({environments:[{scene_id:this.props.sceneId,meta:{title:a.name,authors:i,images:[{type:"preview-thumbnail",srcset:a.screenshot_url}]}}]})}),this.loadEnvironments=(()=>{const e=[],t=w.ENVIRONMENT_URLS.map(t=>(async()=>{const n=await fetch(t),a=await n.json();a.bundle_url=t,e.push(a)})());Promise.all(t).then(()=>this.setState({environments:e}))}),this.onDialogLinkClicked=(e=>t=>{t.preventDefault(),t.stopPropagation(),e()}),t}componentDidMount(){if(this.closeDialog=this.closeDialog.bind(this),this.props.authVerify)return this.showAuthDialog(!0),void this.verifyAuth().then(this.showAuthDialog);this.props.sceneId?this.loadEnvironmentFromScene():this.loadEnvironments(),this.loadHomeVideo(),this.props.listSignup?this.showUpdatesDialog():this.props.report&&this.showReportDialog()}async verifyAuth(){const e=(0,k.connectToReticulum)(),t=e.channel(this.props.authTopic);await new Promise((e,n)=>t.join().receive("ok",e).receive("error",n)),t.push("auth_verified",{token:this.props.authToken})}closeDialog(){this.setState({dialog:null})}showJoinUsDialog(){this.setState({dialog:o.default.createElement(R.default,{onClose:this.closeDialog})})}showReportDialog(){this.setState({dialog:o.default.createElement(O.default,{onClose:this.closeDialog})})}showUpdatesDialog(){this.setState({dialog:o.default.createElement(T.default,{onClose:this.closeDialog,onSubmittedEmail:()=>this.showEmailSubmittedDialog()})})}showEmailSubmittedDialog(){this.setState({dialog:o.default.createElement(H.default,{onClose:this.closeDialog},"Great! Please check your e-mail to confirm your subscription.")})}render(){const e=(0,E.default)({[S.default.mainContent]:!0,[S.default.noninteractive]:!!this.state.dialog});return o.default.createElement(l.IntlProvider,{locale:d.lang,messages:d.messages},o.default.createElement("div",{className:S.default.home},o.default.createElement("div",{className:e},o.default.createElement("div",{className:S.default.videoContainer},o.default.createElement("video",{playsInline:!0,muted:!0,loop:!0,autoPlay:!0,className:S.default.backgroundVideo,id:"background-video"},o.default.createElement("source",{src:f.default,type:"video/webm"}),o.default.createElement("source",{src:p.default,type:"video/mp4"}))),o.default.createElement("div",{className:S.default.headerContent},o.default.createElement("div",{className:S.default.titleAndNav,onClick:()=>document.location="/"},o.default.createElement("div",{className:S.default.links},o.default.createElement(I.WithHoverSound,null,o.default.createElement("a",{href:"/whats-new"},o.default.createElement(l.FormattedMessage,{id:"home.whats_new_link"}))),o.default.createElement(I.WithHoverSound,null,o.default.createElement("a",{href:"https://github.com/mozilla/hubs",rel:"noreferrer noopener"},o.default.createElement(l.FormattedMessage,{id:"home.source_link"}))),o.default.createElement(I.WithHoverSound,null,o.default.createElement("a",{href:"https://discord.gg/XzrGUY8",rel:"noreferrer noopener"},o.default.createElement(l.FormattedMessage,{id:"home.community_link"}))),o.default.createElement(I.WithHoverSound,null,o.default.createElement("a",{href:"/spoke",rel:"noreferrer noopener"},"Spoke"))))),o.default.createElement("div",{className:S.default.heroContent},o.default.createElement("div",{className:S.default.attribution},"Medieval Fantasy Book by"," ",o.default.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://sketchfab.com/models/06d5a80a04fc4c5ab552759e9a97d91a?utm_campaign=06d5a80a04fc4c5ab552759e9a97d91a&utm_medium=embed&utm_source=oembed"},"Pixel")),o.default.createElement("div",{className:S.default.container},o.default.createElement("div",{className:S.default.logo},o.default.createElement("img",{src:g.default})),o.default.createElement("div",{className:S.default.title},o.default.createElement(l.FormattedMessage,{id:"home.hero_title"})),0===this.state.environments.length&&o.default.createElement("div",{className:"loader-wrap"},o.default.createElement("div",{className:"loader"},o.default.createElement("div",{className:"loader-center"})))),o.default.createElement("div",{className:S.default.create},o.default.createElement(C.default,{initialEnvironment:this.props.initialEnvironment,environments:this.state.environments})),this.state.environments.length>1&&o.default.createElement("div",null,o.default.createElement(I.WithHoverSound,null,o.default.createElement("div",{className:S.default.joinButton},o.default.createElement("a",{href:"/link"},o.default.createElement(l.FormattedMessage,{id:"home.join_room"})))),o.default.createElement(I.WithHoverSound,null,o.default.createElement("div",{className:S.default.spokeButton},o.default.createElement("a",{href:"/spoke"},o.default.createElement(l.FormattedMessage,{id:"home.create_with_spoke"})))))),o.default.createElement("div",{className:S.default.footerContent},o.default.createElement("div",{className:S.default.links},o.default.createElement("div",{className:S.default.top},o.default.createElement(I.WithHoverSound,null,o.default.createElement("a",{className:S.default.link,rel:"noopener noreferrer",href:"#",onClick:this.onDialogLinkClicked(this.showJoinUsDialog.bind(this))},o.default.createElement(l.FormattedMessage,{id:"home.join_us"}))),o.default.createElement(I.WithHoverSound,null,o.default.createElement("a",{className:S.default.link,rel:"noopener noreferrer",href:"#",onClick:this.onDialogLinkClicked(this.showUpdatesDialog.bind(this))},o.default.createElement(l.FormattedMessage,{id:"home.get_updates"}))),o.default.createElement(I.WithHoverSound,null,o.default.createElement("a",{className:S.default.link,rel:"noopener noreferrer",href:"#",onClick:this.onDialogLinkClicked(this.showReportDialog.bind(this))},o.default.createElement(l.FormattedMessage,{id:"home.report_issue"}))),o.default.createElement(I.WithHoverSound,null,o.default.createElement("a",{className:S.default.link,target:"_blank",rel:"noopener noreferrer",href:"https://github.com/mozilla/hubs/blob/master/TERMS.md"},o.default.createElement(l.FormattedMessage,{id:"home.terms_of_use"}))),o.default.createElement(I.WithHoverSound,null,o.default.createElement("a",{className:S.default.link,target:"_blank",rel:"noopener noreferrer",href:"https://github.com/mozilla/hubs/blob/master/PRIVACY.md"},o.default.createElement(l.FormattedMessage,{id:"home.privacy_notice"}))),o.default.createElement("img",{className:S.default.mozLogo,src:v.default}))))),this.state.dialog))}}W.propTypes={intl:r.default.object,sceneId:r.default.string,authVerify:r.default.bool,authTopic:r.default.string,authToken:r.default.string,authOrigin:r.default.string,listSignup:r.default.bool,report:r.default.bool,initialEnvironment:r.default.string},t.default=W},226:function(e,t,n){e.exports=n.p+"assets/video/home-aee18c619a9005bd4b0d31295670af80.webm"},227:function(e,t,n){e.exports=n.p+"assets/video/home-5af051d2c531928dbaaf51b9badaabde.mp4"},228:function(e,t,n){e.exports=n.p+"assets/images/moz-logo-black-b2559c1a75a74dc0e702c9c8d4f9eeae.png"},229:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=[],o=a.concat(["/rooms/meetingroom/MeetingRoom.bundle.json","/rooms/atrium/Atrium.bundle.json","/rooms/MedievalFantasyBook/MedievalFantasyBook.bundle.json","/rooms/rooftopbuilding1/RooftopBuilding1.bundle.json","/rooms/wideopenspace/WideOpenSpace.bundle.json"]),i=t.ENVIRONMENT_URLS=o.map(e=>"https://asset-bundles-prod.reticulum.io"+e);t.DEFAULT_ENVIRONMENT_URL=i[0]},232:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=E(a),i=n(0),r=E(i),l=n(6),s=n(94),u=n(154),d=n(155),c=n(56),m=n(233),f=n(12),h=n(95),p=E(h),_=n(5),g=n(234),b=E(g),v=n(619),y=E(v);function E(e){return e&&e.__esModule?e:{default:e}}class w extends a.Component{constructor(e){super(e),k.call(this);let t=Math.floor(Math.random()*e.environments.length);e.initialEnvironment&&(t=e.environments.findIndex(t=>t.name.toLowerCase()===e.initialEnvironment.toLowerCase())),this.state={ready:!1,name:(0,s.generateHubName)(),environmentIndex:t,showCustomSceneDialog:!1,customSceneUrl:null},(async()=>{const t=e.environments.map((e,t)=>this._getEnvironmentThumbnail(t));await Promise.all(t.map(e=>this._preloadImage(e.srcset))),this.setState({ready:!0})})()}render(){if(!this.state.ready)return null;if(0==this.props.environments.length)return o.default.createElement("div",{className:y.default.placeholder});const e=this.props.environments[this.state.environmentIndex],t=e.meta||{},n=t.title||e.name,a=(t.authors||[])[0],i=this._getEnvironmentThumbnail(this.state.environmentIndex);return o.default.createElement("div",null,o.default.createElement("form",{onSubmit:this.createHub},o.default.createElement("div",{className:y.default.createPanel},o.default.createElement("div",{className:y.default.form},o.default.createElement("div",{className:y.default.environment},o.default.createElement("div",{className:y.default.picker},o.default.createElement("img",{className:y.default.image,srcSet:i.srcset}),o.default.createElement("div",{className:y.default.labels},o.default.createElement("div",{className:y.default.header},o.default.createElement("span",{className:y.default.title},n),a&&a.name&&(a.url?o.default.createElement(_.WithHoverSound,null,o.default.createElement("a",{href:a.url,rel:"noopener noreferrer",className:y.default.author},o.default.createElement(l.FormattedMessage,{id:"home.environment_author_by"}),o.default.createElement("span",null,a.name))):o.default.createElement("span",{className:y.default.author},o.default.createElement(l.FormattedMessage,{id:"home.environment_author_by"}),o.default.createElement("span",null,a.name))),a&&a.organization&&(a.organization.url?o.default.createElement(_.WithHoverSound,null,o.default.createElement("a",{href:a.organization.url,rel:"noopener noreferrer",className:y.default.org},o.default.createElement("span",null,a.organization.name))):o.default.createElement("span",{className:y.default.org},o.default.createElement("span",null,a.organization.name)))),o.default.createElement("div",{className:y.default.footer},o.default.createElement(_.WithHoverSound,null,o.default.createElement("button",{onClick:this.showCustomSceneDialog,className:y.default.customButton},o.default.createElement(l.FormattedMessage,{id:"home.room_create_options"}))))),o.default.createElement("div",{className:y.default.controls},o.default.createElement(_.WithHoverSound,null,o.default.createElement("button",{className:y.default.prev,type:"button",tabIndex:"1",onClick:this.setToPreviousEnvironment},o.default.createElement(c.FontAwesomeIcon,{icon:u.faAngleLeft}))),o.default.createElement(_.WithHoverSound,null,o.default.createElement("button",{className:y.default.next,type:"button",tabIndex:"2",onClick:this.setToNextEnvironment},o.default.createElement(c.FontAwesomeIcon,{icon:d.faAngleRight})))))),o.default.createElement("div",{className:y.default.container},o.default.createElement(_.WithHoverSound,null,o.default.createElement("button",{type:"submit",tabIndex:"5",className:y.default.submitButton},o.default.createElement(l.FormattedMessage,{id:"home.room_create_button"}))))))),this.state.showCustomSceneDialog&&o.default.createElement(p.default,{includeScenePrompt:!0,onClose:()=>this.setState({showCustomSceneDialog:!1}),onCustomScene:(e,t)=>{this.setState({showCustomSceneDialog:!1,name:e,customSceneUrl:t},()=>this.createHub())}}))}}w.propTypes={intl:r.default.object,environments:r.default.array,initialEnvironment:r.default.string};var k=function(){this._getEnvironmentThumbnail=(e=>{const t=this.props.environments[e],n=t.meta||{};let a={srcset:b.default};if(n.images){const e=n.images.find(e=>"preview-thumbnail"===e.type);if(e)if(t.bundle_url){const n=new URL((0,m.extractUrlBase)(t.bundle_url),window.location.href);a={srcset:(0,m.resolveURL)(e.srcset,n)}}else a={srcset:e.srcset}}return a}),this.createHub=(async e=>{e&&e.preventDefault();const t=this.props.environments[this.state.environmentIndex],n={hub:{name:this.state.name}};if(!this.state.customSceneUrl&&t.scene_id)n.hub.scene_id=t.scene_id;else{const e=this.state.customSceneUrl||t.bundle_url;n.hub.default_environment_gltf_bundle_url=e}const a=(0,f.getReticulumFetchUrl)("/api/v1/hubs"),o=await fetch(a,{body:JSON.stringify(n),headers:{"content-type":"application/json"},method:"POST"}),i=await o.json();"dev.reticulum.io"===document.location.host?document.location=i.url:document.location=`/hub.html?hub_id=${i.hub_id}`}),this.isHubNameValid=(()=>{return new RegExp("^[A-Za-z0-9-'\":!@#$%^&*(),.?~ ]{4,64}$").test(this.state.name)&&new RegExp("[A-Za-z0-9]{4}").test(this.state.name)}),this._preloadImage=(async e=>{const t=new Image,n=new Promise(e=>t.addEventListener("load",e));t.srcset=e,await n}),this.setToEnvironmentOffset=(async e=>{const t=this.props.environments.length,n=((this.state.environmentIndex+e)%t+t)%t,a=this._getEnvironmentThumbnail(n);await this._preloadImage(a.srcset),this.setState({environmentIndex:n})}),this.setToNextEnvironment=(()=>{this.setToEnvironmentOffset(1)}),this.setToPreviousEnvironment=(()=>{this.setToEnvironmentOffset(-1)}),this.showCustomSceneDialog=(e=>{e.preventDefault(),e.stopPropagation(),this.setState({showCustomSceneDialog:!0})}),this.shuffle=(()=>{this.setState({name:(0,s.generateHubName)(),environmentIndex:Math.floor(Math.random()*this.props.environments.length)})})};t.default=(0,l.injectIntl)(w)},233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveURL=function(e,t){return"string"!=typeof e||""===e?"":/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:t+e},t.extractUrlBase=function(e){const t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}},234:function(e,t,n){e.exports=n.p+"assets/images/default_thumbnail-6a7f6d77835431874b83c6d8f73784a1.png"},235:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(1),i=c(o),r=n(0),l=c(r),s=n(6),u=n(8),d=c(u);function c(e){return e&&e.__esModule?e:{default:e}}class m extends o.Component{render(){const{authOrigin:e,verifying:t}=this.props,{formatMessage:n}=this.props.intl,o=n(t?{id:"auth.verifying"}:{id:"auth.verified-title"});return i.default.createElement(d.default,a({title:o},this.props),t?i.default.createElement(s.FormattedMessage,{id:"auth.verifying"}):"spoke"===e?i.default.createElement(s.FormattedMessage,{className:"preformatted",id:"auth.spoke-verified"}):i.default.createElement(s.FormattedMessage,{className:"preformatted",id:"auth.verified"}))}}m.propTypes={intl:l.default.object,verifying:l.default.bool,authOrigin:l.default.string},t.default=(0,s.injectIntl)(m)},236:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(1),i=u(o),r=n(8),l=u(r),s=n(5);function u(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.Component{render(){return i.default.createElement(l.default,a({title:"Report an Issue"},this.props),i.default.createElement("span",null,i.default.createElement("p",null,"Need to report a problem?"),i.default.createElement("p",null,"You can file a"," ",i.default.createElement(s.WithHoverSound,null,i.default.createElement("a",{href:"https://github.com/mozilla/hubs/issues",target:"_blank",rel:"noopener noreferrer"},"GitHub Issue"))," ","or e-mail us for support at"," ",i.default.createElement(s.WithHoverSound,null,i.default.createElement("a",{href:"mailto:hubs@mozilla.com"},"hubs@mozilla.com"))),i.default.createElement("p",null,"You can also find us on"," ",i.default.createElement(s.WithHoverSound,null,i.default.createElement("a",{href:"https://discord.gg/XzrGUY8",target:"_blank",rel:"noopener noreferrer"},"Discord")))))}}},237:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(1),i=s(o),r=n(8),l=s(r);function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.Component{render(){return i.default.createElement(l.default,a({title:"Join Us"},this.props),i.default.createElement("span",null,i.default.createElement("p",null,"Join us in the"," ",i.default.createElement("a",{href:"https://discord.gg/XzrGUY8",target:"_blank",rel:"noopener noreferrer"},"Hubs community")," ","on Discord.",i.default.createElement("br",null)),i.default.createElement("p",null,"VR meetups every Friday at noon PDT!"),i.default.createElement("p",null,"You can also follow us on Twitter at"," ",i.default.createElement("a",{href:"https://twitter.com/mozillareality",target:"_blank",rel:"noopener noreferrer"},"@mozillareality"),".")))}}},238:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=f(a),i=n(6),r=n(0),l=f(r),s=n(239),u=f(s),d=n(8),c=f(d),m=n(5);function f(e){return e&&e.__esModule?e:{default:e}}class h extends a.Component{constructor(...e){var t;return t=super(...e),this.state={mailingListEmail:"",mailingListPrivacy:!1},t}render(){const e=this.props,{onSubmittedEmail:t}=e,n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["onSubmittedEmail"]);return o.default.createElement(c.default,n,o.default.createElement("span",null,o.default.createElement("p",null,"Sign up to get updates about new features in Hubs."),o.default.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),e.stopPropagation(),!this.state.mailingListPrivacy)return;const n={email:this.state.mailingListEmail,newsletters:"hubs",privacy:!0,fmt:"H",source_url:document.location.href};await fetch("https://www.mozilla.org/en-US/newsletter/",{body:(0,u.default)(n),method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"}}).then(t)}},o.default.createElement("div",{className:"mailing-list-form"},o.default.createElement(m.WithHoverSound,null,o.default.createElement("input",{type:"email",value:this.state.mailingListEmail,onChange:e=>this.setState({mailingListEmail:e.target.value}),className:"mailing-list-form__email_field",required:!0,placeholder:"Your email here"})),o.default.createElement("label",{className:"mailing-list-form__privacy"},o.default.createElement(m.WithHoverSound,null,o.default.createElement("input",{className:"mailing-list-form__privacy_checkbox",type:"checkbox",required:!0,value:this.state.mailingListPrivacy,onChange:e=>this.setState({mailingListPrivacy:e.target.checked})})),o.default.createElement("span",{className:"mailing-list-form__privacy_label"},o.default.createElement(i.FormattedMessage,{id:"mailing_list.privacy_label"})," ",o.default.createElement(m.WithHoverSound,null,o.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.mozilla.org/en-US/privacy/"},o.default.createElement(i.FormattedMessage,{id:"mailing_list.privacy_link"}))))),o.default.createElement(m.WithHoverSound,null,o.default.createElement("input",{className:"mailing-list-form__submit",type:"submit",value:"Sign Up Now"}))))))}}t.default=h,h.propTypes={onSubmittedEmail:l.default.func}},33:function(e,t,n){e.exports=n.p+"assets/images/hub-preview-light-no-shadow-5ebb166e8580d819b445892173ec0286.png"},38:function(e,t){},41:function(e,t){},42:function(e,t){},5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WithHoverSound=t.hudHoverSound=t.ReactAudioContext=void 0;var a=n(1),o=l(a),i=n(0),r=l(i);function l(e){return e&&e.__esModule?e:{default:e}}const s=t.ReactAudioContext=o.default.createContext({}),u=t.hudHoverSound="play_sound-hud_hover_start",d=t.WithHoverSound=(({sound:e,children:t})=>o.default.createElement(s.Consumer,null,n=>o.default.cloneElement(t,{onMouseEnter:a=>{n&&n.playSound&&n.playSound(e||u),t.props.onMouseEnter&&t.props.onMouseEnter(a)}})));d.propTypes={children:r.default.object,sound:r.default.string}},614:function(e,t){e.exports={"create-panel":"index__create-panel__3SLJv",createPanel:"index__create-panel__3SLJv",form:"index__form__3wis2","submit-button":"index__submit-button__10vAc",submitButton:"index__submit-button__10vAc","hero-content":"index__hero-content__11fJu",heroContent:"index__hero-content__11fJu","join-button":"index__join-button__S_dEy",joinButton:"index__join-button__S_dEy","spoke-button":"index__spoke-button__nz5fM",spokeButton:"index__spoke-button__nz5fM",name:"index__name__1JKhQ",environment:"index__environment__TS4zv",picker:"index__picker__2E0kT",labels:"index__labels__1OZs9","custom-button":"index__custom-button__A4NlI",customButton:"index__custom-button__A4NlI",controls:"index__controls__1GRAf",next:"index__next__1v7sv",prev:"index__prev__dEsO3",placeholder:"index__placeholder__wkO1N",container:"index__container__cs00S",image:"index__image__33Z_W",header:"index__header__3l7y7",title:"index__title__phJDi",author:"index__author__3oJCy",org:"index__org__1h2af",home:"index__home__3xkuf","main-content":"index__main-content__1L8Sf",mainContent:"index__main-content__1L8Sf",noninteractive:"index__noninteractive__3jQRs","header-content":"index__header-content__1XfPi",headerContent:"index__header-content__1XfPi","title-and-nav":"index__title-and-nav__23waG",titleAndNav:"index__title-and-nav__23waG",links:"index__links__p0Llg","video-container":"index__video-container__2Z1bb",videoContainer:"index__video-container__2Z1bb","background-video":"index__background-video__1XJJZ",backgroundVideo:"index__background-video__1XJJZ",attribution:"index__attribution__1yDe3",logo:"index__logo__2zl0D",create:"index__create__3xNFJ","footer-content":"index__footer-content__2GrlX",footerContent:"index__footer-content__2GrlX","moz-logo":"index__moz-logo__1ifwj",mozLogo:"index__moz-logo__1ifwj",top:"index__top__1gv9a",link:"index__link__ujnyC",bottom:"index__bottom__2Zyu1"}},619:function(e,t){e.exports={"create-panel":"hub-create__create-panel__3NB8T",createPanel:"hub-create__create-panel__3NB8T",form:"hub-create__form__3cSaW","submit-button":"hub-create__submit-button__1ORQo",submitButton:"hub-create__submit-button__1ORQo",name:"hub-create__name__1_3p3",environment:"hub-create__environment__3d3lC",picker:"hub-create__picker__1XpIu",labels:"hub-create__labels__3M6sX","custom-button":"hub-create__custom-button__3e_xn",customButton:"hub-create__custom-button__3e_xn",controls:"hub-create__controls__1Wzvm",next:"hub-create__next__2fBFz",prev:"hub-create__prev__2Lsmu",placeholder:"hub-create__placeholder__3IT6I",container:"hub-create__container__1w4Aa",image:"hub-create__image__34PjJ",header:"hub-create__header__3nyvB",title:"hub-create__title__W1cZe",author:"hub-create__author__2tL3T",org:"hub-create__org__2NuSZ"}},8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=s(a),i=n(0),r=s(i),l=n(5);function s(e){return e&&e.__esModule?e:{default:e}}class u extends a.Component{constructor(e){super(e),this.onContainerClicked=(e=>{this.props.closable&&e.currentTarget===e.target&&this.props.onClose()}),this.onKeyDown=this.onKeyDown.bind(this),this.onContainerClicked=this.onContainerClicked.bind(this)}componentDidMount(){window.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){window.removeEventListener("keydown",this.onKeyDown)}onKeyDown(e){this.props.closable&&"Escape"===e.key&&this.props.onClose()}render(){return o.default.createElement("div",{className:"dialog-overlay"},o.default.createElement("div",{className:"dialog",onClick:this.onContainerClicked},o.default.createElement("div",{className:"dialog__box"},o.default.createElement("div",{className:"dialog__box__contents"},this.props.closable&&this.props.onClose&&o.default.createElement(l.WithHoverSound,null,o.default.createElement("button",{className:"dialog__box__contents__close",onClick:this.props.onClose},o.default.createElement("span",null,"Ã—"))),o.default.createElement("div",{className:"dialog__box__contents__title"},this.props.title),o.default.createElement("div",{className:"dialog__box__contents__body"},this.props.children),o.default.createElement("div",{className:"dialog__box__contents__button-container"})))))}}t.default=u,u.propTypes={title:r.default.node,children:r.default.node.isRequired,onClose:r.default.func,closable:r.default.bool},u.defaultProps={closable:!0}},93:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playVideoWithStopOnBlur=function(e){function t(){document.hasFocus()?e.play():e.pause()}"hasFocus"in document&&(document.addEventListener("visibilitychange",t),window.addEventListener("focus",t),window.addEventListener("blur",t))}},94:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateHubName=function(){const e=e=>{const t=e[Math.floor(Math.random()*e.length)];return t.charAt(0).toUpperCase()+t.slice(1)};return`${e(a)} ${e(a)} ${e(o)}`};const a=["able","absolute","acceptable","acclaimed","accomplished","accurate","aching","acrobatic","adorable","adventurous","basic","belated","beloved","calm","candid","capital","carefree","caring","cautious","celebrated","charming","daring","darling","dearest","each","eager","early","earnest","easy","easygoing","ecstatic","edible","fabulous","fair","faithful","familiar","famous","fancy","fantastic","far","generous","gentle","genuine","giant","handmade","handsome","handy","happy","icy","ideal","identical","keen","lasting","lavish","magnificent","majestic","mammoth","marvelous","natural","obedient","palatable","parched","passionate","pastel","peaceful","perfect","perfumed","quaint","qualified","radiant","rapid","rare","safe","sandy","satisfied","scaly","scarce","scared","scary","scented","scientific","secret","sentimental","talkative","tangible","tart","tasty","tattered","teeming","ultimate","uncommon","unconscious","understated","warm","active","adept","admirable","admired","adorable","adored","advanced","affectionate","beneficial","best","better","big","cheerful","cheery","chief","chilly","classic","clean","clear","clever","decent","decisive","deep","defiant","definitive","delectable","delicious","elaborate","elastic","elated","elegant","elementary","elliptical","fast","favorable","favorite","fearless","gifted","glamorous","gleaming","glittering","harmonious","imaginative","immense","jealous","kind","leafy","legal","mature","mean","meaty","nautical","neat","necessary","needy","oddball","offbeat","periodic","perky","personal","pertinent","petty","quarterly","ready","real","realistic","reasonable","regal","serene","shabby","sharp","shiny","showy","shy","silky","tempting","tense","terrific","testy","thankful","uniform","unique","vast","weary","wee","welcome","agile","alarmed","alert","alive","bleak","blissful","blushing","coarse","colorful","colossal","comfortable","compassionate","complete","delightful","dense","dependable","dependent","descriptive","detailed","determined","devoted","different","eminent","emotional","enchanted","enchanting","energetic","enormous","fine","finished","firm","firsthand","fixed","flashy","flawless","glorious","glossy","golden","good","gorgeous","graceful","healthy","heartfelt","hearty","helpful","impartial","impressive","jolly","jovial","lighthearted","likable","lined","mellow","melodic","memorable","mild","new","opulent","playful","pleasant","pleasing","plump","plush","polished","polite","reliable","relieved","remarkable","remote","respectful","responsible","simple","simplistic","sizzling","sleepy","slight","slim","smart","smooth","snappy","snoopy","thirsty","this","thorough","those","thoughtful","united","vibrant","vicious","wellmade","whimsical","whirlwind","zesty","amazing","ambitious","ample","amused","amusing","ancient","angelic","antique","bold","bossy","both","bouncy","bountiful","complex","conscious","considerate","constant","content","conventional","cooked","cool","cooperative","diligent","dimwitted","direct","discrete","envious","essential","ethical","euphoric","flippant","fluffy","fluid","flustered","focused","fond","gracious","grand","grandiose","granular","grateful","grave","great","hidden","high","hilarious","homely","incomparable","incredible","infamous","joyful","lively","loathsome","lonely","long","milky","mindless","miniature","minor","misty","next","nice","nifty","nimble","orderly","organic","ornate","popular","posh","positive","potable","powerful","powerless","precious","present","prestigious","quick","rewarding","rich","right","sociable","soft","solid","some","sophisticated","soulful","sparkling","spectacular","speedy","spicy","spiffy","spirited","spiteful","splendid","spotless","spry","thrifty","tidy","tight","timely","tinted","unruly","untimely","violet","wicked","wide","wild","willing","winding","windy","zigzag","apprehensive","appropriate","artistic","assured","astonishing","bright","brilliant","bronze","coordinated","courageous","courteous","crafty","crazy","creamy","creative","crisp","distant","distinct","downright","evergreen","everlasting","every","evil","excellent","excitable","exemplary","exhausted","forthright","fortunate","fragrant","frank","free","frequent","fresh","friendly","frightened","frigid","gripping","grounded","honest","honorable","honored","hopeful","hospitable","hot","huge","infatuated","infinite","informal","insistent","instructive","juicy","jumbo","knowing","knowledgeable","longterm","loud","lovable","loving","modern","modest","moist","monumental","normal","notable","outgoing","precious","pretty","prickly","primary","pristine","private","prize","productive","profitable","quiet","quintessential","roasted","robust","square","squiggly","stable","staid","starry","steel","stimulating","striking","striped","strong","studious","stunning","tough","trained","treasured","tremendous","triangular","tricky","unused","unusual","upbeat","virtual","witty","wonderful","wooden","worldly","youthful","attached","attentive","attractive","austere","authentic","automatic","aware","awesome","bubbly","bustling","busy","buttery","cuddly","cultured","curly","curvy","cute","cylindrical","downright","dramatic","excited","exciting","exotic","experienced","expert","frosty","fruitful","full","fumbling","funny","fussy","growing","grown","gummy","humble","humongous","hungry","intelligent","interesting","known","kooky","kosher","loyal","lucky","luminous","lustrous","luxurious","multicolored","mysterious","noteworthy","numb","nutritious","outstanding","overjoyed","proper","proud","prudent","punctual","puny","pure","puzzled","puzzling","quirky","stupendous","sturdy","stylish","subdued","subtle","sunny","super","superb","supportive","surprised","sweet","swift","sympathetic","trivial","trusting","trustworthy","trusty","truthful","twin","usable","used","useful","utilized","vital","vivid","worried","worthwhile","worthy","writhing","wry","yummy","chocolate","crimson","cyan","fuchsia","gold","honeydew","lime","linen","magenta","olive","peru","salmon","seashell","sienna","snow","thistle","tomato","transparent","turquoise","violet"],o=["space","land","world","universe","plane","room","nation","plaza","gathering","meetup","get together","conclave","party","powwow","domain","dominion","realm","square","commons","park","cosmos","sphere","terrain","spot","zone","area","tract","turf","place","territory","volume","camp","picnic","outing","vacation","adventure","exploration","outing","walkabout","safari","venture","roundtable","barbecue","celebration","festivity","gala","shindig","social","convention","assembly","congregation","rendezvous","huddle","meet","soiree"]},95:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(1),i=c(o),r=n(0),l=c(r),s=n(8),u=c(s),d=n(5);function c(e){return e&&e.__esModule?e:{default:e}}const m="^[A-Za-z0-9-'\":!@#$%^&*(),.?~ ]{4,64}$";class f extends o.Component{constructor(...e){var t;return t=super(...e),this.state={customRoomName:"",customSceneUrl:""},t}render(){const e=this.props,{onCustomScene:t,onClose:n}=e,o=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["onCustomScene","onClose"]);return i.default.createElement(u.default,a({title:"Create a Room",onClose:n},o),i.default.createElement("div",null,this.props.includeScenePrompt?i.default.createElement("div",null,"Choose a name and GLTF URL for your room's scene:"):i.default.createElement("div",null,"Choose a name for your room:"),i.default.createElement("form",{onSubmit:()=>{t(this.state.customRoomName,this.state.customSceneUrl),n()}},i.default.createElement("div",{className:"custom-scene-form"},i.default.createElement("input",{type:"text",placeholder:"Room name",className:"custom-scene-form__link_field",value:this.state.customRoomName,pattern:m,title:"Invalid name, limited to 4 to 64 characters and limited symbols.",onChange:e=>this.setState({customRoomName:e.target.value}),required:!0}),this.props.includeScenePrompt&&i.default.createElement("input",{type:"url",placeholder:"URL to Scene GLTF or GLB (Optional)",className:"custom-scene-form__link_field",value:this.state.customSceneUrl,onChange:e=>this.setState({customSceneUrl:e.target.value})}),i.default.createElement("div",{className:"custom-scene-form__buttons"},i.default.createElement(d.WithHoverSound,null,i.default.createElement("button",{className:"custom-scene-form__action-button"},i.default.createElement("span",null,"Create Room"))))))))}}t.default=f,f.propTypes={includeScenePrompt:l.default.bool,onCustomScene:l.default.func,onClose:l.default.func}}});
//# sourceMappingURL=index-de0d18c247c85995a374.js.map