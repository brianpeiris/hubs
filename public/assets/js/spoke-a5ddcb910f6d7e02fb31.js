!function(e){function t(t){for(var a,s,i=t[0],l=t[1],d=t[2],c=0,p=[];c<i.length;c++)s=i[c],n[s]&&p.push(n[s][0]),n[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(u&&u(t);p.length;)p.shift()();return r.push.apply(r,d||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],a=!0,i=1;i<o.length;i++){var l=o[i];0!==n[l]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=o[0]))}return e}var a={},n={6:0},r=[];function s(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=a,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(o,a,function(t){return e[t]}.bind(null,a));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var u=l;r.push([544,0]),o()}({15:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){r.default.config("https://013d6a364fed43cdb0539a61d520597a@sentry.prod.mozaws.net/370").install()};var a,n=o(40),r=(a=n,a&&a.__esModule?a:{default:a})},16:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.messages=t.lang=void 0;var a,n=o(17),r=(a=n,a&&a.__esModule?a:{default:a});const s=(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage).toLowerCase().split(/[_-]+/)[0],i=t.lang=r.default[s]&&s||"en";t.messages=r.default[i]||r.default.en},17:function(e){e.exports={en:{"auth.verifying":"Verifying...","auth.verified-title":"E-Mail Verified!","auth.verified":"Your email has been verified!\nYou can now close this browser tab and return to Hubs.","auth.spoke-verified":"You email has been verified!\nYou can now close this browser tab and return to Spoke.","sign-in.prompt":"Sign in to pin objects in rooms.","sign-in.auth-started":"Email sent!\nWaiting for you to click on the link in the email...","sign-in.pin":"You'll need to sign in to pin objects.","sign-in.pin-complete":"You are now signed in.","sign-in.as":"Signed in as","sign-in.in":"Sign In","sign-in.out":"Sign Out","entry.enter-room-title":"Lobby","entry.enter-room":"Enter Room","entry.screen-prefix":"Enter on ","entry.desktop-screen":"Screen","entry.mobile-screen":"Phone","entry.mobile-safari":"Safari","entry.generic-prefix":" ","entry.generic-medium":"Connected Headset","entry.generic-subtitle-desktop":"Oculus or SteamVR","entry.gearvr-prefix":"Enter on ","entry.gearvr-medium":"Gear VR","entry.choose-device":"Choose Device","entry.device-prefix-desktop":" ","entry.device-prefix-mobile":" ","entry.device-medium":"Mobile Headset","entry.device-subtitle-desktop":"Standalone or Mobile VR","entry.device-subtitle-mobile":"Standalone or Mobile VR","entry.device-subtitle-vr":"Phone or PC","entry.cardboard":"Enter on Google Cardboard","entry.daydream-prefix":"Enter on ","entry.daydream-medium":"Daydream","entry.daydream-via-chrome":"Using Google Chrome","entry.invite-others":"invite others","entry.invite-others-nag":"invite","entry.invite-team-nag":"Invite a hubs team member","entry.enable-screen-sharing":"Share my desktop","entry.return-to-vr":"Return to VR","entry.enter-in-vr":"Enter in VR","entry.lobby":"Lobby","entry.notify_me":"Notify me when others are here","profile.save":"Accept","profile.display_name.validation_warning":"Alphanumerics and hyphens. At least 3 characters, no more than 32","profile.header":"Name & Avatar","profile.avatar-selector.loading":"Loading Avatars...","profile.terms_of_use":"Terms of Use","profile.privacy_notice":"Privacy Notice","audio.title":"Audio Setup","audio.subtitle-desktop":"Confirm HMD speaker output","audio.subtitle-mobile":"Earphones are recommended","audio.enter-now":"Enter Now","audio.hmd-mic-warning":"Your HMD mic is not chosen","audio.grant-title":"Grant mic permissions","audio.grant-subtitle":"Mic access needed to be heard by others","audio.granted-title":"Mic permissions granted","audio.granted-subtitle":"You can still mute yourself in-game","audio.granted-next":"Next","exit.subtitle.exited":"Your session has ended. Refresh your browser to start a new one.","exit.subtitle.closed":"This room is no longer available.","exit.subtitle.left":"You have left the room.","exit.subtitle.full":"This room is full, please try again later.","exit.subtitle.connect_error":"Unable to connect to this room, please try again later.","exit.subtitle.version_mismatch":"The version you deployed is not available yet. Your browser will refresh in 5 seconds.","autoexit.title":"Auto-ending session in ","autoexit.title_units":" seconds","autoexit.subtitle":"You have started another session.","autoexit.cancel":"CANCEL","presence.entered_room":"entered the room.","presence.entered_lobby":"entered the lobby.","presence.join_lobby":"joined the lobby.","presence.leave":"left.","presence.name_change":"is now known as","presence.in_lobby":"Lobby","presence.in_room":"In Room","home.room_create_options":"options","home.room_create_button":"Create Room","home.create_name.validation_warning":"Invalid name, limited to 4 to 64 characters and limited symbols.","home.join_us":"Join the Conversation","home.join_room":"Join Room","home.create_with_spoke":"Create a Scene","home.report_issue":"Report Issues","home.source_link":"Source","home.whats_new_link":"What's New","home.spoke_link":"Spoke","home.about_link":"About","home.community_link":"Community","home.privacy_notice":"Privacy Notice","home.terms_of_use":"Terms of Use","home.get_updates":"Get Updates","home.hero_title":"A new way to get together","home.made_with_love":"made with ðŸ¦† by ","home.environment_author_by":" by ","dialog.close":"close","mailing_list.privacy_label":"I'm okay with Mozilla handling my info as explained in","mailing_list.privacy_link":"this Privacy Notice","link.link_page_header_entry":"Enter your code:","link.link_page_header_headset":"Enter headset link code:","link.linking_a_headset":"Linking a Headset?","link.try_again":"We couldn't find that code.\nPlease try again.","help.report_issue":"Report an Issue","scene.logo_tagline":"A new way to get together","scene.create_button":"Create a room with this scene","scene.tweet_button":"Share on Twitter","link.in_your_browser":"In your headset's browser, go to:","link.enter_code":"Then, enter this one-time link code:","link.do_not_close":"Keep this open to use this code.","link.connect_headset":"Link VR Headset","link.cancel":"cancel","invite.enter_via":"Enter via ","invite.tweet":"tweet","invite.and_enter_code":" with code:","invite.or_visit":"or share permalink","spoke.primary_tagline":"make your space","spoke.secondary_tagline":"Create 3D social scenes for ","spoke.thank_you":"Thank you for downloading Spoke!","spoke.download_win":"Download for Windows","spoke.download_macos":"Download for Mac","spoke.download_linux":"Download for Linux","spoke.download_unsupported":"View Releases","spoke.browse_all_versions":"Browse All Versions","spoke.beginner_tutorial_button":"Learn Spoke in 5 Minutes","spoke.advanced_tutorial_button":"Advanced Spoke in 10 minutes","spoke.play_button":"Learn Spoke in 5 Minutes","commands.fly":"Toggle fly mode.","commands.grow":"Increase your avatar's size.","commands.shrink":"Decrease your avatar's size.","commands.help":"Show help.","commands.leave":"Disconnect from the room.","commands.duck":"The duck tested well. Quack.","video_share.notify":"Select again to un-share video."}}},38:function(e,t){},41:function(e,t){},42:function(e,t){},544:function(e,t,o){"use strict";var a=o(26),n=S(a),r=o(1),s=S(r),i=o(93),l=o(6),d=o(686),u=S(d),c=o(545),p=S(c),m=o(546),_=S(m),f=o(547),h=S(f),y=o(548),g=S(y),v=o(15),k=S(v),b=o(43),w=S(b),E=o(16);function S(e){return e&&e.__esModule?e:{default:e}}(0,k.default)(),(0,l.addLocaleData)([...w.default]);class M extends r.Component{constructor(e){super(e),this.tryGetJson=(async e=>{const t=await e.text();try{return JSON.parse(t)}catch(o){console.log(`JSON error parsing response from ${e.url} "${t}"`,o)}}),this.getDownloadUrlForPlatform=((e,t)=>e.find(e=>e.name.includes(t)).downloadUrl),this.fetchReleases=(async()=>{const e=await fetch("https://api.github.com/graphql",{timeout:5e3,method:"POST",headers:{authorization:"bearer de8cbfb4cc0281c7b731c891df431016c29b0ace"},body:JSON.stringify({query:'\n          {\n            repository(owner: "mozillareality", name: "spoke") {\n              releases(\n                orderBy: { field: CREATED_AT, direction: DESC },\n                first: 5\n              ) {\n                nodes {\n                  isPrerelease,\n                  isDraft,\n                  tag { name },\n                  releaseAssets(last: 3) {\n                    nodes { name, downloadUrl }\n                  }\n                },\n                pageInfo { endCursor, hasNextPage }\n              }\n            }\n          }\n        '})}).then(this.tryGetJson);if(!e||!e.data)return void this.setState({platform:"unsupported"});const t=e.data.repository.releases,o=t.nodes.find(e=>/*!release.isPrerelease && */!e.isDraft);o?this.setState({downloadLinkForCurrentPlatform:this.getDownloadUrlForPlatform(o.releaseAssets.nodes,this.state.platform),spokeVersion:o.tag.name}):this.setState({platform:"unsupported"})}),this.state={platform:function(){const e=window.navigator.platform;return["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(e)>=0?"macos":["Win32","Win64","Windows"].indexOf(e)>=0?"win":/Linux/.test(e)&&!/\WAndroid\W/.test(navigator.userAgent)?"linux":"unsupported"}(),downloadClicked:!1,downloadLinkForCurrentPlatform:{},showPlayer:!1,playerVideoId:"WmQKZJPhV7s"}}componentDidMount(){this.loadVideo(),this.fetchReleases()}loadVideo(){const e=document.querySelector("#preview-video");(0,i.playVideoWithStopOnBlur)(e)}render(){const e=this.state.platform,t="https://github.com/MozillaReality/Spoke/releases/latest",o="unsupported"===e?t:this.state.downloadLinkForCurrentPlatform;return s.default.createElement(l.IntlProvider,{locale:E.lang,messages:E.messages},s.default.createElement("div",{className:u.default.ui},s.default.createElement("div",{className:u.default.header},s.default.createElement("div",{className:u.default.headerLinks},s.default.createElement("a",{href:"https://github.com/mozillareality/spoke",rel:"noopener noreferrer"},s.default.createElement(l.FormattedMessage,{id:"home.source_link"})),s.default.createElement("a",{href:"https://discord.gg/XzrGUY8",rel:"noreferrer noopener"},s.default.createElement(l.FormattedMessage,{id:"home.community_link"})),s.default.createElement("a",{href:"/",rel:"noreferrer noopener"},"Hubs"))),s.default.createElement("div",{className:u.default.content},s.default.createElement("div",{className:u.default.heroPane},s.default.createElement("div",{className:u.default.heroMessage},s.default.createElement("div",{className:u.default.spokeLogo},s.default.createElement("img",{src:p.default}),s.default.createElement("div",{className:u.default.primaryTagline},s.default.createElement(l.FormattedMessage,{id:"spoke.primary_tagline"}))),s.default.createElement("div",{className:u.default.secondaryTagline},s.default.createElement(l.FormattedMessage,{id:"spoke.secondary_tagline"}),s.default.createElement("a",{style:{fontWeight:"bold"},href:"/"},"Hubs")),s.default.createElement("div",{className:u.default.actionButtons},this.state.downloadClicked?s.default.createElement("div",{className:u.default.thankYou},s.default.createElement("p",null,s.default.createElement(l.FormattedMessage,{id:"spoke.thank_you"})),s.default.createElement("p",null,"You can also ",s.default.createElement("a",{href:"https://discord.gg/XzrGUY8/"},"join our community")," on Discord.")):s.default.createElement("a",{href:o,onClick:()=>this.setState({downloadClicked:"unsupported"!==e}),className:u.default.downloadButton},s.default.createElement("div",null,s.default.createElement(l.FormattedMessage,{id:"spoke.download_"+this.state.platform})),"unsupported"!==e&&s.default.createElement("div",{className:u.default.version},this.state.spokeVersion," Beta")),"unsupported"!==e&&!this.state.downloadClicked&&s.default.createElement("a",{href:t,className:u.default.browseVersions},s.default.createElement(l.FormattedMessage,{id:"spoke.browse_all_versions"})),s.default.createElement("div",{className:u.default.tutorialButtons},s.default.createElement("button",{className:u.default.playButton,onClick:()=>this.setState({showPlayer:!0,playerVideoId:"WmQKZJPhV7s"})},s.default.createElement(l.FormattedMessage,{id:"spoke.beginner_tutorial_button"})),s.default.createElement("button",{className:u.default.playButton,onClick:()=>this.setState({showPlayer:!0,playerVideoId:"1Yg5x4Plz_4"})},s.default.createElement(l.FormattedMessage,{id:"spoke.advanced_tutorial_button"}))))),s.default.createElement("div",{className:u.default.heroVideo},s.default.createElement("video",{playsInline:!0,muted:!0,loop:!0,autoPlay:!0,className:u.default.previewVideo,id:"preview-video"},s.default.createElement("source",{src:_.default,type:"video/mp4"}),s.default.createElement("source",{src:h.default,type:"video/webm"})),s.default.createElement("div",{className:u.default.attribution},"Low Poly Campfire by Minzkraut")))),s.default.createElement("div",{className:u.default.bg}),this.state.showPlayer&&s.default.createElement("div",{className:u.default.playerOverlay},s.default.createElement("div",{className:u.default.playerContent},s.default.createElement(g.default,{className:u.default.playerVideo,opts:{rel:0},videoId:this.state.playerVideoId,onReady:e=>e.target.playVideo()}),"unsupported"!==e&&s.default.createElement("a",{href:o,className:u.default.downloadButton},s.default.createElement("div",null,s.default.createElement(l.FormattedMessage,{id:"spoke.download_"+this.state.platform})),s.default.createElement("div",{className:u.default.version},this.state.spokeVersion," Beta")),s.default.createElement("a",{onClick:()=>this.setState({showPlayer:!1}),className:u.default.closeVideo},s.default.createElement(l.FormattedMessage,{id:"dialog.close"}))))))}}M.propTypes={},document.addEventListener("DOMContentLoaded",()=>{n.default.render(s.default.createElement(M,null),document.getElementById("ui-root"))})},545:function(e,t,o){e.exports=o.p+"assets/images/spoke_logo-0f31c269b98a922ea80ceb8f624031c0.png"},546:function(e,t,o){e.exports=o.p+"assets/video/spoke-f57843371d4ad61d7877c55968d09dae.mp4"},547:function(e,t,o){e.exports=o.p+"assets/video/spoke-f41e5fd877481a1b7c204cf99bc9bf85.webm"},686:function(e,t){e.exports={"download-button":"spoke__download-button__1TiaZ",downloadButton:"spoke__download-button__1TiaZ","play-button":"spoke__play-button__2GBOE",playButton:"spoke__play-button__2GBOE","close-video":"spoke__close-video__3BaBV",closeVideo:"spoke__close-video__3BaBV",bg:"spoke__bg__bnhzt",ui:"spoke__ui__3SkGF",content:"spoke__content__cuTYB",header:"spoke__header__gmRYo","header-links":"spoke__header-links__13b3m",headerLinks:"spoke__header-links__13b3m","hero-pane":"spoke__hero-pane__220zQ",heroPane:"spoke__hero-pane__220zQ","spoke-logo":"spoke__spoke-logo__7laRd",spokeLogo:"spoke__spoke-logo__7laRd","primary-tagline":"spoke__primary-tagline__16Nd4",primaryTagline:"spoke__primary-tagline__16Nd4","secondary-tagline":"spoke__secondary-tagline__24UiL",secondaryTagline:"spoke__secondary-tagline__24UiL","hero-message":"spoke__hero-message__2h2gR",heroMessage:"spoke__hero-message__2h2gR","hero-video":"spoke__hero-video__2WkkA",heroVideo:"spoke__hero-video__2WkkA","preview-video":"spoke__preview-video__aSe4o",previewVideo:"spoke__preview-video__aSe4o",version:"spoke__version__2wVg1","tutorial-buttons":"spoke__tutorial-buttons__1x5Ke",tutorialButtons:"spoke__tutorial-buttons__1x5Ke","browse-versions":"spoke__browse-versions__2hDU6",browseVersions:"spoke__browse-versions__2hDU6","thank-you":"spoke__thank-you__2I3E1",thankYou:"spoke__thank-you__2I3E1","player-overlay":"spoke__player-overlay__3oBSD",playerOverlay:"spoke__player-overlay__3oBSD","player-content":"spoke__player-content__l6070",playerContent:"spoke__player-content__l6070","player-video":"spoke__player-video__PzO4t",playerVideo:"spoke__player-video__PzO4t",attribution:"spoke__attribution__2jTC8"}},93:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playVideoWithStopOnBlur=function(e){function t(){document.hasFocus()?e.play():e.pause()}"hasFocus"in document&&(document.addEventListener("visibilitychange",t),window.addEventListener("focus",t),window.addEventListener("blur",t))}}});
//# sourceMappingURL=spoke-a5ddcb910f6d7e02fb31.js.map